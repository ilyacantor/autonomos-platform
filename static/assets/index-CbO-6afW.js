const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LiveSankeyGraph-PUKEK92f.js","assets/d3-vendor-BvNdi-GT.js","assets/react-vendor-BdZgHC1P.js"])))=>i.map(i=>d[i]);
import{r as qe,a as ut}from"./react-vendor-BdZgHC1P.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}})();var fe={exports:{}},Z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e;function pt(){if(_e)return Z;_e=1;var t=qe(),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function s(x,m,v){var k,b={},h=null,p=null;v!==void 0&&(h=""+v),m.key!==void 0&&(h=""+m.key),m.ref!==void 0&&(p=m.ref);for(k in m)o.call(m,k)&&!d.hasOwnProperty(k)&&(b[k]=m[k]);if(x&&x.defaultProps)for(k in m=x.defaultProps,m)b[k]===void 0&&(b[k]=m[k]);return{$$typeof:i,type:x,key:h,ref:p,props:b,_owner:a.current}}return Z.Fragment=n,Z.jsx=s,Z.jsxs=s,Z}var Me;function yt(){return Me||(Me=1,fe.exports=pt()),fe.exports}var e=yt(),r=qe(),xe={},De;function ft(){if(De)return xe;De=1;var t=ut();return xe.createRoot=t.createRoot,xe.hydrateRoot=t.hydrateRoot,xe}var bt=ft();const Be=r.createContext(void 0);function vt({children:t}){const[i,n]=r.useState("Auto (Guardrails)"),[o,a]=r.useState(!1),[d,s]=r.useState(!1);return e.jsx(Be.Provider,{value:{autonomyMode:i,setAutonomyMode:n,isModalOpen:o,setIsModalOpen:a,legacyMode:d,setLegacyMode:s},children:t})}function we(){const t=r.useContext(Be);if(t===void 0)throw new Error("useAutonomy must be used within an AutonomyProvider");return t}const be=window.location.origin,R={BASE_URL:be,buildApiUrl:t=>`${be}/api/v1${t}`,buildDclUrl:t=>`${be}/dcl${t}`},q="aoa_jwt",He=[{id:"1",name:"Dynamics CRM",value:"dynamics",type:"CRM",status:"connected",description:"Customer relationship management"},{id:"2",name:"Salesforce",value:"salesforce",type:"CRM",status:"connected",description:"Cloud-based CRM platform"},{id:"3",name:"HubSpot",value:"hubspot",type:"CRM",status:"connected",description:"Marketing and sales platform"},{id:"4",name:"SAP ERP",value:"sap",type:"ERP",status:"connected",description:"Enterprise resource planning"},{id:"5",name:"NetSuite",value:"netsuite",type:"ERP",status:"connected",description:"Cloud ERP system"},{id:"6",name:"Legacy SQL",value:"legacy_sql",type:"Database",status:"connected",description:"On-premise SQL database"},{id:"7",name:"Snowflake",value:"snowflake",type:"Warehouse",status:"connected",description:"Cloud data warehouse"},{id:"8",name:"Supabase",value:"supabase",type:"Database",status:"connected",description:"Open source database platform"},{id:"9",name:"MongoDB",value:"mongodb",type:"Database",status:"connected",description:"NoSQL document database"}],Ge=[{id:"2",name:"Salesforce",value:"salesforce",type:"CRM",status:"connected",description:"Cloud-based CRM platform"},{id:"8",name:"Supabase",value:"supabase",type:"Database",status:"connected",description:"Open source database platform"},{id:"9",name:"MongoDB",value:"mongodb",type:"Database",status:"connected",description:"NoSQL document database"},{id:"10",name:"FileSource",value:"filesource",type:"Database",status:"connected",description:"File-based data sources"}],We=[{id:"1",name:"RevOps Pilot",value:"revops_pilot",description:"Revenue operations intelligence agent"},{id:"2",name:"FinOps Pilot",value:"finops_pilot",description:"Financial operations intelligence agent"}],Y=()=>He.map(t=>t.value),me=()=>Ge.map(t=>t.value),Ve=()=>We.map(t=>t.value),ve=()=>{let t=!1,i=!1;try{const n=localStorage.getItem("aos.selectedSources");if(!n)t=!0;else{const o=JSON.parse(n);(!Array.isArray(o)||o.length===0)&&(t=!0)}}catch{t=!0}try{const n=localStorage.getItem("aos.selectedAgents");if(!n)i=!0;else{const o=JSON.parse(n);(!Array.isArray(o)||o.length===0)&&(i=!0)}}catch{i=!0}if(t){const n=Y();localStorage.setItem("aos.selectedSources",JSON.stringify(n)),console.log("[DCL Defaults] Initialized all sources:",n)}if(i){const n=Ve();localStorage.setItem("aos.selectedAgents",JSON.stringify(n)),console.log("[DCL Defaults] Initialized all agents:",n)}},Ne=()=>{try{const t=localStorage.getItem("aos.selectedSources");if(t){const i=JSON.parse(t);if(Array.isArray(i)&&i.length>0)return i}}catch(t){console.error("[DCL Defaults] Failed to parse saved sources:",t)}return Y()},ge=()=>{try{const t=localStorage.getItem("aos.selectedAgents");if(t){const i=JSON.parse(t);if(Array.isArray(i)&&i.length>0)return i}}catch(t){console.error("[DCL Defaults] Failed to parse saved agents:",t)}return Ve()},X="auth_token_expiry",Le=1800*1e3,Je=r.createContext(void 0);function jt({children:t}){const[i,n]=r.useState(null),[o,a]=r.useState(null),[d,s]=r.useState(!0),x=r.useCallback(()=>{localStorage.removeItem(q),localStorage.removeItem(X),a(null),n(null)},[]),m=r.useCallback(()=>{const h=localStorage.getItem(q),p=localStorage.getItem(X);if(!h)return!1;if(!p)return console.log("[Auth] Legacy token without expiry found, logging out..."),x(),!1;const u=parseInt(p,10);return Date.now()>=u?(console.log("[Auth] Token expired after 30 minutes, logging out..."),x(),!1):!0},[x]);r.useEffect(()=>{const h=localStorage.getItem(q);h&&m()?(ve(),a(h),v(h)):s(!1);const p=()=>{console.log("[Auth] Received unauthorized event, logging out..."),x()};return window.addEventListener("auth:unauthorized",p),()=>{window.removeEventListener("auth:unauthorized",p)}},[m,x]);const v=async h=>{try{const p=await fetch(R.buildApiUrl("/auth/me"),{headers:{Authorization:`Bearer ${h}`}});if(p.ok){const u=await p.json();n(u)}else p.status===401?(console.log("[Auth] 401 on profile fetch, logging out..."),x()):(localStorage.removeItem(q),localStorage.removeItem(X),a(null))}catch(p){console.error("Failed to fetch user profile:",p),x()}finally{s(!1)}},k=async(h,p)=>{const u=await fetch(R.buildApiUrl("/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:p})});if(!u.ok){const L=await u.json();throw new Error(L.detail||"Invalid credentials")}const N=await u.json(),f=N.access_token||N.token,_=Date.now()+Le;localStorage.setItem(q,f),localStorage.setItem(X,_.toString()),a(f),ve(),await v(f)},b=async(h,p,u)=>{const N=await fetch(R.buildApiUrl("/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,email:p,password:u})});if(!N.ok){const z=await N.json();throw new Error(z.detail||"Registration failed")}const f=await N.json(),_=f.access_token||f.token,L=Date.now()+Le;localStorage.setItem(q,_),localStorage.setItem(X,L.toString()),a(_),ve(),await v(_)};return e.jsx(Je.Provider,{value:{user:i,token:o,isAuthenticated:!!o,isLoading:d,login:k,register:b,logout:x},children:t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),j=(t,i)=>{const n=r.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:s,className:x="",children:m,...v},k)=>r.createElement("svg",{ref:k,...Nt,width:a,height:a,stroke:o,strokeWidth:s?Number(d)*24/Number(a):d,className:["lucide",`lucide-${wt(t)}`,x].join(" "),...v},[...i.map(([b,h])=>r.createElement(b,h)),...Array.isArray(m)?m:[m]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=j("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=j("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=j("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=j("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=j("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=j("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=j("Cable",[["path",{d:"M4 9a2 2 0 0 1-2-2V5h6v2a2 2 0 0 1-2 2Z",key:"1s6oa5"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M7 5V3",key:"1t1388"}],["path",{d:"M19 15V6.5a3.5 3.5 0 0 0-7 0v11a3.5 3.5 0 0 1-7 0V9",key:"1ytv72"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M22 19h-6v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Z",key:"sdz6o8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=j("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=j("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=j("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=j("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=j("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=j("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=j("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=j("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=j("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=j("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=j("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=j("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=j("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=j("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=j("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=j("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=j("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=j("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=j("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=j("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=j("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=j("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=j("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=j("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=j("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=j("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=j("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=j("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=j("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=j("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=j("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=j("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=j("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=j("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=j("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=j("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=j("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function $e(){const{autonomyMode:t,setAutonomyMode:i}=we(),[n,o]=r.useState(!1),a=["Observe","Recommend","Approve-to-Act","Auto (Guardrails)","Federated (xAO)"],d=s=>{i(s),o(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!n),className:"flex items-center gap-2 px-3 h-10 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg transition-colors",title:"Autonomy Mode controls how AutonomOS manages itself. 'Auto (Guardrails)' allows self-directed agent decisions within preset boundaries, while 'Manual' requires human confirmation for major actions.",children:[e.jsx(qt,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Autonomy Mode"}),e.jsx("div",{className:"text-sm font-medium text-slate-200 truncate",children:t})]}),e.jsx(pe,{className:"w-4 h-4 text-slate-400 flex-shrink-0"})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-3 py-2 text-xs text-slate-500 tracking-wider border-b border-slate-700 mb-2",children:"Select Autonomy Mode"}),a.map(s=>e.jsxs("button",{onClick:()=>d(s),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${t===s?"bg-cyan-600 text-white":"text-slate-300 hover:bg-slate-700"}`,children:[e.jsx("div",{className:"font-medium",children:s}),e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:[s==="Observe"&&"Monitor only, no actions",s==="Recommend"&&"Suggest actions for review",s==="Approve-to-Act"&&"Require approval before execution",s==="Auto (Guardrails)"&&"Autonomous with safety limits",s==="Federated (xAO)"&&"Cross-enterprise orchestration"]})]},s))]})})]})]})}const Qt="/assets/autonomos-logo-CqGBsnEG.png";function Kt({onAuthOpen:t,currentPage:i,onNavigate:n}){const[o,a]=r.useState(!1),[d]=r.useState(!0),s=[{id:"control-center",label:"Control Center",icon:e.jsx(Rt,{className:"w-5 h-5"})},{id:"discover",label:"Discovery",icon:e.jsx(ue,{className:"w-5 h-5"})},{id:"connect",label:"Connections",icon:e.jsx(Ct,{className:"w-5 h-5"}),tooltip:"AAM Connect - Self-healing data connectivity"},{id:"ontology",label:"Ontology",icon:e.jsx(Xe,{className:"w-5 h-5"})},{id:"orchestration",label:"Orchestration",icon:e.jsx(T,{className:"w-5 h-5"})},{id:"agents",label:"Agents",icon:e.jsx(T,{className:"w-5 h-5"})},{id:"faq",label:"FAQ",icon:e.jsx(Ze,{className:"w-5 h-5"})}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center px-4 sm:px-6 gap-3 sm:gap-6 safe-x",children:[e.jsx("div",{className:"flex-shrink-0 -ml-[10px]",children:e.jsx("button",{onClick:()=>n("control-center"),className:"hover:opacity-80 transition-opacity cursor-pointer",children:e.jsx("img",{src:Qt,alt:"autonomOS",className:"h-[36px] sm:h-[42px] object-contain"})})}),e.jsx("nav",{className:"hidden sm:flex flex-1 items-center gap-1",children:s.map(x=>e.jsxs("button",{onClick:()=>n(x.id),title:x.tooltip,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all flex-shrink-0 touch-target-h ${i===x.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"} ${x.id==="faq"?"ring-2 ring-[#0BCAD9]/50 shadow-lg shadow-[#0BCAD9]/30 animate-pulse":""}`,children:[x.icon,e.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:x.label})]},x.id))}),e.jsx("div",{className:"flex-1 sm:hidden"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx($e,{})}),e.jsx("div",{className:"relative",children:e.jsxs("button",{className:"p-2 hover:bg-gray-800 rounded-lg transition-colors relative touch-target mobile-tap-highlight",children:[e.jsx(St,{className:"w-5 h-5 text-gray-400"}),d&&e.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>t("login"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-200 transition-colors touch-target-h mobile-tap-highlight",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Login"})]}),e.jsxs("button",{onClick:()=>t("signup"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors touch-target-h mobile-tap-highlight",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Sign Up"})]})]}),e.jsx("button",{onClick:()=>a(!o),className:"sm:hidden p-2 hover:bg-gray-800 rounded-lg transition-colors touch-target mobile-tap-highlight",children:o?e.jsx(ke,{className:"w-6 h-6 text-gray-400"}):e.jsx(Pt,{className:"w-6 h-6 text-gray-400"})})]})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 sm:hidden",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed top-16 right-0 bottom-0 w-64 bg-gray-900 border-l border-gray-800 z-50 sm:hidden safe-x safe-bottom",children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsx("nav",{className:"flex flex-col gap-2 mb-6",children:s.map(x=>e.jsxs("button",{onClick:()=>{n(x.id),a(!1)},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all touch-target-h mobile-tap-highlight ${i===x.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"} ${x.id==="faq"?"ring-2 ring-[#0BCAD9]/50 shadow-lg shadow-[#0BCAD9]/30 animate-pulse":""}`,children:[x.icon,e.jsx("span",{className:"font-medium text-base",children:x.label})]},x.id))}),e.jsxs("div",{className:"border-t border-gray-800 pt-4 mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2 px-2",children:"Autonomy Mode"}),e.jsx($e,{})]}),e.jsx("div",{className:"border-t border-gray-800 pt-4 mt-auto",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>{t("login"),a(!1)},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-200 transition-colors touch-target-h mobile-tap-highlight justify-center",children:[e.jsx(Pe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Login"})]}),e.jsxs("button",{onClick:()=>{t("signup"),a(!1)},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors touch-target-h mobile-tap-highlight justify-center",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Sign Up"})]})]})})]})})]})]})}function Yt({children:t,currentPage:i,onNavigate:n,onAuthOpen:o}){return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-950",children:[e.jsx(Kt,{onAuthOpen:o,currentPage:i,onNavigate:n}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"p-6",children:t})})]})}function ae({status:t,tooltip:i,className:n=""}){return t==="live"?e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-500/10 border border-green-500/30 ${n}`,title:i||"Live data from backend services",role:"status","aria-label":"Live data indicator",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse","aria-hidden":"true"}),e.jsx("span",{className:"text-xs font-medium text-green-400",children:"Live"})]}):null}const Zt={"nlp-gateway":{status:"live",tooltip:"Connected to backend NLP services with real-time API responses"},"aam-monitor":{status:"live",tooltip:"Live AAM metrics from backend connectors and event streams"},"aam-connections":{status:"live",tooltip:"Real-time connection status from backend AAM service"},"aam-events":{status:"live",tooltip:"Live event stream from AAM monitoring"},"aam-intelligence":{status:"live",tooltip:"Real-time drift detection and repair metrics from AAM"},"dcl-graph":{status:"live",tooltip:"Live unified ontology from backend DCL engine"},"dcl-sankey":{status:"live",tooltip:"Real-time data flow visualization from DCL materialized views"},"aod-dashboard":{status:"live",tooltip:"Live external AOD Dashboard (aos-discover.replit.app)"},"finops-agent":{status:"live",tooltip:"Live FinOps agent demo (axiom-finops-demo.replit.app)"},"revops-agent":{status:"live",tooltip:"Live RevOps agent demo (autonomos-dcl-light.replit.app)"},"aoa-status":{status:"demo",tooltip:"Simulated orchestration metrics with client-side animations"},"agent-performance":{status:"demo",tooltip:"Mock agent performance data for demonstration purposes"},"xao-metrics":{status:"demo",tooltip:"Demo cross-agentic orchestration metrics"},"hitl-queue":{status:"demo",tooltip:"Static demonstration data for HITL workflow"},"discover-stats":{status:"demo",tooltip:"Fixed demo statistics for asset discovery pipeline"},"discover-pipeline":{status:"demo",tooltip:"Demo pipeline metrics showing typical processing flow"},"discover-triage":{status:"demo",tooltip:"Example HITL triage categories with static counts"},"discover-catalog":{status:"demo",tooltip:"Sample catalogued inventory data"},"discover-action-log":{status:"demo",tooltip:"Demo automated action log with sample events"}};function re(t){return Zt[t]}function Xt(){const[t,i]=r.useState([]),[n,o]=r.useState(""),[a,d]=r.useState(!1),[s,x]=r.useState("kb"),m=[{id:"kb",name:"Knowledge Base",icon:Ee,endpoint:"/v1/kb/search"},{id:"finops",name:"FinOps",icon:Dt,endpoint:"/v1/finops/summary"},{id:"revops",name:"RevOps",icon:Qe,endpoint:"/v1/revops/incident"},{id:"aod",name:"Discovery",icon:Xe,endpoint:"/v1/aod/dependencies"},{id:"aam",name:"Connectors",icon:W,endpoint:"/v1/aam/connectors"}],v=[{text:"Show me the FinOps summary for this month",service:"finops"},{text:"How does the AAM connector system work?",service:"kb"},{text:"What are the current drifted connectors?",service:"aam"},{text:"Show me dependencies for checkout-service",service:"aod"}],k=async p=>{if(p.preventDefault(),!n.trim()||a)return;const u={role:"user",content:n};i(N=>[...N,u]),o(""),d(!0);try{const N=localStorage.getItem("token");let _=`/nlp${m.find(S=>S.id===s)?.endpoint}`,L={tenant_id:"demo-tenant",env:"prod"};if(s==="kb")L.query=n,L.top_k=5;else if(s==="finops"){const S=new Date,I=new Date(S.getFullYear(),S.getMonth(),1);L.from=I.toISOString().split("T")[0],L.to=S.toISOString().split("T")[0]}else s==="revops"?L.incident_id="I-9A03":s==="aod"?L.service="checkout-service":s==="aam"&&(L.status="All");const E=await(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:""},body:JSON.stringify(L)})).json();let F="",B=[];if(s==="kb"&&E.matches)F=E.matches.map((S,I)=>`${I+1}. ${S.title}
${S.content}
Score: ${S.score.toFixed(3)}`).join(`

`),B=E.matches.map(S=>`${S.title}: ${S.section}`);else if(s==="finops"&&E.summary){const S=E.summary;F=`ðŸ’° FinOps Cost Summary

Total Cost: ${S.total_cost} (${S.vs_last_month} vs last month)

Top Services:
`+S.top_services.map(I=>`  â€¢ ${I.name}: ${I.cost}`).join(`
`)+`

ðŸ’¡ Savings Opportunities: ${S.savings_opportunities}`}else if(s==="revops"&&E.incident){const S=E.incident;F=`ðŸ”§ Incident: ${S.incident_id}

Title: ${S.title}
Status: ${S.status}
Root Cause: ${S.root_cause}
Resolution: ${S.resolution}
Impact: ${S.impact}`}else s==="aod"&&E.dependencies?F=`ðŸ” Service: ${E.service}
Health: ${E.health}

Upstream Dependencies:
${E.dependencies.upstream.map(S=>`  â€¢ ${S}`).join(`
`)}

Downstream Dependencies:
${E.dependencies.downstream.map(S=>`  â€¢ ${S}`).join(`
`)}`:s==="aam"&&E.connectors?F=`ðŸ”Œ AAM Connectors (${E.total} total)

`+E.connectors.map(S=>`${S.status==="Healthy"?"âœ…":"âš ï¸"} ${S.name}
  Status: ${S.status}
  Last Sync: ${S.last_sync}`).join(`

`):F=JSON.stringify(E,null,2);const P={role:"assistant",content:F,trace_id:E.trace_id,sources:B};i(S=>[...S,P])}catch(N){const f={role:"assistant",content:`Error: ${N instanceof Error?N.message:"Failed to connect to NLP Gateway"}`};i(_=>[..._,f])}finally{d(!1)}},b=(p,u)=>{x(u),o(p)},h=()=>{i([]),o(""),x("kb")};return e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-900 to-blue-900 px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-white"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"AOS NLP Gateway"}),e.jsx(ae,{...re("nlp-gateway")}),t.length>0&&e.jsxs("button",{onClick:h,className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Clear conversation",children:[e.jsx(Ft,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]}),e.jsx("div",{className:"flex gap-2",children:m.map(p=>e.jsxs("button",{onClick:()=>x(p.id),className:`px-2 py-1 rounded text-xs font-medium transition-colors flex items-center gap-1 ${s===p.id?"bg-white bg-opacity-20 text-white":"text-gray-300 hover:bg-white hover:bg-opacity-10"}`,title:p.name,children:[e.jsx(p.icon,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden md:inline",children:p.name})]},p.id))})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("form",{onSubmit:k,className:"flex gap-3",children:[e.jsx("input",{type:"text",value:n,onChange:p=>o(p.target.value),placeholder:"Ask anything about AutonomOS services...",className:"flex-1 px-6 py-4 text-lg bg-gray-700 border-2 border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:a,autoFocus:!0}),e.jsx("button",{type:"submit",disabled:a||!n.trim(),className:"px-6 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded-lg text-white font-semibold transition-colors flex items-center gap-2 text-lg",children:a?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5 animate-spin"}),"Thinking"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"w-5 h-5"}),"Send"]})})]}),e.jsx("div",{className:"space-y-3 min-h-[400px] max-h-[500px] overflow-y-auto bg-gray-900 bg-opacity-50 rounded-lg p-4 border border-gray-700",children:t.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center space-y-4 max-w-2xl",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Get started with these prompts:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:v.map((p,u)=>e.jsx("button",{onClick:()=>b(p.text,p.service),className:"p-2 bg-gray-800 hover:bg-gray-700 rounded text-left text-xs text-gray-300 transition-colors border border-gray-700",children:p.text},u))})]})}):t.map((p,u)=>e.jsxs("div",{className:`p-4 rounded-lg ${p.role==="user"?"bg-blue-900 bg-opacity-40 border border-blue-700":"bg-gray-800 border border-gray-600"}`,children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:p.role==="user"?"You":"NLP Gateway"}),p.trace_id&&e.jsx("span",{className:"font-mono text-gray-500",children:p.trace_id})]}),e.jsx("div",{className:"text-gray-200 whitespace-pre-wrap font-mono text-sm",children:p.content}),p.sources&&p.sources.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Sources:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:p.sources.map((N,f)=>e.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded text-gray-300",children:N},f))})]})]},u))}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Tenant: demo-tenant | Env: prod | Auth: JWT"})]})]})}function Fe(){return e.jsxs("div",{className:"space-y-8 px-4 sm:px-6 py-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Control Center"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-4xl leading-relaxed",children:"Natural language interface to all AutonomOS services. Query your data, manage finances, investigate incidents, and discover dependenciesâ€”all through conversational AI with RAG-powered knowledge retrieval."})]}),e.jsx(Xt,{})]})}function es(){const[t,i]=r.useState([{id:"1",asset_name:"aws-prod-db-01",asset_type:"Database",risk_level:"high",risk_score:.92,vendor:"AWS",discovered_at:new Date().toISOString(),reason:"Unencrypted database with public access detected",metadata:{region:"us-east-1",size:"2TB",connections:247}},{id:"2",asset_name:"shadow-saas-tool-42",asset_type:"SaaS",risk_level:"high",risk_score:.88,vendor:"Unknown",discovered_at:new Date().toISOString(),reason:"Unauthorized SaaS tool with company data access",metadata:{users:15,data_access:"full",cost_monthly:"$299"}},{id:"3",asset_name:"staging-api-gateway",asset_type:"Service",risk_level:"medium",risk_score:.65,vendor:"GCP",discovered_at:new Date().toISOString(),reason:"Staging environment with production credentials",metadata:{region:"us-central1",requests_per_day:1200}},{id:"4",asset_name:"legacy-payment-processor",asset_type:"Service",risk_level:"medium",risk_score:.58,vendor:"On-Premise",discovered_at:new Date().toISOString(),reason:"Outdated SSL certificate and deprecated API version",metadata:{ssl_expires:"2024-12-01",api_version:"1.2"}}]),[n,o]=r.useState(null),[a,d]=r.useState(""),[s,x]=r.useState("all"),m=h=>{n&&(console.log("[HITL] Decision made:",{asset_id:n.id,asset_name:n.asset_name,decision:h,notes:a}),i(t.filter(p=>p.id!==n.id)),o(null),d(""))},v=s==="all"?t:t.filter(h=>h.risk_level===s),k=t.filter(h=>h.risk_level==="high").length,b=t.filter(h=>h.risk_level==="medium").length;return e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-yellow-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center",children:e.jsx(J,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"HITL Review Queue"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Human-in-the-Loop decisions for edge case assets"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:k}),e.jsx("div",{className:"text-xs text-gray-400",children:"High Risk"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:b}),e.jsx("div",{className:"text-xs text-gray-400",children:"Medium Risk"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.length}),e.jsx("div",{className:"text-xs text-gray-400",children:"Total Queue"})]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s==="all"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["All (",t.length,")"]}),e.jsxs("button",{onClick:()=>x("high"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s==="high"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["High Risk (",k,")"]}),e.jsxs("button",{onClick:()=>x("medium"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s==="medium"?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Medium Risk (",b,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 uppercase mb-2",children:"Pending Review"}),v.length===0?e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-8 text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-green-400 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-gray-400",children:"No assets in queue"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["All ",s," risk items reviewed"]})]}):v.map(h=>e.jsxs("div",{onClick:()=>o(h),className:`bg-gray-900/60 rounded-lg p-4 cursor-pointer transition-all border-l-4 ${h.risk_level==="high"?"border-red-500 hover:bg-red-900/20":"border-yellow-500 hover:bg-yellow-900/20"} ${n?.id===h.id?"ring-2 ring-cyan-500":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"text-base font-medium text-white",children:h.asset_name}),e.jsx("span",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded",children:h.asset_type})]}),e.jsx("div",{className:"text-sm text-gray-400",children:h.vendor})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${h.risk_level==="high"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:h.risk_level.toUpperCase()}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Score: ",(h.risk_score*100).toFixed(0),"%"]})]})]}),e.jsx("div",{className:"text-sm text-gray-300 mt-2 line-clamp-2",children:h.reason}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-500",children:[e.jsx(Ye,{className:"w-3 h-3"}),new Date(h.discovered_at).toLocaleString()]})]},h.id))]}),e.jsx("div",{className:"bg-gray-900/50 rounded-lg p-6 border border-gray-700",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(te,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"Asset Review"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Asset Name"}),e.jsx("div",{className:"text-white font-medium",children:n.asset_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Type"}),e.jsx("div",{className:"text-white",children:n.asset_type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Vendor"}),e.jsx("div",{className:"text-white",children:n.vendor})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Risk Assessment"}),e.jsxs("div",{className:`text-white font-medium ${n.risk_level==="high"?"text-red-400":"text-yellow-400"}`,children:[n.risk_level.toUpperCase()," - ",(n.risk_score*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Reason"}),e.jsx("div",{className:"text-white text-sm",children:n.reason})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Metadata"}),e.jsx("div",{className:"bg-gray-800 rounded p-3 text-xs font-mono text-gray-300 space-y-1",children:Object.entries(n.metadata).map(([h,p])=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-cyan-400",children:[h,":"]})," ",JSON.stringify(p)]},h))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Decision Notes (Optional)"}),e.jsx("textarea",{value:a,onChange:h=>d(h.target.value),placeholder:"Add notes about your decision...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-cyan-500 transition-colors resize-none",rows:3})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>m("approve"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(ee,{className:"w-5 h-5"}),"Approve & Catalog"]}),e.jsxs("button",{onClick:()=>m("reject"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(rt,{className:"w-5 h-5"}),"Reject & Quarantine"]}),e.jsxs("button",{onClick:()=>m("flag"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(J,{className:"w-5 h-5"}),"Flag for Further Review"]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(te,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"Select an asset from the queue to review"}),e.jsx("p",{className:"text-sm mt-1",children:"Make decisions on high and medium risk items"})]})})]})]})}function ts(){return e.jsxs("div",{className:"space-y-6 px-4 sm:px-6 py-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"AOS Discover"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-4xl leading-relaxed",children:"Autonomously fingerprints your entire tech stack. Catalogs 100s of apps, databases, and tools without manual configuration. Infers relationships instantly. Creates secure architectural views using metadata only."})]}),e.jsxs("div",{className:"mb-8 bg-gray-800 rounded-lg border border-cyan-500/30 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-600/20 to-purple-600/20 border-b border-cyan-500/30 px-4 py-3",children:e.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11 4a1 1 0 10-2 0v4a1 1 0 102 0V7zm-3 1a1 1 0 10-2 0v3a1 1 0 102 0V8zM8 9a1 1 0 00-2 0v2a1 1 0 102 0V9z",clipRule:"evenodd"})}),"AOD Dashboard",e.jsx(ae,{...re("aod-dashboard")}),e.jsx("a",{href:"https://aos-discover.replit.app/",target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-cyan-400 hover:text-cyan-300 underline font-normal",children:"Open in new tab â†—"})]})}),e.jsx("div",{className:"relative",style:{paddingBottom:"75%"},children:e.jsx("iframe",{src:"https://aos-discover.replit.app/",className:"absolute inset-0 w-full h-full",title:"AOS Discover Dashboard",allow:"fullscreen",style:{border:"none",backgroundColor:"#1a1a1a"}})})]}),e.jsxs("div",{className:"flex justify-end gap-6 mb-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Total Assets"}),e.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:"1000"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"HITL Queue"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"247"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Catalogued"}),e.jsx("div",{className:"text-2xl font-bold text-green-400",children:"753"})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("svg",{className:"w-5 h-5 text-pink-500",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connection Pipeline"})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Unknown"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0"}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-gray-500 h-1 rounded-full",style:{width:"0%"}})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Processing"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0"}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:"0%"}})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Parked (HITL)"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"247"}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-yellow-500 h-1 rounded-full",style:{width:"24.7%"}})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Ready"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"110"}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-green-500 h-1 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full"}),e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Connected"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"643"}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-cyan-500 h-1 rounded-full",style:{width:"64.3%"}})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-900 rounded-lg p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Throughput"}),e.jsxs("div",{className:"text-xl font-semibold text-white",children:["127 ",e.jsx("span",{className:"text-sm text-gray-400",children:"assets/min"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Avg Processing"}),e.jsxs("div",{className:"text-xl font-semibold text-white",children:["4.2s ",e.jsx("span",{className:"text-sm text-gray-400",children:"per asset"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Pipeline Health"}),e.jsxs("div",{className:"text-xl font-semibold text-white",children:["98.4% ",e.jsx("span",{className:"text-sm text-gray-400",children:"3 failures"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-pink-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"HITL Triage Queue"})]}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-400 mb-6",children:["90 ",e.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"assets require review"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Security Threats"}),e.jsx("div",{className:"text-sm text-gray-400",children:"AAM scanner detected anomalies"})]})]}),e.jsx("div",{className:"text-2xl font-bold text-red-400",children:"20"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border-l-4 border-yellow-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Shadow IT Risks"}),e.jsx("div",{className:"text-sm text-gray-400",children:"AAM Supervisor flagged for review"})]})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"10"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Data Conflicts"}),e.jsx("div",{className:"text-sm text-gray-400",children:"AAM Inspector needs input"})]})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"60"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-cyan-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Catalogued Inventory"})]}),e.jsxs("div",{className:"text-3xl font-bold text-cyan-400 mb-6",children:["753 ",e.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"assets"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-400 uppercase mb-3",children:"By Vendor"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-blue-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"GCP"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"111"})]}),e.jsxs("div",{className:"bg-blue-500 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Salesforce"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"108"})]}),e.jsxs("div",{className:"bg-orange-500 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"AWS"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"107"})]}),e.jsxs("div",{className:"bg-green-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"MongoDB"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"95"})]}),e.jsxs("div",{className:"bg-blue-400 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Microsoft"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"90"})]}),e.jsxs("div",{className:"bg-blue-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Azure"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"88"})]}),e.jsxs("div",{className:"bg-green-500 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Okta"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"77"})]}),e.jsxs("div",{className:"bg-purple-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Datadog"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"73"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 uppercase mb-3",children:"By Asset Kind"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-blue-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Service"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"208"})]}),e.jsxs("div",{className:"bg-purple-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Db"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"186"})]}),e.jsxs("div",{className:"bg-blue-500 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"Host"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"181"})]}),e.jsxs("div",{className:"bg-green-600 rounded p-3 text-center",children:[e.jsx("div",{className:"text-xs text-white mb-1",children:"SaaS"}),e.jsx("div",{className:"text-lg font-bold text-white",children:"178"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Automated Action Log"}),e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-400",children:"Live"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-900 rounded",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-400 mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"09:45 AM"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-900 text-blue-300 rounded",children:"Responder"}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 rounded text-xs",children:"SYNCED"})]}),e.jsx("div",{className:"text-sm text-white",children:"Asset 'aws-us-east-1-db' synced to ServiceNow."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-900 rounded",children:[e.jsx("svg",{className:"w-4 h-4 text-green-400 mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"09:43 AM"}),e.jsx("span",{className:"px-2 py-0.5 bg-green-900 text-green-300 rounded",children:"Scanner"}),e.jsx("span",{className:"px-2 py-0.5 bg-yellow-900 text-yellow-300 rounded text-xs",children:"QUARANTINE"})]}),e.jsx("div",{className:"text-sm text-white",children:"Quarantined suspicious device 'laptop-user-619' after anomaly detected"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-900 rounded",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-400 mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"09:42 AM"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-900 text-blue-300 rounded",children:"Responder"}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 rounded text-xs",children:"SCAN"})]}),e.jsx("div",{className:"text-sm text-white",children:"Asset 'aws-us-user-db' synced to ServiceNow."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-900 rounded",children:[e.jsx("svg",{className:"w-4 h-4 text-yellow-400 mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"09:41 AM"}),e.jsx("span",{className:"px-2 py-0.5 bg-yellow-900 text-yellow-300 rounded",children:"Alert"}),e.jsx("span",{className:"px-2 py-0.5 bg-red-900 text-red-300 rounded text-xs",children:"ALERT"})]}),e.jsx("div",{className:"text-sm text-white",children:"Blocked unauthorized API call from 'api-gateway-03'."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-900 rounded opacity-75",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-400 mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"09:41 AM"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-900 text-purple-300 rounded",children:"Scanner"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-900 text-blue-300 rounded text-xs",children:"QUARANTINE"})]}),e.jsx("div",{className:"text-sm text-white",children:"Classified resource 'db-prod-main' as critical infrastructure."})]})]})]})]})]}),e.jsx(es,{})]})}function ss({confidence:t,label:i,size:n="medium",showLabel:o=!0}){const a=Math.round(t*100),s=t>=.85?"high":t>=.6?"medium":"low",m={small:{gauge:40,stroke:4,text:"text-xs",icon:"w-3 h-3"},medium:{gauge:60,stroke:6,text:"text-sm",icon:"w-4 h-4"},large:{gauge:80,stroke:8,text:"text-lg",icon:"w-5 h-5"}}[n],v=(m.gauge-m.stroke)/2,k=2*Math.PI*v,b=k-a/100*k,p={high:{bg:"bg-green-900/30",border:"border-green-500/30",text:"text-green-400",stroke:"stroke-green-500",icon:ee},medium:{bg:"bg-yellow-900/30",border:"border-yellow-500/30",text:"text-yellow-400",stroke:"stroke-yellow-500",icon:tt},low:{bg:"bg-red-900/30",border:"border-red-500/30",text:"text-red-400",stroke:"stroke-red-500",icon:J}}[s];return p.icon,e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",style:{width:m.gauge,height:m.gauge},children:[e.jsxs("svg",{className:"transform -rotate-90",width:m.gauge,height:m.gauge,children:[e.jsx("circle",{cx:m.gauge/2,cy:m.gauge/2,r:v,className:"stroke-gray-700",strokeWidth:m.stroke,fill:"none"}),e.jsx("circle",{cx:m.gauge/2,cy:m.gauge/2,r:v,className:p.stroke,strokeWidth:m.stroke,fill:"none",strokeDasharray:k,strokeDashoffset:b,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:`${m.text} font-bold ${p.text}`,children:[a,"%"]})})]}),o&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-400",children:i}),s==="medium"&&e.jsx("span",{className:"text-xs text-yellow-400",children:"Review suggested"}),s==="low"&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-400",children:[e.jsx(J,{className:"w-3 h-3"}),e.jsx("span",{children:"Low confidence"})]})]})]})}async function as(t="default"){const i=await fetch(R.buildDclUrl(`/metadata?tenant_id=${encodeURIComponent(t)}`));if(!i.ok)throw new Error(`Failed to fetch data quality metadata: ${i.statusText}`);return i.json()}function rs(){const[t,i]=r.useState(null),[n,o]=r.useState([]),[a,d]=r.useState(!0),[s,x]=r.useState(null),[m,v]=r.useState(null),[k,b]=r.useState(null),[h,p]=r.useState(null),[u,N]=r.useState(null),[f,_]=r.useState(!0),[L,z]=r.useState(null),[E,F]=r.useState([]),[B,P]=r.useState(!1),[S,I]=r.useState(null),[g,C]=r.useState(!1),[D,O]=r.useState({name:"",source_type:"Salesforce",connector_config:"{}"}),[H,c]=r.useState(!1),[y,M]=r.useState(null),[$,U]=r.useState({}),[ne,le]=r.useState({}),[K,nt]=r.useState(null),[lt,Se]=r.useState(!1),it=async()=>{Se(!0);try{const l=await as();nt(l)}catch(l){console.error("Error fetching data quality:",l)}finally{Se(!1)}},ie=async()=>{try{const l=await fetch(R.buildApiUrl("/aam/metrics"));if(!l.ok)throw new Error("Failed to fetch AAM metrics");const A=await l.json();i(A)}catch(l){console.error("Error fetching AAM metrics:",l),x("Failed to load metrics"),i({total_connections:0,active_drift_detections_24h:0,successful_repairs_24h:0,manual_reviews_required_24h:0,average_confidence_score:0,average_repair_time_seconds:0,timestamp:new Date().toISOString(),data_source:"error_fallback"})}},oe=()=>{const l=localStorage.getItem(q);return l?{Authorization:`Bearer ${l}`}:{}},ce=async()=>{try{const l=await fetch(R.buildApiUrl("/aam/connections"),{headers:oe()});if(!l.ok)throw new Error("Failed to fetch AAM connections");const A=await l.json();o(A.connections||[])}catch(l){console.error("Error fetching AAM connections:",l)}},ot=async()=>{c(!0),M(null);try{let l;try{l=JSON.parse(D.connector_config)}catch{throw new Error("Invalid JSON in connector configuration")}const A=await fetch(R.buildApiUrl("/aam/connections"),{method:"POST",headers:{"Content-Type":"application/json",...oe()},body:JSON.stringify({name:D.name,source_type:D.source_type,connector_config:l})});if(!A.ok){const w=await A.json();throw new Error(w.detail||"Failed to register connection")}await ce(),await ie(),C(!1),O({name:"",source_type:"Salesforce",connector_config:"{}"})}catch(l){console.error("Error registering connection:",l),M(l.message||"Failed to register connection")}finally{c(!1)}},ct=async l=>{U(A=>({...A,[l]:!0})),le(A=>({...A,[l]:""}));try{const A=await fetch(R.buildApiUrl(`/aam/connections/${l}/health-check`),{method:"POST",headers:oe()});if(!A.ok){const w=await A.json();throw new Error(w.detail||"Health check failed")}await ce(),await ie()}catch(A){console.error("Error running health check:",A),le(w=>({...w,[l]:A.message||"Health check failed"}))}finally{U(A=>({...A,[l]:!1}))}},dt=async(l,A)=>{if(confirm(`Are you sure you want to delete "${A}"? This action cannot be undone.`)){U(w=>({...w,[`delete_${l}`]:!0})),le(w=>({...w,[`delete_${l}`]:""}));try{const w=await fetch(R.buildApiUrl(`/aam/connections/${l}`),{method:"DELETE",headers:oe()});if(!w.ok){const G=await w.json();throw new Error(G.detail||"Failed to delete connection")}await ce(),await ie()}catch(w){console.error("Error deleting connection:",w),le(G=>({...G,[`delete_${l}`]:w.message||"Failed to delete connection"}))}finally{U(w=>({...w,[`delete_${l}`]:!1}))}}},xt=async()=>{_(!0),z(null);try{const[l,A,w,G]=await Promise.all([fetch(R.buildApiUrl("/aam/intelligence/mappings")).then(Q=>Q.json()),fetch(R.buildApiUrl("/aam/intelligence/drift_events_24h")).then(Q=>Q.json()),fetch(R.buildApiUrl("/aam/intelligence/rag_queue")).then(Q=>Q.json()),fetch(R.buildApiUrl("/aam/intelligence/repair_metrics")).then(Q=>Q.json())]);v(l),b(A),p(w),N(G)}catch(l){console.error("Error fetching intelligence data:",l),z("Failed to load intelligence data")}finally{_(!1)}},mt=async()=>{P(!0);try{const l=await fetch(R.buildApiUrl("/aam/connector_details"));if(!l.ok)throw new Error("Failed to fetch connector details");const A=await l.json();F(A.connectors||[])}catch(l){console.error("Error fetching connector details:",l)}finally{P(!1)}},Ae=async()=>{d(!0),await Promise.all([ie(),ce(),xt(),it(),mt()]),d(!1)};r.useEffect(()=>{Ae()},[]);const ye=l=>{const A={running:"bg-green-500/10 text-green-500 border-green-500/20",active:"bg-green-500/10 text-green-500 border-green-500/20",healing:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",pending:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",stopped:"bg-red-500/10 text-red-500 border-red-500/20",failed:"bg-red-500/10 text-red-500 border-red-500/20",error:"bg-red-500/10 text-red-500 border-red-500/20",inactive:"bg-gray-500/10 text-gray-500 border-gray-500/20"},w=A[l.toLowerCase()]||A.inactive;return e.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${w}`,children:l.toUpperCase()})},de=l=>l?new Date(l).toLocaleString():"N/A",ht=l=>{if(l<60)return`${l.toFixed(1)}s`;const A=Math.floor(l/60),w=l%60;return`${A}m ${w.toFixed(0)}s`},Ce=l=>{const A=Math.round(l*100);let w="";return l>=.9?w="bg-green-900/30 border-green-500/30 text-green-400":l>=.7?w="bg-yellow-900/30 border-yellow-500/30 text-yellow-400":w="bg-orange-900/30 border-orange-500/30 text-orange-400",e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs border ${w}`,children:[A,"%"]})},gt=l=>{I(A=>A===l?null:l)};return a&&!t?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(T,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading AAM Connect..."})]})}):e.jsxs("div",{className:"space-y-4 px-4 sm:px-6 py-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Connections"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-4xl leading-relaxed",children:"Self-healing data connectivity layer. Automatically detects schema drift, repairs field mappings with AI-powered confidence scoring, and maintains canonical event schemas across all your data sources."})]}),e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"AAM Monitor"}),e.jsx(ae,{...re("aam-monitor")})]}),e.jsx("p",{className:"text-gray-400",children:"Adaptive API Mesh intelligence metrics and connection health"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:Ae,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx($t,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Manual Refresh"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Manual refresh required"})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Connector Details"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Field mappings, drift events, and repair history per connector"})]}),B?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(T,{className:"w-8 h-8 text-blue-400 animate-spin"})}):E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No connector details available"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-800/50 border-b border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Connector"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Mappings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"High Confidence"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-800",children:E.map(l=>{const A=S===l.vendor;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-white",children:l.vendor})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ye(l.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-white",children:l.total_mappings})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-white",children:[l.high_confidence_mappings," / ",l.total_mappings]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>gt(l.vendor),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors text-sm",children:A?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"}),"Hide Details"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4"}),"Show Details"]})})})]},l.vendor),A&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-4 bg-gray-950/50",children:e.jsxs("div",{className:"space-y-6",children:[l.field_mappings&&l.field_mappings.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),"Field Mappings (",l.field_mappings.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.field_mappings.map((w,G)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700 rounded-lg hover:bg-gray-700/30 transition-colors",children:[e.jsx("code",{className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300 font-mono",children:w.source_field}),e.jsx("span",{className:"text-gray-500 font-bold",children:"â†’"}),e.jsx("code",{className:"px-3 py-1.5 bg-blue-900/30 border border-blue-500/30 rounded text-sm text-blue-400 font-mono",children:w.canonical_field}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[Ce(w.confidence),w.version&&e.jsxs("span",{className:"text-xs text-gray-500",children:["v",w.version]})]}),w.transform&&w.transform!=="direct"&&e.jsx("span",{className:"px-2 py-1 bg-yellow-900/20 border border-yellow-500/20 rounded text-xs text-yellow-400",children:w.transform})]},G))})]}),l.recent_drift_events&&l.recent_drift_events.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Recent Drift Events (",l.recent_drift_events.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.recent_drift_events.map((w,G)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm text-white font-medium",children:w.event_type}),ye(w.status)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Detected: ",de(w.detected_at)]})]}),Ce(w.confidence)]},G))})]}),l.repair_history&&l.repair_history.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),"Repair History (",l.repair_history.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.repair_history.map((w,G)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm text-white font-medium",children:w.change_type}),e.jsx(ee,{className:"w-4 h-4 text-green-400"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Applied: ",de(w.applied_at)]})]}),w.details&&e.jsxs("code",{className:"px-2 py-1 bg-gray-900/50 border border-gray-600 rounded text-xs text-gray-400",children:[JSON.stringify(w.details).substring(0,50),"..."]})]},G))})]}),(!l.field_mappings||l.field_mappings.length===0)&&(!l.recent_drift_events||l.recent_drift_events.length===0)&&(!l.repair_history||l.repair_history.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(W,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"No detailed information available for this connector"})]})]})})})]})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Mappings"})]}),f&&e.jsx(T,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:f?"...":m?.total??0}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2 space-y-1",children:[e.jsxs("div",{children:["Autofix: ",f?"...":`${m?.autofix_pct??0}%`]}),e.jsxs("div",{children:["HITL: ",f?"...":`${m?.hitl_pct??0}%`]})]}),L&&e.jsx("div",{className:"text-xs text-red-400 mt-2",children:L})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-orange-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Drift Events (24h)"})]}),f&&e.jsx(T,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:f?"...":k?.total??0}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:f?"Loading...":k&&Object.keys(k.by_source).length>0?e.jsx("div",{className:"space-y-1",children:Object.entries(k.by_source).map(([l,A])=>e.jsxs("div",{children:[l,": ",A]},l))}):"No sources detected"}),L&&e.jsx("div",{className:"text-xs text-red-400 mt-2",children:L})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"RAG Suggestions"})]}),f&&e.jsx(T,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:f?"...":h?.pending??0}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2 space-y-1",children:[e.jsxs("div",{children:["Pending: ",f?"...":h?.pending??0]}),e.jsxs("div",{children:["Accepted: ",f?"...":h?.accepted??0," | Rejected: ",f?"...":h?.rejected??0]})]}),L&&e.jsx("div",{className:"text-xs text-red-400 mt-2",children:L})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tt,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Repair Confidence"})]}),f&&e.jsx(T,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:f?"...":`${((u?.avg_confidence??0)*100).toFixed(0)}%`}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Test Pass Rate: ",f?"...":`${((u?.test_pass_rate??0)*100).toFixed(0)}%`]}),L&&e.jsx("div",{className:"text-xs text-red-400 mt-2",children:L})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Connections"})]})}),e.jsx("div",{className:"text-3xl font-bold text-white",children:t?.total_connections??0}),t?.active_connections!==void 0&&e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[t.active_connections," active"]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-yellow-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Drift Detections (24h)"})]})}),e.jsx("div",{className:"text-3xl font-bold text-white",children:t?.active_drift_detections_24h??0})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Successful Repairs (24h)"})]})}),e.jsx("div",{className:"text-3xl font-bold text-white",children:t?.successful_repairs_24h??0})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-orange-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Manual Reviews (24h)"})]})}),e.jsx("div",{className:"text-3xl font-bold text-white",children:t?.manual_reviews_required_24h??0})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(st,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Avg Confidence"})]})}),e.jsxs("div",{className:"text-3xl font-bold text-white",children:[((t?.average_confidence_score??0)*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Avg Repair Time"})]})}),e.jsx("div",{className:"text-3xl font-bold text-white",children:ht(t?.average_repair_time_seconds??0)})]})]}),K&&e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Data Quality Score"})]}),lt&&e.jsx(T,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ss,{confidence:K.overall_data_quality_score,label:"Data Quality",size:"large"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Auto-Applied Repairs"}),e.jsx("div",{className:"text-2xl font-bold text-green-400",children:K.auto_applied_repairs})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Pending HITL Reviews"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:K.hitl_pending_repairs})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Sources with Drift"}),e.jsx("div",{className:"text-2xl font-bold text-red-400",children:K.sources_with_drift.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Overall Confidence"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[((K.overall_confidence??0)*100).toFixed(1),"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Connections"})]}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Register Connection"]})]})}),e.jsx("div",{className:"p-6",children:n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No connections registered"}),e.jsx("button",{onClick:()=>C(!0),className:"mt-4 text-blue-400 hover:text-blue-300 text-sm",children:"Register your first connection"})]}):e.jsx("div",{className:"space-y-3",children:n.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 border border-gray-700 rounded-lg hover:border-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-white font-medium",children:l.name}),ye(l.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Type: ",l.source_type]}),e.jsxs("div",{children:["Created: ",de(l.created_at)]}),l.last_health_check&&e.jsxs("div",{children:["Last Health Check: ",de(l.last_health_check)]})]}),ne[l.id]&&e.jsx("div",{className:"mt-2 text-sm text-red-400",children:ne[l.id]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ct(l.id),disabled:$[l.id],className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:$[l.id]?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4"}),"Health Check"]})}),e.jsx("button",{onClick:()=>dt(l.id,l.name),disabled:$[`delete_${l.id}`],className:"p-2 bg-red-600/10 hover:bg-red-600/20 disabled:bg-gray-700 text-red-400 disabled:text-gray-500 rounded-lg transition-colors",title:"Delete connection",children:$[`delete_${l.id}`]?e.jsx(T,{className:"w-4 h-4 animate-spin"}):e.jsx(Bt,{className:"w-4 h-4"})})]})]},l.id))})})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-400"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Register New Connection"})]}),e.jsx("button",{onClick:()=>{C(!1),M(null)},className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(ke,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[y&&e.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-3 text-sm text-red-400",children:y}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Connection Name *"}),e.jsx("input",{type:"text",value:D.name,onChange:l=>O({...D,name:l.target.value}),placeholder:"e.g., Salesforce Production",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Source Type *"}),e.jsxs("select",{value:D.source_type,onChange:l=>O({...D,source_type:l.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"Salesforce",children:"Salesforce"}),e.jsx("option",{value:"Supabase",children:"Supabase"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"FileSource",children:"FileSource"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Connector Configuration (JSON) *"}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[D.source_type==="Salesforce"&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded p-2",children:["Example: ","{",e.jsx("br",{}),'Â Â "instance_url": "https://yourcompany.salesforce.com",',e.jsx("br",{}),'Â Â "access_token": "00D..."',e.jsx("br",{}),"}"]}),D.source_type==="Supabase"&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded p-2",children:["Example: ","{",e.jsx("br",{}),'Â Â "url": "https://yourproject.supabase.co",',e.jsx("br",{}),'Â Â "service_key": "eyJ..."',e.jsx("br",{}),"}"]}),D.source_type==="MongoDB"&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded p-2",children:["Example: ","{",e.jsx("br",{}),'Â Â "connection_string": "mongodb+srv://...",',e.jsx("br",{}),'Â Â "database": "mydb"',e.jsx("br",{}),"}"]}),D.source_type==="FileSource"&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded p-2",children:["Example: ","{",e.jsx("br",{}),'Â Â "file_path": "/path/to/data.csv",',e.jsx("br",{}),'Â Â "format": "csv"',e.jsx("br",{}),"}"]})]}),e.jsx("textarea",{value:D.connector_config,onChange:l=>O({...D,connector_config:l.target.value}),placeholder:'{"key": "value"}',rows:8,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 font-mono text-sm focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:ot,disabled:H||!D.name||!D.connector_config,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg transition-colors",children:H?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 animate-spin"}),"Registering..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-4 h-4"}),"Register Connection"]})}),e.jsx("button",{onClick:()=>{C(!1),M(null)},disabled:H,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 text-white rounded-lg transition-colors",children:"Cancel"})]})]})]})})]})}const ns="modulepreload",ls=function(t){return"/"+t},ze={},is=function(i,n,o){let a=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(k=>Promise.resolve(k).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),x=s?.nonce||s?.getAttribute("nonce");a=m(n.map(v=>{if(v=ls(v),v in ze)return;ze[v]=!0;const k=v.endsWith(".css"),b=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${b}`))return;const h=document.createElement("link");if(h.rel=k?"stylesheet":ns,k||(h.as="script"),h.crossOrigin="",h.href=v,x&&h.setAttribute("nonce",x),document.head.appendChild(h),k)return new Promise((p,u)=>{h.addEventListener("load",p),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(s){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=s,window.dispatchEvent(x),!x.defaultPrevented)throw s}return a.then(s=>{for(const x of s||[])x.status==="rejected"&&d(x.reason);return i().catch(d)})},os=r.lazy(()=>is(()=>import("./LiveSankeyGraph-PUKEK92f.js"),__vite__mapDeps([0,1,2])));function cs(){const[t,i]=r.useState(!1),n=r.useRef(null);return r.useEffect(()=>{const o=n.current;if(!o)return;const a=new IntersectionObserver(d=>{d.forEach(s=>{s.isIntersecting&&!t&&(console.log("[DCL Graph] Now visible, activating lazy load..."),i(!0))})},{root:null,rootMargin:"100px",threshold:.01});return a.observe(o),()=>{o&&a.unobserve(o),a.disconnect()}},[t]),e.jsx("div",{ref:n,className:"w-full",children:t?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"rounded-xl bg-gray-800/40 border border-gray-700 shadow-sm ring-1 ring-cyan-500/10 p-8 w-full md:min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(se,{className:"w-8 h-8 text-cyan-400 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Loading interactive graph..."})]})}),children:e.jsx(os,{isActive:t})}):e.jsx("div",{className:"rounded-xl bg-gray-800/40 border border-gray-700 shadow-sm ring-1 ring-cyan-500/10 p-8 w-full md:min-h-[400px] flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Scroll to view interactive graph..."})})})}const ds="auth_token_expiry";function xs(){const[t,i]=r.useState(null),[n,o]=r.useState(!0),[a,d]=r.useState(null),s=r.useRef(null),x=r.useRef(null),m=r.useRef(0),v=10,k=1e3,b=r.useCallback(u=>{try{if(u.type==="rag_coverage_check"){console.log("[DCL] ðŸŽ¯ RAG Coverage Check:",{source:u.source,coverage:`${u.coverage_pct}%`,matched:`${u.matched_count}/${u.total_count} fields`,recommendation:u.recommendation,savings:`$${u.estimated_cost_savings}`,missing_fields:u.missing_fields}),console.log(`ðŸ’¡ ${u.message}`),console.log(`   Recommendation: ${u.recommendation==="skip"?"Skip LLM (use RAG + heuristics)":"Proceed with LLM"}`),console.log(`   Cost savings if skipped: ~$${u.estimated_cost_savings}`);return}if(!u.data)return;const N={events:u.data.events||[],graph:u.data.graph,llm:{calls:u.data.llmCalls,tokens:u.data.llmTokens,calls_saved:u.data.llmCallsSaved||0},preview:{sources:{},ontology:{},connectionInfo:null},rag:u.data.ragContext,selected_sources:u.data.sources||[],selected_agents:u.data.agents||[],dev_mode:u.data.devMode,blended_confidence:u.data.blendedConfidence};i(N),d(null),o(!1)}catch(N){console.error("Error processing WebSocket message:",N),d(N instanceof Error?N:new Error("Failed to process message"))}},[]),h=r.useCallback(()=>{try{let u;if(R.BASE_URL&&R.BASE_URL.match(/^https?:\/\//))u=R.buildDclUrl("/ws").replace(/^http/,"ws");else{const f=window.location.protocol==="https:"?"wss:":"ws:",_=window.location.host;u=`${f}//${_}/dcl/ws`}console.log("[DCL WebSocket] Connecting to:",u);const N=new WebSocket(u);s.current=N,N.onopen=()=>{console.log("[DCL WebSocket] Connected"),m.current=0;const f=localStorage.getItem(q);if(f)try{N.send(JSON.stringify({type:"auth",token:f}))}catch(_){console.error("[DCL WebSocket] Failed to send auth token:",_)}},N.onmessage=f=>{try{const _=JSON.parse(f.data);console.log("[DCL WebSocket] Received message:",_.type),b(_)}catch(_){console.error("[DCL WebSocket] Failed to parse message:",_),console.error("[DCL WebSocket] Raw message data:",f.data?.substring(0,200))}},N.onerror=f=>{console.error("[DCL WebSocket] Error:",f),d(new Error("WebSocket connection error"))},N.onclose=f=>{if(console.log("[DCL WebSocket] Disconnected:",f.code,f.reason),s.current=null,m.current<v){const _=Math.min(k*Math.pow(2,m.current),3e4);console.log(`[DCL WebSocket] Reconnecting in ${_}ms (attempt ${m.current+1}/${v})`),x.current=setTimeout(()=>{m.current++,h()},_)}else console.error("[DCL WebSocket] Max reconnection attempts reached"),d(new Error("WebSocket connection lost. Please refresh the page."))}}catch(u){console.error("[DCL WebSocket] Failed to create WebSocket:",u),d(u instanceof Error?u:new Error("Failed to create WebSocket"))}},[b]),p=r.useCallback(async()=>{try{const u=localStorage.getItem(q),N={};u&&(N.Authorization=`Bearer ${u}`);const f=await fetch(R.buildDclUrl("/state"),{headers:N});if(!f.ok){if(f.status===401&&u){console.log("[DCL State] 401 Unauthorized - clearing auth state"),localStorage.removeItem(q),localStorage.removeItem(ds),window.dispatchEvent(new CustomEvent("auth:unauthorized"));return}throw new Error(`Failed to fetch state: ${f.statusText}`)}const _=await f.json();i(_),d(null),o(!1)}catch(u){d(u instanceof Error?u:new Error("Unknown error")),console.error("Error fetching DCL state:",u)}},[]);return r.useEffect(()=>(h(),()=>{console.log("[DCL WebSocket] Cleaning up..."),x.current&&(clearTimeout(x.current),x.current=null),s.current&&(s.current.close(),s.current=null)}),[h]),{state:t,loading:n,error:a,refetch:p}}function ms({text:t,speed:i=30}){const[n,o]=r.useState(""),[a,d]=r.useState(0);return r.useEffect(()=>{if(a<t.length){const s=setTimeout(()=>{o(x=>x+t[a]),d(x=>x+1)},i);return()=>clearTimeout(s)}},[a,t,i]),r.useEffect(()=>{o(""),d(0)},[t]),e.jsx("span",{children:n})}function hs(){const[t,i]=r.useState(!1),[n,o]=r.useState(!1),[a,d]=r.useState(!1),{state:s}=xs(),[x,m]=r.useState([]),[v,k]=r.useState("gemini-2.5-flash"),[b,h]=r.useState(!1),[p,u]=r.useState(0),[N,f]=r.useState(0),[_,L]=r.useState(!1),[z,E]=r.useState(0),[F,B]=r.useState(0),P=()=>{const c=localStorage.getItem(q);return c?{Authorization:`Bearer ${c}`}:{}},S=()=>{console.log("[DCL] 401 Unauthorized - clearing auth state"),localStorage.removeItem(q),localStorage.removeItem("auth_token_expiry"),window.dispatchEvent(new CustomEvent("auth:unauthorized"))},I=()=>{const c=b?me():Y(),M=Ne().filter(U=>c.includes(U)),$=M.length>0?M:c;return console.log("[DCL] Current sources from localStorage:",$),$.join(",")},g=()=>{const c=ge();return console.log("[DCL] Current agents from localStorage:",c),c.join(",")},C=()=>{const c=b?me():Y(),y=["revops_pilot","finops_pilot"];localStorage.setItem("aos.selectedSources",JSON.stringify(c)),localStorage.setItem("aos.selectedAgents",JSON.stringify(y)),console.log("[DCL] âœ… Selected ALL sources and agents:",c,y)};r.useEffect(()=>{fetch(R.buildDclUrl("/feature_flags")).then(c=>c.json()).then(c=>{const y=c.USE_AAM_AS_SOURCE||!1;h(y);const M=y?me():Y();localStorage.setItem("aos.selectedSources",JSON.stringify(M)),console.log(`[DCL] Initialized sources for ${y?"AAM":"Legacy"} mode:`,M)}).catch(c=>console.error("Failed to load feature flags:",c))},[]),r.useEffect(()=>{const c=b?me():Y();localStorage.setItem("aos.selectedSources",JSON.stringify(c)),console.log(`[DCL] Updated sources for ${b?"AAM":"Legacy"} mode:`,c)},[b]),r.useEffect(()=>{s&&i(s.dev_mode||!1)},[s?.dev_mode]),r.useEffect(()=>{const c=y=>{const $=y.detail?.source;console.log(`[DCL] Received trigger-run event from: ${$}`),n||D()};return window.addEventListener("dcl:trigger-run",c),()=>{window.removeEventListener("dcl:trigger-run",c)}},[n]),r.useEffect(()=>{if(!s)return;(s.events.length!==x.length||s.events.some((y,M)=>x[M]?.text!==y))&&(s.events.length===0?m([]):m(s.events.map((y,M)=>({text:y,isTyping:M===s.events.length-1,key:`${M}-${y.substring(0,20)}-${Date.now()}`}))))},[s?.events,x]),r.useEffect(()=>{if(!s)return;!(s.graph?.nodes&&s.graph.nodes.length>0)&&!n&&(async()=>{o(!0);try{const M=I(),$=g(),U=await fetch(R.buildDclUrl(`/connect?sources=${M}&agents=${$}&llm_model=${v}`),{headers:{...P()}});if(U.status===401){S(),console.error("[DCL] Session expired during auto-run. Please login again."),o(!1);return}if(!U.ok){const ne=await U.json().catch(()=>({detail:"Auto-run failed"}));throw new Error(ne.detail||`HTTP error! status: ${U.status}`)}console.log("[DCL] Auto-run successful"),window.dispatchEvent(new Event("dcl-state-changed"))}catch(M){console.error("[DCL] Error auto-running graph:",M)}finally{setTimeout(()=>o(!1),1500)}})()},[s,n]),r.useEffect(()=>{let c;return _&&n&&(c=setInterval(()=>{u(y=>y+.01)},10)),()=>{c&&clearInterval(c)}},[_,n]),r.useEffect(()=>{let c;return n&&a&&(c=setInterval(async()=>{try{const y=await fetch(R.buildDclUrl("/state"),{headers:{...P()}});if(y.ok){const $=(await y.json()).llm?.calls||0,U=Math.max(0,$-F);E(U)}}catch(y){console.error("[DCL] Error polling state for LLM count:",y)}},2e3)),()=>{c&&clearInterval(c)}},[n,a,F]),r.useEffect(()=>{let c;if(n&&a){f(0);let y=0;c=setInterval(()=>{y<30?y+=2:y<60?y+=1:y<90?y+=.5:y<95&&(y+=.2),f(Math.min(y,95))},100)}else!n&&N>0&&N<100&&f(100);return()=>{c&&clearInterval(c)}},[n,a,N]);const D=async()=>{u(0),f(0),E(0),L(!0),o(!0),d(!0);try{const c=await fetch(R.buildDclUrl("/state"),{headers:{...P()}});if(c.ok){const M=(await c.json()).llm?.calls||0;B(M),console.log("[DCL] Starting LLM baseline:",M)}}catch(c){console.error("[DCL] Failed to fetch starting LLM count:",c),B(0)}try{const c=I(),y=g(),M=await fetch(R.buildDclUrl(`/connect?sources=${c}&agents=${y}&llm_model=${v}`),{headers:{...P()}});if(M.status===401){S(),console.error("[DCL] Session expired. Please login again."),o(!1);return}if(!M.ok){const $=await M.json().catch(()=>({detail:"Request failed"}));throw new Error($.detail||`HTTP error! status: ${M.status}`)}await M.json(),console.log("[DCL] Connection successful"),window.dispatchEvent(new Event("dcl-state-changed"))}catch(c){console.error("[DCL] Error running:",c)}finally{setTimeout(()=>{o(!1)},1500)}},O=async()=>{try{const c=!t,y=await fetch(R.buildDclUrl(`/toggle_dev_mode?enabled=${c}`),{headers:{...P()}});if(y.status===401){S(),console.error("[DCL] Session expired. Please login again.");return}if(!y.ok){const $=await y.json().catch(()=>({detail:"Request failed"}));throw new Error($.detail||`HTTP error! status: ${y.status}`)}const M=await y.json();i(M.dev_mode),console.log(`[DCL] Dev mode toggled: ${M.dev_mode?"ON":"OFF"}`),window.dispatchEvent(new Event("dcl-state-changed"))}catch(c){console.error("[DCL] Error toggling dev mode:",c)}},H=async()=>{const c=!b;try{(await(await fetch(R.buildDclUrl("/feature_flags/toggle"),{method:"POST",headers:{"Content-Type":"application/json",...P()},body:JSON.stringify({flag:"USE_AAM_AS_SOURCE",enabled:c})})).json()).ok&&(h(c),console.log(`[DCL] Switched to ${c?"AAM Connectors":"Legacy File Sources"}`))}catch(y){console.error("[DCL] Failed to toggle source mode:",y)}};return e.jsxs("div",{id:"dcl-graph-container",className:"bg-gray-900 rounded-xl border border-gray-800 p-2 sm:p-3 -mt-[5px]",children:[a&&e.jsxs("div",{className:"relative -mx-2 sm:-mx-3 -mt-2 sm:-mt-3 mb-3 h-4 bg-gray-800 rounded-t-xl overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 transition-all duration-300 ease-out",style:{width:`${N}%`}}),e.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-transparent via-white/20 to-transparent",style:{width:`${N}%`,animation:"shimmer 1.5s linear infinite",backgroundSize:"200% 100%"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-white text-[10px] tracking-wide drop-shadow-lg",children:[Math.round(N),"% Complete"]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-400 cursor-help",title:"The Data Connectivity Layer (DCL) links heterogeneous data sources without migrations or ETL. It maps entities to a unified ontology for domain agents to act on.",children:"Data Connection Layer (DCL)"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Provides persistent, versioned entity mappings so AI Agents can reason with consistent, validated inputs."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative w-full bg-gradient-to-br from-blue-900/20 to-purple-900/20 rounded-lg border border-blue-500/30 p-2 sm:p-3 backdrop-blur-sm mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-lg animate-pulse"}),e.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/50 flex-shrink-0",children:e.jsx(T,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white animate-pulse"})}),e.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-2 sm:gap-3 mb-3 sm:mb-1",children:[e.jsx("h3",{className:"text-sm sm:text-sm font-medium text-white",children:"Ontology Graph"}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:O,className:`touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 rounded text-xs sm:text-[10px] transition-all ${t?"bg-amber-600/20 border border-amber-500/40 text-amber-300 hover:bg-amber-600/30":"bg-emerald-600/20 border border-emerald-500/40 text-emerald-300 hover:bg-emerald-600/30"}`,title:"Toggle between Production Mode (heuristics only) and Dev Mode (AI + RAG active)",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-amber-400 animate-pulse":"bg-emerald-400"}`}),e.jsx("span",{className:"whitespace-nowrap",children:t?"Dev Mode":"Prod Mode"})]})}),e.jsx("button",{onClick:H,className:`touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 rounded text-xs sm:text-[10px] transition-all ${b?"bg-blue-600/20 border border-blue-500/40 text-blue-300 hover:bg-blue-600/30":"bg-green-600/20 border border-green-500/40 text-green-300 hover:bg-green-600/30"}`,title:b?"Using AAM Connectors (Redis Streams)":"Using Legacy File Sources (CSV)",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b?"bg-blue-400":"bg-green-400"}`}),e.jsx("span",{className:"whitespace-nowrap",children:b?"AAM":"Legacy"})]})}),e.jsxs("select",{onChange:c=>{if(c.target.value==="select"){const y=document.getElementById("data-sources-section");y&&y.scrollIntoView({behavior:"smooth",block:"start"})}else c.target.value==="all"&&C();c.target.value="all"},disabled:n,className:"touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 bg-gray-800 border border-gray-700 rounded text-xs sm:text-[10px] text-white focus:outline-none focus:border-blue-500 hover:border-gray-600 transition-colors disabled:opacity-50 cursor-pointer",title:"Select data sources",children:[e.jsx("option",{value:"all",children:"All Sources"}),e.jsx("option",{value:"select",children:"Select Sources..."})]}),e.jsxs("select",{value:v,onChange:c=>k(c.target.value),disabled:n,className:"touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 bg-gray-800 border border-gray-700 rounded text-xs sm:text-[10px] text-white focus:outline-none focus:border-blue-500 hover:border-gray-600 transition-colors disabled:opacity-50 cursor-pointer",title:"Select LLM model for intelligent mapping",children:[e.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),e.jsx("option",{value:"gpt-5-mini",children:"GPT-5 mini âš¡"}),e.jsx("option",{value:"gpt-5-nano",children:"GPT-5 nano ðŸš€"})]}),e.jsx("button",{onClick:D,disabled:n,className:"touch-target-h mobile-tap-highlight flex items-center gap-1.5 px-4 sm:px-2 py-2 sm:py-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-md text-xs sm:text-[10px] text-white shadow-lg shadow-emerald-500/30 transition-all disabled:opacity-50 justify-center",title:"Run mapping with selected configuration",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-3 sm:w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Tt,{className:"w-3 h-3 sm:w-3 sm:h-3"}),e.jsx("span",{children:"Run"})]})})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-[10px] sm:text-[10px] text-blue-300",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-purple-400 animate-pulse":"bg-gray-500"}`}),e.jsxs("span",{children:["LLM Calls: ",z]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3 text-blue-400"}),e.jsxs("span",{className:"whitespace-nowrap",children:[Ne().length," sources â†’ ",ge().length," agent",ge().length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-1",title:"RAG mappings retrieved from inventory",children:[e.jsx("svg",{className:"w-3 h-3 text-teal-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("span",{children:["RAG: ",s?.rag?.mappings_retrieved||0]})]}),e.jsxs("div",{className:"flex items-center gap-1",title:"LLM calls saved via RAG inventory",children:[e.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Saved: ",s?.llm?.calls_saved||0]})]}),e.jsxs("div",{className:"flex items-center gap-1",title:"Blended confidence from graph and RAG",children:[e.jsx("svg",{className:"w-3 h-3 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("span",{children:["Confidence: ",s?.blended_confidence?Math.round(s.blended_confidence*100):"--","%"]})]}),(_||p>0)&&e.jsxs("div",{className:"flex items-center gap-1 bg-blue-900/30 px-2 py-0.5 rounded",children:[e.jsx("svg",{className:"w-3 h-3 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"font-mono",children:[p.toFixed(2),"s"]})]})]})]})]})]}),e.jsx("div",{className:"relative pb-2 md:min-h-[500px]",children:e.jsx(cs,{})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex-1 max-w-md mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs",children:"ðŸ“"}),e.jsx("span",{className:"text-white text-sm cursor-help",title:"Chronological event log showing every decision, mapping, and execution step. Functions as a transparent, auditable trail of autonomous system behavior.",children:"Narration"}),e.jsxs("span",{className:"ml-auto text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full",children:[s?.events.length||0," events"]})]}),e.jsx("div",{className:"text-xs space-y-1 overflow-y-auto max-h-[200px]",children:x.length===0?e.jsx("div",{className:"text-gray-500 italic text-[11px]",children:"No events yet. Start mapping to see the narration."}):x.map((c,y)=>e.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[e.jsxs("span",{className:"text-purple-400 mr-1",children:["[",y+1,"]"]}),c.isTyping?e.jsx(ms,{text:c.text,speed:30}):c.text]},c.key))})]}),e.jsxs("div",{className:"rounded-lg p-4 bg-gradient-to-br from-teal-950 to-cyan-950 border border-teal-700/30 max-w-md mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-500 flex items-center justify-center text-white text-xs",children:"ðŸ§ "}),e.jsx("span",{className:"text-white text-sm cursor-help",title:"Retrieval-Augmented Generation (RAG) component that enriches context for agent reasoning. It stores embeddings, retrieves related knowledge, and continuously self-tunes mappings.",children:"RAG Learning Engine"}),e.jsxs("span",{className:"ml-auto text-xs bg-teal-600 text-white px-2 py-0.5 rounded-full",children:[s?.rag?.total_mappings||0," stored"]})]}),e.jsx("div",{className:"text-xs space-y-2 overflow-y-auto overflow-x-hidden min-h-[150px] max-h-[400px]",children:!s?.rag?.retrievals||s.rag.retrievals.length===0?e.jsx("div",{className:"text-teal-300/70 italic text-[11px]",children:"No context retrieved yet. Connect a source to see RAG retrieve historical mappings."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-white mb-2 text-[11px]",children:["Retrieved ",s.rag.last_retrieval_count," similar mappings:"]}),s.rag.retrievals.map((c,y)=>e.jsxs("div",{className:"mb-2 pb-2 border-b border-teal-800/30 last:border-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("div",{className:"text-white text-[11px]",children:c.source_field}),e.jsxs("div",{className:"text-[10px] text-white",children:[(c.similarity*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"text-teal-300 text-[10px] mb-1",children:["â†’ ",c.ontology_entity]}),e.jsx("div",{className:"w-full bg-slate-900/50 rounded-sm h-1.5 overflow-hidden mb-1",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-400 transition-all",style:{width:`${(c.similarity*100).toFixed(0)}%`}})}),e.jsxs("div",{className:"text-[9px] text-teal-400/70",children:["from: ",c.source_system||"unknown"]})]},y))]})})]})]})]})]})}const je=We;function gs(t){switch(t){case"CRM":return e.jsx(at,{className:"w-5 h-5 text-blue-400"});case"ERP":return e.jsx(Ut,{className:"w-5 h-5 text-green-400"});case"Database":return e.jsx(W,{className:"w-5 h-5 text-red-400"});case"Warehouse":return e.jsx(Wt,{className:"w-5 h-5 text-cyan-400"});default:return e.jsx(et,{className:"w-5 h-5 text-gray-400"})}}function us(t){switch(t){case"CRM":return"bg-blue-900/30 border-blue-700/50";case"ERP":return"bg-green-900/30 border-green-700/50";case"Database":return"bg-red-900/30 border-red-700/50";case"Warehouse":return"bg-cyan-900/30 border-cyan-700/50";default:return"bg-gray-900/30 border-gray-700/50"}}function ps(){const[t,i]=r.useState([]),[n,o]=r.useState([]),[a,d]=r.useState(""),[s,x]=r.useState(!1),[m,v]=r.useState(null),[k,b]=r.useState(!0),[h,p]=r.useState(null),[u,N]=r.useState(""),[f,_]=r.useState(new Set),L=s?Ge:He;r.useEffect(()=>{fetch("/dcl/feature_flags").then(g=>g.json()).then(g=>{x(g.USE_AAM_AS_SOURCE||!1)}).catch(g=>console.error("Failed to load feature flags:",g))},[]),r.useEffect(()=>{i(Ne()),o(ge())},[]),r.useEffect(()=>{t.length>0&&localStorage.setItem("aos.selectedSources",JSON.stringify(t))},[t]),r.useEffect(()=>{n.length>0&&localStorage.setItem("aos.selectedAgents",JSON.stringify(n))},[n]),r.useEffect(()=>{z()},[]);const z=async()=>{b(!0),p(null);try{const g=await fetch(R.buildDclUrl("/ontology_schema"));if(!g.ok)throw new Error(`Failed to fetch ontology schema: ${g.statusText}`);const C=await g.json();v(C)}catch(g){console.error("Error fetching ontology schema:",g),p(g instanceof Error?g.message:"Failed to load ontology schema")}finally{b(!1)}},E=g=>{i(C=>C.includes(g)?C.filter(D=>D!==g):[...C,g])},F=g=>{o(C=>C.includes(g)?C.filter(D=>D!==g):[...C,g])},B=()=>{const g=L.map(C=>C.value);i(g),o(je.map(C=>C.value))},P=()=>{a.trim()&&(window.location.hash="#/data-lineage",sessionStorage.setItem("lineageSearchQuery",a))},S=g=>{_(C=>{const D=new Set(C);return D.has(g)?D.delete(g):D.add(g),D})},I=m?Object.entries(m).filter(([g])=>g.toLowerCase().includes(u.toLowerCase())):[];return e.jsxs("div",{className:"space-y-6 px-4 sm:px-6 py-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Ontology"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-4xl leading-relaxed",children:"AI-driven unified data model. Automatically maps disparate data sources into a canonical ontology, creating cross-system entity relationships and powering intelligent agents with a single source of truth."})]}),e.jsx(hs,{}),e.jsxs("div",{id:"data-sources-section",className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Data Connection Layer (DCL)"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Select data sources and agents to create unified entity mappings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-400"}),"Data Sources (",t.length,"/",L.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:L.map(g=>e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all min-h-[44px] active:opacity-80 ${t.includes(g.value)?"bg-blue-900/40 border-blue-500/50 ring-1 ring-blue-500/30":`${us(g.type)} hover:border-gray-600`}`,children:[e.jsx("input",{type:"checkbox",checked:t.includes(g.value),onChange:()=>E(g.value),className:"mt-1 w-5 h-5 rounded border-gray-600 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-900"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[gs(g.type),e.jsx("span",{className:"font-semibold text-white text-sm",children:g.name})]}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:g.description})]})]},g.id))})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-orange-400"}),"Trace Data Lineage"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search for KPI, Report, or Unified Entity...",value:a,onChange:g=>d(g.target.value),onKeyDown:g=>g.key==="Enter"&&P(),className:"w-full bg-gray-900 text-gray-200 pl-10 pr-3 py-3 rounded-lg border border-gray-700 focus:outline-none focus:border-orange-500 transition-colors text-sm"})]}),e.jsx("button",{onClick:P,disabled:!a.trim(),className:"mt-3 w-full px-4 py-2.5 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors text-sm",children:"Trace Lineage"})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-2 px-4 py-3 min-h-[44px] bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 active:from-blue-800 active:to-purple-800 text-white font-semibold rounded-lg shadow-lg shadow-blue-500/30 transition-all",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Select All Sources & Agents"})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-purple-400"}),"Intelligence Agents (",n.length,"/",je.length,")"]}),e.jsx("div",{className:"space-y-2",children:je.map(g=>e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all min-h-[44px] active:opacity-80 ${n.includes(g.value)?"bg-purple-900/40 border-purple-500/50 ring-1 ring-purple-500/30":"bg-gray-900/30 border-gray-700/50 hover:border-gray-600"}`,children:[e.jsx("input",{type:"checkbox",checked:n.includes(g.value),onChange:()=>F(g.value),className:"mt-1 w-5 h-5 rounded border-gray-600 text-purple-500 focus:ring-purple-500 focus:ring-offset-gray-900"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"font-semibold text-white text-sm block mb-1",children:g.name}),e.jsx("p",{className:"text-xs text-gray-400",children:g.description})]})]},g.id))})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"px-6 py-4 space-y-1",children:[e.jsx("h1",{className:"text-2xl font-medium text-white",children:"Ontology Schema"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Define the canonical entities and their structure for unified data mapping"})]}),e.jsx("div",{className:"px-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search entities...",value:u,onChange:g=>N(g.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50"})]})}),e.jsxs("div",{className:"px-6",children:[k&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-12 text-center",children:[e.jsx(se,{className:"w-12 h-12 text-blue-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading ontology schema..."})]}),h&&e.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-6 text-center",children:[e.jsx(Qe,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),e.jsx("p",{className:"text-red-400 font-semibold mb-2",children:"Error Loading Schema"}),e.jsx("p",{className:"text-gray-400 text-sm",children:h}),e.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Retry"})]}),!k&&!h&&m&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-900/50 border-b border-gray-700",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Entity Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Primary Key"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Unified Fields"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Data Sources"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Source Tables"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:I.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(Et,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:u?"No entities match your search":"No entities defined in ontology"})]})}):I.map(([g,C])=>{const D=f.has(g),O=[...new Set(C.source_mappings.map(c=>c.source_system))],H=C.source_mappings.map(c=>`${c.source_system}/${c.source_table}`);return e.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"text-white",children:g})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("code",{className:"px-2 py-1 bg-gray-900/50 border border-gray-600 rounded text-sm text-cyan-400",children:C.pk})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-purple-900/30 border border-purple-500/30 text-purple-400",children:[C.fields.length," ",C.fields.length===1?"field":"fields"]})}),e.jsx("td",{className:"px-6 py-4",children:O.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:O.map(c=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-900/30 border border-green-500/30 text-green-400",children:c},c))}):e.jsx("span",{className:"text-gray-500 text-sm",children:"No sources"})}),e.jsx("td",{className:"px-6 py-4",children:H.length>0?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-900/30 border border-blue-500/30 text-blue-400",children:[H.length," ",H.length===1?"table":"tables"]}):e.jsx("span",{className:"text-gray-500 text-sm",children:"No tables"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>S(g),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-lg text-sm text-gray-300 transition-colors",children:D?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"}),"Collapse"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4"}),"Expand"]})})})]},g)})})]})}),I.map(([g,C])=>f.has(g)?e.jsxs("div",{className:"border-t border-gray-700 bg-gray-900/30 px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:["Unified Fields for ",e.jsx("span",{className:"text-white",children:g}),":"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.fields.map(O=>e.jsx("code",{className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300",children:O},O))})]}),C.source_mappings.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Source Mappings (Field-Level Details):"}),e.jsx("div",{className:"space-y-3",children:C.source_mappings.map((O,H)=>e.jsxs("div",{className:"bg-gray-800/50 border border-gray-600 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-gray-900/30",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-900/30 border border-green-500/30 text-green-400",children:O.source_system}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("code",{className:"px-2 py-1 bg-gray-900/50 border border-gray-600 rounded text-xs text-blue-400",children:O.source_table}),e.jsxs("span",{className:"text-gray-500 text-xs ml-auto",children:[O.field_count," ",O.field_count===1?"field mapping":"field mappings"]})]}),O.field_mappings&&O.field_mappings.length>0?e.jsx("div",{className:"p-4 space-y-2",children:O.field_mappings.map((c,y)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-900/50 border border-gray-700 rounded-lg hover:bg-gray-700/30 transition-colors",children:[e.jsx("code",{className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300 font-mono",children:c.source_field}),e.jsx("span",{className:"text-gray-500 font-bold",children:"â†’"}),e.jsx("code",{className:"px-3 py-1.5 bg-blue-900/30 border border-blue-500/30 rounded text-sm text-blue-400 font-mono",children:c.ontology_field}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${c.confidence>=.9?"bg-green-900/30 border border-green-500/30 text-green-400":c.confidence>=.7?"bg-yellow-900/30 border border-yellow-500/30 text-yellow-400":"bg-orange-900/30 border border-orange-500/30 text-orange-400"}`,children:[(c.confidence*100).toFixed(0),"% confident"]}),c.transform&&c.transform!=="direct"&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-900/30 border border-purple-500/30 text-purple-400",children:c.transform})]},y))}):O.source_fields.length>0&&e.jsx("div",{className:"p-4 flex flex-wrap gap-1",children:O.source_fields.map((c,y)=>e.jsx("code",{className:"px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs text-gray-400",children:c},y))})]},H))})]})]},`${g}-details`):null)]}),!k&&!h&&m&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-400",children:[e.jsxs("span",{children:["Showing ",I.length," of ",Object.keys(m).length," ",Object.keys(m).length===1?"entity":"entities"]}),u&&e.jsx("button",{onClick:()=>N(""),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Clear search"})]})]})]})]})}const ys={agentUptime:99.2,activeAgents:{current:12,total:15},failedSteps24h:3,anomalyDetections24h:7,humanOverrides:2,triggerCountPerMin:147,computeLoadAvg:42},fs=[{id:"discover",name:"Discover",metric:87,target:90,status:"optimal",unit:"%"},{id:"sense",name:"Sense",metric:94,target:85,status:"optimal",unit:"%"},{id:"policy",name:"Policy",metric:76,target:80,status:"warning",unit:"%"},{id:"plan",name:"Plan",metric:91,target:90,status:"optimal",unit:"%"},{id:"prioritize",name:"Prioritize",metric:88,target:85,status:"optimal",unit:"%"},{id:"execute",name:"Execute",metric:82,target:90,status:"warning",unit:"%"},{id:"budget",name:"Budget",metric:95,target:90,status:"optimal",unit:"%"},{id:"observe",name:"Observe",metric:98,target:95,status:"optimal",unit:"%"},{id:"learn",name:"Learn",metric:72,target:80,status:"warning",unit:"%"},{id:"lifecycle",name:"Lifecycle",metric:89,target:85,status:"optimal",unit:"%"}],bs=[{id:"cross_discovery",name:"Cross-Enterprise Discovery",value:"847 endpoints",trend:"up",description:"Active API endpoints across federated systems"},{id:"federation_health",name:"Federation Health",value:"96.2%",trend:"stable",description:"Overall health of federated orchestration"},{id:"trust_score",name:"Trust Score",value:"8.7/10",trend:"up",description:"Inter-enterprise trust and reliability metric"},{id:"data_sovereignty",name:"Data Sovereignty",value:"100%",trend:"stable",description:"Compliance with regional data requirements"},{id:"cost_allocation",name:"Cost Allocation",value:"$124k/mo",trend:"down",description:"Distributed compute and resource costs"},{id:"sla_compliance",name:"SLA Compliance",value:"99.7%",trend:"stable",description:"Service level agreement adherence"},{id:"security_posture",name:"Security Posture",value:"A+",trend:"stable",description:"Federated security assessment score"},{id:"consensus_rate",name:"Consensus Rate",value:"94.3%",trend:"up",description:"Multi-party agreement on orchestration decisions"},{id:"latency_p95",name:"Cross-Enterprise Latency (P95)",value:"127ms",trend:"down",description:"95th percentile latency for federated operations"},{id:"shared_agents",name:"Shared Agents",value:"42 active",trend:"up",description:"Agents operating across enterprise boundaries"},{id:"interop_score",name:"Interoperability Score",value:"9.1/10",trend:"stable",description:"System compatibility and integration health"},{id:"dispute_resolution",name:"Dispute Resolution Time",value:"4.2min",trend:"down",description:"Average time to resolve orchestration conflicts"}],V={vitals:ys,aoaFunctions:fs,xaoFunctions:bs};function vs(){const{autonomyMode:t}=we(),[i,n]=r.useState({state:"Active",vitals:{agentUptime:V.vitals.agentUptime,activeAgents:V.vitals.activeAgents,failedSteps24h:V.vitals.failedSteps24h,anomalyDetections24h:V.vitals.anomalyDetections24h,humanOverrides:V.vitals.humanOverrides,triggerCountPerMin:V.vitals.triggerCountPerMin,computeLoadAvg:V.vitals.computeLoadAvg}});r.useEffect(()=>{const d=["Active","Planning","Executing","Learning"];let s=0;const x=setInterval(()=>{s=(s+1)%d.length,n(m=>({...m,state:d[s],vitals:{agentUptime:Math.max(95,Math.min(100,m.vitals.agentUptime+(Math.random()-.5)*.5)),activeAgents:{current:Math.max(8,Math.min(15,m.vitals.activeAgents.current+Math.floor(Math.random()*3-1))),total:15},failedSteps24h:Math.max(0,m.vitals.failedSteps24h+Math.floor(Math.random()*3-1)),anomalyDetections24h:Math.max(0,m.vitals.anomalyDetections24h+Math.floor(Math.random()*3-1)),humanOverrides:Math.max(0,m.vitals.humanOverrides+Math.floor(Math.random()*2)),triggerCountPerMin:Math.max(100,m.vitals.triggerCountPerMin+Math.floor(Math.random()*10-5)),computeLoadAvg:Math.max(20,Math.min(85,m.vitals.computeLoadAvg+Math.floor(Math.random()*10-5)))}}))},5e3);return()=>clearInterval(x)},[]);const o=d=>{switch(d){case"Active":return"bg-green-500/20 text-green-400 border-green-500/30";case"Planning":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Executing":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"Learning":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}},a=(d,s)=>{switch(d){case"uptime":return s>=99?"text-green-400":s>=95?"text-yellow-400":"text-red-400";case"failed":return s<=5?"text-green-400":s<=15?"text-yellow-400":"text-red-400";case"anomalies":return s<=10?"text-green-400":s<=25?"text-yellow-400":"text-red-400";case"overrides":return s<=5?"text-green-400":s<=15?"text-yellow-400":"text-red-400";case"load":return s<=60?"text-green-400":s<=80?"text-yellow-400":"text-red-400";default:return"text-cyan-400"}};return e.jsxs("div",{className:"rounded-2xl shadow-md p-6 bg-slate-800/60 border border-slate-700 relative overflow-hidden h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(T,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"cursor-help",title:"AutonomOS Agentic Orchestration Agent (AOA): A persistent, meta-level agent that observes, coordinates, and optimizes the behavior of all other domain agents (FinOps, RevOps, HR, etc.) running on the Data Connectivity Layer (DCL).",children:[e.jsx("h2",{className:"text-xl font-medium text-cyan-400",children:"AutonomOS Orchestration Layer"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Mode: ",t]})]})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg border ${o(i.state)}`,children:e.jsx("span",{className:"text-sm",children:i.state})})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(T,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Agent Uptime"}),e.jsxs("div",{className:`text-lg transition-colors ${a("uptime",i.vitals.agentUptime)}`,children:[i.vitals.agentUptime.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(at,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Active Agents"}),e.jsxs("div",{className:"text-lg text-cyan-400",children:[i.vitals.activeAgents.current," / ",i.vitals.activeAgents.total]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(rt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Failed Steps (24h)"}),e.jsx("div",{className:`text-lg transition-colors ${a("failed",i.vitals.failedSteps24h)}`,children:i.vitals.failedSteps24h})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(J,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Anomalies (24h)"}),e.jsx("div",{className:`text-lg transition-colors ${a("anomalies",i.vitals.anomalyDetections24h)}`,children:i.vitals.anomalyDetections24h})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(Gt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Human Overrides"}),e.jsx("div",{className:`text-lg transition-colors ${a("overrides",i.vitals.humanOverrides)}`,children:i.vitals.humanOverrides})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(Jt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Triggers/min"}),e.jsx("div",{className:"text-lg text-cyan-400",children:i.vitals.triggerCountPerMin})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[e.jsx(Mt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Compute Load"}),e.jsxs("div",{className:`text-lg transition-colors ${a("load",i.vitals.computeLoadAvg)}`,children:[i.vitals.computeLoadAvg,"%"]})]})]})]}),i.state==="Executing"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-slate-700 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-cyan-500 animate-pulse"})})]})}function js(){const[t,i]=r.useState(V.aoaFunctions);r.useEffect(()=>{const a=setInterval(()=>{i(d=>d.map(s=>{const x=Math.floor(Math.random()*10)-5,m=Math.max(0,Math.min(100,s.metric+x));let v="optimal";return m<s.target-10?v="critical":m<s.target&&(v="warning"),{...s,metric:m,status:v}}))},8e3);return()=>clearInterval(a)},[]);const n=a=>{switch(a){case"optimal":return"bg-green-500/20 text-green-400";case"warning":return"bg-yellow-500/20 text-yellow-400";case"critical":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},o=a=>({discover:{label:"Agent Registry Health",description:"% of known agents responding to heartbeat pings",fullDescription:"Discovers and registers all active domain agents and their capabilities across the organization."},sense:{label:"Event Classification Accuracy",description:"% of incoming events correctly identified and enriched",fullDescription:"Monitors real-time events, anomalies, and trigger patterns across all agents and connected systems."},policy:{label:"Policy Compliance",description:"% of actions executing within guardrails (scope, permissions, SLAs)",fullDescription:"Ensures compliance with internal and external governance rules during orchestration."},plan:{label:"Plan Generation Success",description:"% of triggers converted into executable plans",fullDescription:"Generates, adjusts, and simulates coordination plans based on agent readiness and data flow states."},prioritize:{label:"Conflict Resolution Rate",description:"% of plan conflicts resolved automatically",fullDescription:"Assigns execution order and resource priority across competing agentic workflows."},execute:{label:"Execution Success Rate",description:"% of plan steps completed without errors",fullDescription:"Carries out automated corrective or optimization actions orchestrated by AOA in live environments."},budget:{label:"Guardrail Integrity",description:"% of actions staying within cost/time/risk thresholds",fullDescription:"Manages financial control and cost integrity across autonomous compute and resource allocations."},observe:{label:"Trace Completeness",description:"% of plans producing full observability traces",fullDescription:"Continuously tracks operational signals, telemetry, and feedback loops to evaluate performance."},learn:{label:"Learning Impact",description:"% of recurring plans that improved results",fullDescription:"Continuously refines orchestration policies and mappings through reinforcement learning."},lifecycle:{label:"Agent Health Coverage",description:"% of agents updated and resource-balanced",fullDescription:"Oversees agent onboarding, updates, health, and retirement cycles across the federated network."}})[a]||{label:"Unknown",description:"No description available",fullDescription:"No description available"};return e.jsxs("div",{className:"bg-slate-800/60 rounded-xl border border-slate-700 p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-medium text-cyan-400 mb-1",children:"AOA Functions"}),e.jsx("p",{className:"text-sm text-gray-400",children:"autonomOS Agent metrics"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:t.map(a=>{const{label:d,description:s,fullDescription:x}=o(a.id);return e.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors group cursor-help",title:x,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-200",children:a.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${n(a.status)}`,children:a.status})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1 group relative",children:[e.jsx("span",{className:"text-xs font-medium text-cyan-400",children:d}),e.jsx(Ze,{className:"w-3 h-3 text-slate-500 hover:text-cyan-400 cursor-help"}),e.jsx("div",{className:"absolute left-0 top-full mt-2 w-48 bg-slate-950 border border-slate-700 rounded-lg p-3 text-xs text-slate-300 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 shadow-xl",children:s})]}),e.jsxs("div",{className:"text-3xl text-cyan-400",children:[a.metric,e.jsx("span",{className:"text-lg text-slate-500",children:a.unit})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Target: ",a.target,a.unit]})]}),e.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${a.status==="optimal"?"bg-green-500":a.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.metric}%`}})})]},a.id)})}),e.jsx("div",{className:"mt-4 text-center py-3 px-6 bg-slate-800/30 rounded-lg border border-slate-700",children:e.jsx("p",{className:"text-sm text-slate-400",children:"Each % value represents real-time operational efficiency of that orchestration function vs its target SLO."})})]})}function Ns({agents:t}){const i=o=>{switch(o){case"running":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-gray-500"}},n=o=>{o.includes("FinOps")?window.open("https://finopsagent.onrender.com/","_blank"):o.includes("RevOps")&&window.open("https://autonomos-revops-agent.onrender.com","_blank")};return e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-white cursor-help",title:"Displays real-time operational metrics for each domain agent. Each row represents execution throughput, CPU, and memory usage per active agent.",children:"Active Agent Performance"}),e.jsx("img",{src:"/robot-agents.png",alt:"AI Agents",className:"h-12 object-contain opacity-80 hover:opacity-100 transition-opacity"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Agent"}),e.jsx("th",{className:"text-center text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Status"}),e.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Exec/hr"}),e.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"CPU"}),e.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Memory"})]})}),e.jsx("tbody",{children:t.map(o=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 cursor-pointer transition-colors",onClick:()=>n(o.name),children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:o.name}),(o.name.includes("FinOps")||o.name.includes("RevOps"))&&e.jsx(Lt,{className:"w-3.5 h-3.5 text-blue-400"})]})}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-2 h-2 rounded-full ${i(o.status)} ${o.status==="running"?"animate-pulse":""}`})})}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("span",{className:"text-sm text-gray-300",children:o.executionsPerHour})}),e.jsx("td",{className:"py-3 text-right",children:e.jsxs("span",{className:`text-sm font-medium ${o.cpuPercent>40?"text-red-400":o.cpuPercent>25?"text-yellow-400":"text-green-400"}`,children:[o.cpuPercent,"%"]})}),e.jsx("td",{className:"py-3 text-right",children:e.jsxs("span",{className:"text-sm text-gray-300",children:[o.memoryMB," MB"]})})]},o.id))})]})})]})}function ws({agents:t}){const[i]=r.useState(V.xaoFunctions),n=a=>({cross_discovery:"Shows the total number of active API endpoints discovered across federated enterprises.",federation_health:"Represents the synchronization and uptime status of federated orchestrations.",trust_score:"Quantifies the inter-enterprise trust, reliability, and data fidelity score of cross-domain exchanges.",data_sovereignty:"Measures compliance with regional data residency and sovereignty requirements.",cost_allocation:"Displays the distribution of compute and resource costs across federated orchestration domains.",sla_compliance:"Tracks the service-level adherence of each orchestrated component relative to enterprise SLAs.",security_posture:"Federated security assessment score across all connected systems.",consensus_rate:"Multi-party agreement rate on orchestration decisions.",latency_p95:"95th percentile latency for cross-enterprise federated operations.",shared_agents:"Number of agents operating across enterprise boundaries.",interop_score:"System compatibility and integration health score.",dispute_resolution:"Average time to resolve orchestration conflicts between systems."})[a]||"",o=a=>{switch(a){case"up":return e.jsx(st,{className:"w-4 h-4 text-green-400"});case"down":return e.jsx(Ht,{className:"w-4 h-4 text-red-400"});case"stable":return e.jsx(It,{className:"w-4 h-4 text-gray-400"})}};return e.jsxs("div",{className:"bg-black border-t border-b border-cyan-500/30 py-12 -mx-6 px-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-3xl font-medium text-cyan-400 mb-3",children:"Agentic Orchestration at Scale"}),e.jsxs("div",{className:"space-y-1 text-white",children:[e.jsx("p",{className:"text-base font-normal",children:"Orchestrate agents across ecosystems"}),e.jsx("p",{className:"text-base font-normal",children:"Observe every agent interaction in real time"}),e.jsx("p",{className:"text-base font-normal",children:"Govern any agent, built anywhere"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{id:"agent-performance-monitor",className:"grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-6",children:[e.jsx(vs,{}),e.jsx(Ns,{agents:t})]}),e.jsx(js,{}),e.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-cyan-500/30 p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-2xl font-medium text-cyan-400 mb-2 cursor-help",title:"Cross-Agentic Orchestration (xAO) coordinates multiple autonomOS instances across federated domains.",children:"xAO Metrics"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cross-agentic orchestration metrics and coordination details"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(a=>e.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors cursor-help",title:n(a.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-200",children:a.name}),o(a.trend)]})}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-xl font-bold text-cyan-400",children:a.value})})]}),e.jsx("p",{className:"text-xs text-slate-500",children:a.description})]},a.id))})]})]})]})}const ks=[{id:"ap1",name:"RevOps Agent",status:"running",executionsPerHour:342,cpuPercent:23,memoryMB:512},{id:"ap2",name:"FinOps Agent",status:"running",executionsPerHour:189,cpuPercent:18,memoryMB:448},{id:"ap3",name:"Sales Forecasting",status:"warning",executionsPerHour:67,cpuPercent:45,memoryMB:892},{id:"ap4",name:"Churn Predictor",status:"running",executionsPerHour:124,cpuPercent:31,memoryMB:674},{id:"ap5",name:"Lead Scoring",status:"running",executionsPerHour:298,cpuPercent:19,memoryMB:423}];function Ss(){return e.jsxs("div",{className:"space-y-6 px-4 sm:px-6 py-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Orchestration"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-4xl leading-relaxed",children:"Meta-level agent coordination at scale. The Orchestration Layer observes, governs, and optimizes all domain agents in real timeâ€”enabling cross-agentic workflows, federated coordination, and autonomous system evolution."})]}),e.jsx(ws,{agents:ks})]})}function As(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agents"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"AI-powered agents for domain-specific automation"})]}),e.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-cyan-500/30 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-medium text-cyan-400 mb-2",children:"Agent Demos"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Interactive demonstrations of specialized agents in production"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800/60 rounded-xl border border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-900/50 px-4 py-3 border-b border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"FinOps Agent"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Financial operations optimization and cost management"})]}),e.jsx(ae,{...re("finops-agent")})]}),e.jsx("div",{className:"relative",style:{height:"600px"},children:e.jsx("iframe",{src:"https://axiom-finops-demo.replit.app/",className:"w-full h-full",title:"FinOps Agent Demo",style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]}),e.jsxs("div",{className:"bg-slate-800/60 rounded-xl border border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-900/50 px-4 py-3 border-b border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"RevOps Agent"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue operations analytics and pipeline management"})]}),e.jsx(ae,{...re("revops-agent")})]}),e.jsx("div",{className:"relative",style:{height:"600px"},children:e.jsx("iframe",{src:"https://autonomos-dcl-light.replit.app/",className:"w-full h-full",title:"RevOps Agent Demo",style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]})]})]})]})}function Cs(){const[t,i]=r.useState(0),n=a=>{i(t===a?null:a)},o=[{question:"What is AutonomOS?",answer:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-300",children:["AutonomOS is an AI-native, ",e.jsx("strong",{className:"text-white",children:"enterprise-grade"})," platform that turns your scattered company data into action."]}),e.jsxs("p",{className:"text-gray-300",children:["It autonomously connects to all your apps, databases, and files, learning how they fit together to create a single, unified enterprise ",e.jsx("strong",{className:"text-white",children:"ontology"}),". This allows our specialized AI agents to reason, act, and get work done."]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-3",children:"The Problem"}),e.jsx("p",{className:"text-gray-300",children:`Most companies are data-rich but action-poor. They can't bridge the "Insight-to-Action Gap" between their data and their business goals, leading to inefficiency and inaction.`})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-3",children:"Our Solution"}),e.jsxs("p",{className:"text-gray-300",children:["AutonomOS bridges this gap. It not only unifies your data but empowers pre-built AI agents to execute complex workflows. You remain in control with Human-in-the-Loop (HITL) guardrails. We deliver a complete, ",e.jsx("strong",{className:"text-white",children:"secure"}),", and scalable solutionâ€”combining technology with the domain expertise to ensure you get results, not just another proof-of-concept (POC)."]})]})]})},{question:"What are your security standards?",answer:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-4",children:"Security & Compliance Roadmap"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-[#0D2F3F]",children:[e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 0: Secure Core (Today)"}),e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 1: Enterprise Readiness (0â€“6 Months)"}),e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 2: Continuous Compliance (6â€“18 Months)"})]}),e.jsxs("tr",{className:"bg-[#0A2540]",children:[e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Status: Implemented"}),e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Goal: Pass Enterprise Security Assessments"}),e.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Goal: Operate with Automated Trust at Scale"})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Zero Data Retention Model"})," (Ephemeral in-memory processing)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"SOC 2 Type I Certification"})," (Fast-tracked)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"SOC 2 Type II + ISO 27001"})})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Robust Multi-Tenant Isolation"})," (DB-level, tenant-scoped queries)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"3rd-Party Penetration Test"})})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"Bring Your Own Key (BYOK)"})})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Zero-Trust Infrastructure"})," (VPC, TLS 1.3, Secrets Mgmt)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Single Sign-On (SSO)"})," (Okta, Azure AD)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"Customer-Managed RBAC"})})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Secure API & Software Lifecycle"})," (Pydantic validation, CI/CD scans)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Private Connectivity"})," (AWS PrivateLink)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"Regional Data Residency Controls"})})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Immutable Audit Trail"})," (Metadata-only logging)"]})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"Public Trust Portal & Incident Response Plan"})})]})}),e.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ”²"}),e.jsx("span",{children:e.jsx("strong",{className:"text-white",children:"AI-Driven Threat Detection"})})]})})]})]})]})})]})})},{question:"What is the Adaptive API Mesh (AAM)?",answer:"The Adaptive API Mesh is an intelligent connectivity layer that uses AI to automatically build, maintain, and repair connections between disparate enterprise systems. It provides self-healing integration capabilities that adapt to changes in your data sources and APIs, ensuring your workflows remain resilient and operational without manual intervention."},{question:"How does the Data Connectivity Layer (DCL) work?",answer:"The DCL is the core data intelligence engine that autonomously maps disparate data sets into a Unified Enterprise Ontology. It uses AI to understand your data semantics, create contextual relationships, and generate AI-ready data streams. The DCL feeds a Contextual RAG engine that continuously learns from your data patterns, enabling intelligent agents to make informed decisions."},{question:"What are Prebuilt Domain Agents?",answer:"Prebuilt Domain Agents are productized domain expertise packages designed for specific business functions like FinOps and RevOps. These agents leverage the AI-prepared data fabric to autonomously execute complex, end-to-end business workflows. They use advanced LLM capabilities (supporting multiple providers like Gemini and OpenAI) to reason about your data, learn from patterns, and take intelligent actions."},{question:"Can I customize the agents and workflows?",answer:"Yes, while we provide Prebuilt Domain Agents for common use cases, the platform supports custom agent deployment. You can leverage our AI-prepared data fabric and orchestration capabilities to build agents tailored to your specific business needs. The LLM service abstraction allows you to choose the best model for each task."}];return e.jsx("div",{className:"min-h-screen bg-[#0A1628] py-8 px-4 safe-area",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-medium text-white mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Learn more about AutonomOS and its AI-native capabilities"})]}),e.jsx("div",{className:"space-y-4",children:o.map((a,d)=>e.jsxs("div",{className:"bg-[#0D2F3F] border border-[#1A4D5E] rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n(d),className:"w-full px-6 py-5 flex items-center justify-between text-left hover:bg-[#0F3A4F] transition-colors",children:[e.jsx("h3",{className:"text-lg font-medium text-white pr-4",children:a.question}),t===d?e.jsx(_t,{className:"w-5 h-5 text-[#0BCAD9] flex-shrink-0"}):e.jsx(pe,{className:"w-5 h-5 text-[#0BCAD9] flex-shrink-0"})]}),t===d&&e.jsx("div",{className:"px-6 py-5 border-t border-[#1A4D5E] bg-[#0A2540]",children:typeof a.answer=="string"?e.jsx("p",{className:"text-gray-300 leading-relaxed",children:a.answer}):a.answer})]},d))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-[#0D2F3F] border border-[#0BCAD9]/30 rounded-xl p-8",children:[e.jsx("h3",{className:"text-xl font-medium text-white mb-3",children:"Still have questions?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Our team is here to help you understand how AutonomOS can transform your enterprise intelligence."}),e.jsx("button",{className:"px-6 py-3 bg-[#0BCAD9] hover:bg-[#0AA5B3] text-white rounded-lg font-medium transition-colors",children:"Contact Support"})]})})]})})}function _s(){const t=r.useContext(Je);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Ms({isOpen:t,onClose:i,initialMode:n="login"}){const[o,a]=r.useState(n==="signup"?"register":"login"),[d,s]=r.useState(!1),[x,m]=r.useState(""),[v,k]=r.useState(!1),[b,h]=r.useState(""),[p,u]=r.useState(""),[N,f]=r.useState(""),[_,L]=r.useState(""),[z,E]=r.useState(""),{login:F,register:B}=_s(),P=r.useRef(null);if(r.useEffect(()=>{t&&P.current&&setTimeout(()=>P.current?.focus(),100)},[t,o]),r.useEffect(()=>{m("")},[o]),!t)return null;const S=async g=>{g.preventDefault(),m(""),s(!0);try{await F(b,p),i()}catch(C){m(C.message||"Invalid credentials")}finally{s(!1)}},I=async g=>{g.preventDefault(),m(""),s(!0);try{await B(N,_,z),i()}catch(C){m(C.message||"Registration failed")}finally{s(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-fadeIn",children:e.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl w-full max-w-md mx-4 animate-slideUp",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Welcome to autonomOS"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sign in to continue"})]})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors",disabled:d,children:e.jsx(ke,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-2.5 rounded-lg font-medium transition-all ${o==="login"?"bg-cyan-600 text-white shadow-lg shadow-cyan-600/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,disabled:d,children:"Login"}),e.jsx("button",{onClick:()=>a("register"),className:`flex-1 py-2.5 rounded-lg font-medium transition-all ${o==="register"?"bg-cyan-600 text-white shadow-lg shadow-cyan-600/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,disabled:d,children:"Register"})]}),x&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-400",children:x})}),o==="login"?e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{ref:P,type:"email",value:b,onChange:g=>h(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"your@email.com",required:!0,disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v?"text":"password",value:p,onChange:g=>u(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,disabled:d}),e.jsx("button",{type:"button",onClick:()=>k(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:d,children:v?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-semibold rounded-lg transition-all shadow-lg shadow-cyan-600/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Log In"})]}):e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),e.jsx("input",{ref:P,type:"text",value:N,onChange:g=>f(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"Your Name",required:!0,disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:_,onChange:g=>L(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"your@email.com",required:!0,disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v?"text":"password",value:z,onChange:g=>E(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,minLength:6,disabled:d}),e.jsx("button",{type:"button",onClick:()=>k(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:d,children:v?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-semibold rounded-lg transition-all shadow-lg shadow-cyan-600/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]})]})})})}function Ds(){const t=()=>{const b=window.location.pathname.slice(1);return["control-center","discover","connect","ontology","orchestration","agents","faq"].includes(b)?b:"control-center"},[i,n]=r.useState(t()),[o,a]=r.useState(!1),[d,s]=r.useState("login"),{legacyMode:x}=we();r.useEffect(()=>{const b=h=>{const u=h.detail?.page;u&&(n(u),window.history.pushState({},"",`/${u}`))};return window.addEventListener("navigate",b),()=>{window.removeEventListener("navigate",b)}},[]),r.useEffect(()=>{const b=()=>{const h=window.location.pathname.slice(1);["control-center","discover","connect","ontology","orchestration","agents","faq"].includes(h)&&n(h)};return window.addEventListener("popstate",b),()=>{window.removeEventListener("popstate",b)}},[]);const m=b=>{s(b),a(!0)},v=()=>{a(!1)},k=()=>{switch(i){case"control-center":return e.jsx(Fe,{});case"discover":return e.jsx(ts,{});case"connect":return e.jsx(rs,{});case"ontology":return e.jsx(ps,{});case"orchestration":return e.jsx(Ss,{});case"agents":return e.jsx(As,{});case"faq":return e.jsx(Cs,{});default:return e.jsx(Fe,{})}};return e.jsxs(e.Fragment,{children:[e.jsx(Yt,{currentPage:i,onNavigate:n,onAuthOpen:m,children:k()}),o&&e.jsx(Ms,{isOpen:o,onClose:v,initialMode:d})]})}function Ls(){return e.jsx(jt,{children:e.jsx(vt,{children:e.jsx(Ds,{})})})}const he={sources:[],agents:[],devMode:!1};function Es(){console.log("[DCL Bridge] Initializing..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("[DCL Bridge] DOM loaded, setting up DCL controls"),Ue()}):(console.log("[DCL Bridge] DOM already loaded, setting up DCL controls"),Ue())}function Ue(){window.dclConnect=async function(t,i){const n=t||"dynamics,salesforce,hubspot",o=i||"revops_pilot,finops_pilot";console.log(`[DCL] Connecting sources: ${n}, agents: ${o}`);const a=encodeURIComponent(n),d=encodeURIComponent(o);try{const x=await(await fetch(`/dcl/connect?sources=${a}&agents=${d}`)).json();return console.log("[DCL Connect Success]",x),x}catch(s){throw console.error("[DCL Connect Error]",s),s}},window.dclReset=async function(){console.log("[DCL] âš ï¸ DEPRECATED: dclReset() is deprecated. Reset functionality removed - calling dclConnect() instead."),console.log("[DCL] Backend /dcl/connect is now idempotent and handles state clearing automatically.");try{const t=he.sources.length>0?he.sources.join(","):"dynamics,salesforce,hubspot",i=he.agents.length>0?he.agents.join(","):"revops_pilot,finops_pilot";return await window.dclConnect(t,i)}catch(t){throw console.error("[DCL] Error in deprecated dclReset():",t),t}},window.dclToggleDevMode=async function(){console.log("[DCL] Toggling dev mode...");try{const i=await(await fetch("/dcl/toggle_dev_mode")).json();return console.log("[DCL Toggle Dev Mode Success]",i),i}catch(t){throw console.error("[DCL Toggle Dev Mode Error]",t),t}},console.log("[DCL Bridge] Ready! Use:"),console.log("  - window.dclConnect() to connect sources"),console.log("  - window.dclReset() [DEPRECATED] calls dclConnect() - use dclConnect() instead"),console.log("  - window.dclToggleDevMode() to toggle dev mode"),console.log("  Note: State updates now use WebSocket instead of polling")}const Rs="2025-10-25T12:10:00Z";window.__BUILD_ID__=Rs;bt.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(Ls,{})}));Es();export{R as A,e as j,r};
