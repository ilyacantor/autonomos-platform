const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-DYARJQbF.js","assets/graph-oyYCszyr.js","assets/_baseUniq-O2XGHe3t.js","assets/layout-C_MsedNQ.js","assets/_basePickBy-BSbEraKr.js","assets/clone-DJ3YealS.js","assets/cose-bilkent-S5V4N54A-ZCPdditA.js","assets/cytoscape.esm-DtBltrT8.js","assets/c4Diagram-YG6GDRKO-CaJDMbYe.js","assets/chunk-TZMSLE5B-EK-xZ1Kf.js","assets/flowDiagram-NV44I4VS-BOFH5W5r.js","assets/chunk-FMBD7UC4-CgVH1KKL.js","assets/chunk-55IACEB6-CeWIJt3_.js","assets/chunk-QN33PNHL-B1fO4S9-.js","assets/channel-Dqftm4l6.js","assets/erDiagram-Q2GNP2WA-De3KNcbA.js","assets/gitGraphDiagram-NY62KEGX-DP34MO3T.js","assets/chunk-4BX2VUAB-BbEH5ICy.js","assets/chunk-QZHKN3VN-Cz_ISc7t.js","assets/treemap-KMMF4GRG-C5pqfX1k.js","assets/ganttDiagram-LVOFAZNH-kTCpvhqB.js","assets/linear-BG7bRvpf.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-ER5ION4S-Bhc8Qr4H.js","assets/pieDiagram-ADFJNKIX-DAVIruyO.js","assets/arc-qoIXegQW.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-BxXlsvcZ.js","assets/xychartDiagram-PRI3JC2R-C6Mw9YiM.js","assets/requirementDiagram-UZGBJVZJ-DZR-8AL6.js","assets/sequenceDiagram-WL72ISMW-B1037jwI.js","assets/classDiagram-2ON5EDUG-Cx54nAvR.js","assets/chunk-B4BG7PRW-gpP5dTKe.js","assets/classDiagram-v2-WZHVMYZB-Cx54nAvR.js","assets/stateDiagram-FKZM4ZOC-COzC8qCf.js","assets/chunk-DI55MBZ5-BZ2DVKqO.js","assets/stateDiagram-v2-4FDKWEC3-M_tOjae5.js","assets/journeyDiagram-XKPGCS4Q-DkLWir-r.js","assets/timeline-definition-IT6M3QCI-fHgFQiaM.js","assets/mindmap-definition-VGOIOE7T-C3Jsgk1M.js","assets/kanban-definition-3W4ZIXB7-DkX759p2.js","assets/sankeyDiagram-TZEHDZUN-ulcdV16_.js","assets/diagram-S2PKOQOG-DeeoCRpw.js","assets/diagram-QEK2KX5R-CfE6Eo4l.js","assets/blockDiagram-VD42YOAC-DyW-emW4.js","assets/architectureDiagram-VXUJARFQ-CliRL70h.js","assets/diagram-PSM6KHXK-BKEfYqsu.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function PS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vd={exports:{}},lo={},Gd={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function RS(){if(ax)return Qe;ax=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function _(A,G,ie){this.props=A,this.context=G,this.refs=C,this.updater=ie||v}_.prototype.isReactComponent={},_.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},_.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(A,G,ie){this.props=A,this.context=G,this.refs=C,this.updater=ie||v}var M=N.prototype=new S;M.constructor=N,b(M,_.prototype),M.isPureReactComponent=!0;var P=Array.isArray,D=Object.prototype.hasOwnProperty,V={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function q(A,G,ie){var pe,de={},Ae=null,Be=null;if(G!=null)for(pe in G.ref!==void 0&&(Be=G.ref),G.key!==void 0&&(Ae=""+G.key),G)D.call(G,pe)&&!z.hasOwnProperty(pe)&&(de[pe]=G[pe]);var ze=arguments.length-2;if(ze===1)de.children=ie;else if(1<ze){for(var Ve=Array(ze),Ge=0;Ge<ze;Ge++)Ve[Ge]=arguments[Ge+2];de.children=Ve}if(A&&A.defaultProps)for(pe in ze=A.defaultProps,ze)de[pe]===void 0&&(de[pe]=ze[pe]);return{$$typeof:t,type:A,key:Ae,ref:Be,props:de,_owner:V.current}}function te(A,G){return{$$typeof:t,type:A.type,key:G,ref:A.ref,props:A.props,_owner:A._owner}}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function F(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ie){return G[ie]})}var ee=/\/+/g;function Z(A,G){return typeof A=="object"&&A!==null&&A.key!=null?F(""+A.key):G.toString(36)}function U(A,G,ie,pe,de){var Ae=typeof A;(Ae==="undefined"||Ae==="boolean")&&(A=null);var Be=!1;if(A===null)Be=!0;else switch(Ae){case"string":case"number":Be=!0;break;case"object":switch(A.$$typeof){case t:case e:Be=!0}}if(Be)return Be=A,de=de(Be),A=pe===""?"."+Z(Be,0):pe,P(de)?(ie="",A!=null&&(ie=A.replace(ee,"$&/")+"/"),U(de,G,ie,"",function(Ge){return Ge})):de!=null&&(Q(de)&&(de=te(de,ie+(!de.key||Be&&Be.key===de.key?"":(""+de.key).replace(ee,"$&/")+"/")+A)),G.push(de)),1;if(Be=0,pe=pe===""?".":pe+":",P(A))for(var ze=0;ze<A.length;ze++){Ae=A[ze];var Ve=pe+Z(Ae,ze);Be+=U(Ae,G,ie,Ve,de)}else if(Ve=x(A),typeof Ve=="function")for(A=Ve.call(A),ze=0;!(Ae=A.next()).done;)Ae=Ae.value,Ve=pe+Z(Ae,ze++),Be+=U(Ae,G,ie,Ve,de);else if(Ae==="object")throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Be}function j(A,G,ie){if(A==null)return A;var pe=[],de=0;return U(A,pe,"","",function(Ae){return G.call(ie,Ae,de++)}),pe}function $(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(ie){(A._status===0||A._status===-1)&&(A._status=1,A._result=ie)},function(ie){(A._status===0||A._status===-1)&&(A._status=2,A._result=ie)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var O={current:null},E={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:E,ReactCurrentOwner:V};function H(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:j,forEach:function(A,G,ie){j(A,function(){G.apply(this,arguments)},ie)},count:function(A){var G=0;return j(A,function(){G++}),G},toArray:function(A){return j(A,function(G){return G})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Qe.Component=_,Qe.Fragment=r,Qe.Profiler=s,Qe.PureComponent=N,Qe.StrictMode=i,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,Qe.act=H,Qe.cloneElement=function(A,G,ie){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var pe=b({},A.props),de=A.key,Ae=A.ref,Be=A._owner;if(G!=null){if(G.ref!==void 0&&(Ae=G.ref,Be=V.current),G.key!==void 0&&(de=""+G.key),A.type&&A.type.defaultProps)var ze=A.type.defaultProps;for(Ve in G)D.call(G,Ve)&&!z.hasOwnProperty(Ve)&&(pe[Ve]=G[Ve]===void 0&&ze!==void 0?ze[Ve]:G[Ve])}var Ve=arguments.length-2;if(Ve===1)pe.children=ie;else if(1<Ve){ze=Array(Ve);for(var Ge=0;Ge<Ve;Ge++)ze[Ge]=arguments[Ge+2];pe.children=ze}return{$$typeof:t,type:A.type,key:de,ref:Ae,props:pe,_owner:Be}},Qe.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:o,_context:A},A.Consumer=A},Qe.createElement=q,Qe.createFactory=function(A){var G=q.bind(null,A);return G.type=A,G},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(A){return{$$typeof:l,render:A}},Qe.isValidElement=Q,Qe.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:$}},Qe.memo=function(A,G){return{$$typeof:d,type:A,compare:G===void 0?null:G}},Qe.startTransition=function(A){var G=E.transition;E.transition={};try{A()}finally{E.transition=G}},Qe.unstable_act=H,Qe.useCallback=function(A,G){return O.current.useCallback(A,G)},Qe.useContext=function(A){return O.current.useContext(A)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(A){return O.current.useDeferredValue(A)},Qe.useEffect=function(A,G){return O.current.useEffect(A,G)},Qe.useId=function(){return O.current.useId()},Qe.useImperativeHandle=function(A,G,ie){return O.current.useImperativeHandle(A,G,ie)},Qe.useInsertionEffect=function(A,G){return O.current.useInsertionEffect(A,G)},Qe.useLayoutEffect=function(A,G){return O.current.useLayoutEffect(A,G)},Qe.useMemo=function(A,G){return O.current.useMemo(A,G)},Qe.useReducer=function(A,G,ie){return O.current.useReducer(A,G,ie)},Qe.useRef=function(A){return O.current.useRef(A)},Qe.useState=function(A){return O.current.useState(A)},Qe.useSyncExternalStore=function(A,G,ie){return O.current.useSyncExternalStore(A,G,ie)},Qe.useTransition=function(){return O.current.useTransition()},Qe.version="18.3.1",Qe}var ox;function Mp(){return ox||(ox=1,Gd.exports=RS()),Gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function OS(){if(lx)return lo;lx=1;var t=Mp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(l,h,d){var p,m={},x=null,v=null;d!==void 0&&(x=""+d),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(v=h.ref);for(p in h)i.call(h,p)&&!o.hasOwnProperty(p)&&(m[p]=h[p]);if(l&&l.defaultProps)for(p in h=l.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:l,key:x,ref:v,props:m,_owner:s.current}}return lo.Fragment=r,lo.jsx=c,lo.jsxs=c,lo}var cx;function IS(){return cx||(cx=1,Vd.exports=OS()),Vd.exports}var f=IS(),ne=Mp(),bc={},Xd={exports:{}},gr={},Qd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function zS(){return ux||(ux=1,(function(t){function e(E,L){var H=E.length;E.push(L);e:for(;0<H;){var A=H-1>>>1,G=E[A];if(0<s(G,L))E[A]=L,E[H]=G,H=A;else break e}}function r(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var L=E[0],H=E.pop();if(H!==L){E[0]=H;e:for(var A=0,G=E.length,ie=G>>>1;A<ie;){var pe=2*(A+1)-1,de=E[pe],Ae=pe+1,Be=E[Ae];if(0>s(de,H))Ae<G&&0>s(Be,de)?(E[A]=Be,E[Ae]=H,A=Ae):(E[A]=de,E[pe]=H,A=pe);else if(Ae<G&&0>s(Be,H))E[A]=Be,E[Ae]=H,A=Ae;else break e}}return L}function s(E,L){var H=E.sortIndex-L.sortIndex;return H!==0?H:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var h=[],d=[],p=1,m=null,x=3,v=!1,b=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(E){for(var L=r(d);L!==null;){if(L.callback===null)i(d);else if(L.startTime<=E)i(d),L.sortIndex=L.expirationTime,e(h,L);else break;L=r(d)}}function P(E){if(C=!1,M(E),!b)if(r(h)!==null)b=!0,$(D);else{var L=r(d);L!==null&&O(P,L.startTime-E)}}function D(E,L){b=!1,C&&(C=!1,S(q),q=-1),v=!0;var H=x;try{for(M(L),m=r(h);m!==null&&(!(m.expirationTime>L)||E&&!F());){var A=m.callback;if(typeof A=="function"){m.callback=null,x=m.priorityLevel;var G=A(m.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(h)&&i(h),M(L)}else i(h);m=r(h)}if(m!==null)var ie=!0;else{var pe=r(d);pe!==null&&O(P,pe.startTime-L),ie=!1}return ie}finally{m=null,x=H,v=!1}}var V=!1,z=null,q=-1,te=5,Q=-1;function F(){return!(t.unstable_now()-Q<te)}function ee(){if(z!==null){var E=t.unstable_now();Q=E;var L=!0;try{L=z(!0,E)}finally{L?Z():(V=!1,z=null)}}else V=!1}var Z;if(typeof N=="function")Z=function(){N(ee)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=ee,Z=function(){j.postMessage(null)}}else Z=function(){_(ee,0)};function $(E){z=E,V||(V=!0,Z())}function O(E,L){q=_(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,$(D))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(E){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var H=x;x=L;try{return E()}finally{x=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var H=x;x=E;try{return L()}finally{x=H}},t.unstable_scheduleCallback=function(E,L,H){var A=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?A+H:A):H=A,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,E={id:p++,callback:L,priorityLevel:E,startTime:H,expirationTime:G,sortIndex:-1},H>A?(E.sortIndex=H,e(d,E),r(h)===null&&E===r(d)&&(C?(S(q),q=-1):C=!0,O(P,H-A))):(E.sortIndex=G,e(h,E),b||v||(b=!0,$(D))),E},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(E){var L=x;return function(){var H=x;x=L;try{return E.apply(this,arguments)}finally{x=H}}}})(Kd)),Kd}var hx;function WS(){return hx||(hx=1,Qd.exports=zS()),Qd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function HS(){if(dx)return gr;dx=1;var t=Mp(),e=WS();function r(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(n,a){c(n,a),c(n+"Capture",a)}function c(n,a){for(s[n]=a,n=0;n<a.length;n++)i.add(a[n])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(n){return h.call(m,n)?!0:h.call(p,n)?!1:d.test(n)?m[n]=!0:(p[n]=!0,!1)}function v(n,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,a,u,g){if(a===null||typeof a>"u"||v(n,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(n,a,u,g,y,w,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=a,this.sanitizeURL=w,this.removeEmptyString=T}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];_[a]=new C(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(S,N);_[a]=new C(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(S,N);_[a]=new C(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(S,N);_[a]=new C(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,a,u,g){var y=_.hasOwnProperty(a)?_[a]:null;(y!==null?y.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,u,y,g)&&(u=null),g||y===null?x(a)&&(u===null?n.removeAttribute(a):n.setAttribute(a,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,g=y.attributeNamespace,u===null?n.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,g?n.setAttributeNS(g,a,u):n.setAttribute(a,u))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),E=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=E&&n[E]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,A;function G(n){if(A===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+n}var ie=!1;function pe(n,a){if(!n||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var g=J}Reflect.construct(n,[],a)}else{try{a.call()}catch(J){g=J}n.call(a.prototype)}else{try{throw Error()}catch(J){g=J}n()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var y=J.stack.split(`
`),w=g.stack.split(`
`),T=y.length-1,B=w.length-1;1<=T&&0<=B&&y[T]!==w[B];)B--;for(;1<=T&&0<=B;T--,B--)if(y[T]!==w[B]){if(T!==1||B!==1)do if(T--,B--,0>B||y[T]!==w[B]){var R=`
`+y[T].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=T&&0<=B);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?G(n):""}function de(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=pe(n.type,!1),n;case 11:return n=pe(n.type.render,!1),n;case 1:return n=pe(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case V:return"Portal";case te:return"Profiler";case q:return"StrictMode";case Z:return"Suspense";case U:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F:return(n.displayName||"Context")+".Consumer";case Q:return(n._context.displayName||"Context")+".Provider";case ee:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return a=n.displayName||null,a!==null?a:Ae(n.type)||"Memo";case $:a=n._payload,n=n._init;try{return Ae(n(a))}catch{}}return null}function Be(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ze(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ve(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ge(n){var a=Ve(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),g=""+n[a];if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){g=""+T,w.call(this,T)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ct(n){n._valueTracker||(n._valueTracker=Ge(n))}function Jt(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return n&&(g=Ve(n)?n.checked?"true":"false":n.value),n=g,n!==u?(a.setValue(n),!0):!1}function vt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ln(n,a){var u=a.checked;return H({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function re(n,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=ze(a.value!=null?a.value:u),n._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function he(n,a){a=a.checked,a!=null&&M(n,"checked",a,!1)}function oe(n,a){he(n,a);var u=ze(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(g==="submit"||g==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?Le(n,a.type,u):a.hasOwnProperty("defaultValue")&&Le(n,a.type,ze(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function ke(n,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,u||a===n.value||(n.value=a),n.defaultValue=a}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Le(n,a,u){(a!=="number"||vt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var He=Array.isArray;function Ye(n,a,u,g){if(n=n.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=a.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&g&&(n[u].defaultSelected=!0)}else{for(u=""+ze(u),a=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,g&&(n[y].defaultSelected=!0);return}a!==null||n[y].disabled||(a=n[y])}a!==null&&(a.selected=!0)}}function gt(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lr(n,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(He(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}n._wrapperState={initialValue:ze(u)}}function cn(n,a){var u=ze(a.value),g=ze(a.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),a.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),g!=null&&(n.defaultValue=""+g)}function Nr(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function cr(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function un(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?cr(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mi,wa=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,y){MSApp.execUnsafeLocalFunction(function(){return n(a,u,g,y)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Mi.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Xn(n,a){if(a){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=a;return}}n.textContent=a}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hl=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(n){hl.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Tn[a]=Tn[n]})});function ji(n,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Tn.hasOwnProperty(n)&&Tn[n]?(""+a).trim():a+"px"}function Bi(n,a){n=n.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,y=ji(u,a[u],g);u==="float"&&(u="cssFloat"),g?n.setProperty(u,y):n[u]=y}}var zr=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(n,a){if(a){if(zr[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Di(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qn=null,Wr=null,Kn=null;function Zn(n){if(n=Va(n)){if(typeof Qn!="function")throw Error(r(280));var a=n.stateNode;a&&(a=$l(a),Qn(n.stateNode,n.type,a))}}function dl(n){Wr?Kn?Kn.push(n):Kn=[n]:Wr=n}function fl(){if(Wr){var n=Wr,a=Kn;if(Kn=Wr=null,Zn(n),a)for(n=0;n<a.length;n++)Zn(a[n])}}function bt(n,a){return n(a)}function Nn(){}var Ca=!1;function _a(n,a,u){if(Ca)return n(a,u);Ca=!0;try{return bt(n,a,u)}finally{Ca=!1,(Wr!==null||Kn!==null)&&(Nn(),fl())}}function An(n,a){var u=n.stateNode;if(u===null)return null;var g=$l(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var bs=!1;if(l)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{bs=!1}function fh(n,a,u,g,y,w,T,B,R){var J=Array.prototype.slice.call(arguments,3);try{a.apply(u,J)}catch(le){this.onError(le)}}var Wt=!1,Ar=null,Fi=!1,ws=null,Sa={onError:function(n){Wt=!0,Ar=n}};function pl(n,a,u,g,y,w,T,B,R){Wt=!1,Ar=null,fh.apply(Sa,arguments)}function Hr(n,a,u,g,y,w,T,B,R){if(pl.apply(this,arguments),Wt){if(Wt){var J=Ar;Wt=!1,Ar=null}else throw Error(r(198));Fi||(Fi=!0,ws=J)}}function dn(n){var a=n,u=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(u=a.return),n=a.return;while(n)}return a.tag===3?u:null}function Ta(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Na(n){if(dn(n)!==n)throw Error(r(188))}function gl(n){var a=n.alternate;if(!a){if(a=dn(n),a===null)throw Error(r(188));return a!==n?null:n}for(var u=n,g=a;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(g=y.return,g!==null){u=g;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return Na(y),n;if(w===g)return Na(y),a;w=w.sibling}throw Error(r(188))}if(u.return!==g.return)u=y,g=w;else{for(var T=!1,B=y.child;B;){if(B===u){T=!0,u=y,g=w;break}if(B===g){T=!0,g=y,u=w;break}B=B.sibling}if(!T){for(B=w.child;B;){if(B===u){T=!0,u=w,g=y;break}if(B===g){T=!0,g=w,u=y;break}B=B.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:a}function ml(n){return n=gl(n),n!==null?Me(n):null}function Me(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=Me(n);if(a!==null)return a;n=n.sibling}return null}var I=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,Ce=e.unstable_shouldYield,at=e.unstable_requestPaint,Xe=e.unstable_now,mt=e.unstable_getCurrentPriorityLevel,Dt=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,qr=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,_t=e.unstable_IdlePriority,Pi=null,br=null;function ZC(n){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:t_,JC=Math.log,e_=Math.LN2;function t_(n){return n>>>=0,n===0?32:31-(JC(n)/e_|0)|0}var xl=64,yl=4194304;function Ea(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vl(n,a){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,w=n.pingedLanes,T=u&268435455;if(T!==0){var B=T&~y;B!==0?g=Ea(B):(w&=T,w!==0&&(g=Ea(w)))}else T=u&~y,T!==0?g=Ea(T):w!==0&&(g=Ea(w));if(g===0)return 0;if(a!==0&&a!==g&&(a&y)===0&&(y=g&-g,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if((g&4)!==0&&(g|=u&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=g;0<a;)u=31-Ur(a),y=1<<u,g|=n[u],a&=~y;return g}function r_(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n_(n,a){for(var u=n.suspendedLanes,g=n.pingedLanes,y=n.expirationTimes,w=n.pendingLanes;0<w;){var T=31-Ur(w),B=1<<T,R=y[T];R===-1?((B&u)===0||(B&g)!==0)&&(y[T]=r_(B,a)):R<=a&&(n.expiredLanes|=B),w&=~B}}function ph(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Pg(){var n=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),n}function gh(n){for(var a=[],u=0;31>u;u++)a.push(n);return a}function La(n,a,u){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-Ur(a),n[a]=u}function i_(n,a){var u=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var g=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-Ur(u),w=1<<y;a[y]=0,g[y]=-1,n[y]=-1,u&=~w}}function mh(n,a){var u=n.entangledLanes|=a;for(n=n.entanglements;u;){var g=31-Ur(u),y=1<<g;y&a|n[g]&a&&(n[g]|=a),u&=~y}}var st=0;function Rg(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Og,xh,Ig,zg,Wg,yh=!1,bl=[],ei=null,ti=null,ri=null,Ma=new Map,ja=new Map,ni=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hg(n,a){switch(n){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Ma.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(a.pointerId)}}function Ba(n,a,u,g,y,w){return n===null||n.nativeEvent!==w?(n={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Va(a),a!==null&&xh(a)),n):(n.eventSystemFlags|=g,a=n.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),n)}function a_(n,a,u,g,y){switch(a){case"focusin":return ei=Ba(ei,n,a,u,g,y),!0;case"dragenter":return ti=Ba(ti,n,a,u,g,y),!0;case"mouseover":return ri=Ba(ri,n,a,u,g,y),!0;case"pointerover":var w=y.pointerId;return Ma.set(w,Ba(Ma.get(w)||null,n,a,u,g,y)),!0;case"gotpointercapture":return w=y.pointerId,ja.set(w,Ba(ja.get(w)||null,n,a,u,g,y)),!0}return!1}function qg(n){var a=Ri(n.target);if(a!==null){var u=dn(a);if(u!==null){if(a=u.tag,a===13){if(a=Ta(u),a!==null){n.blockedOn=a,Wg(n.priority,function(){Ig(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var u=bh(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var g=new u.constructor(u.type,u);$i=g,u.target.dispatchEvent(g),$i=null}else return a=Va(u),a!==null&&xh(a),n.blockedOn=u,!1;a.shift()}return!0}function Ug(n,a,u){wl(n)&&u.delete(a)}function o_(){yh=!1,ei!==null&&wl(ei)&&(ei=null),ti!==null&&wl(ti)&&(ti=null),ri!==null&&wl(ri)&&(ri=null),Ma.forEach(Ug),ja.forEach(Ug)}function Da(n,a){n.blockedOn===a&&(n.blockedOn=null,yh||(yh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o_)))}function $a(n){function a(y){return Da(y,n)}if(0<bl.length){Da(bl[0],n);for(var u=1;u<bl.length;u++){var g=bl[u];g.blockedOn===n&&(g.blockedOn=null)}}for(ei!==null&&Da(ei,n),ti!==null&&Da(ti,n),ri!==null&&Da(ri,n),Ma.forEach(a),ja.forEach(a),u=0;u<ni.length;u++)g=ni[u],g.blockedOn===n&&(g.blockedOn=null);for(;0<ni.length&&(u=ni[0],u.blockedOn===null);)qg(u),u.blockedOn===null&&ni.shift()}var ks=P.ReactCurrentBatchConfig,kl=!0;function l_(n,a,u,g){var y=st,w=ks.transition;ks.transition=null;try{st=1,vh(n,a,u,g)}finally{st=y,ks.transition=w}}function c_(n,a,u,g){var y=st,w=ks.transition;ks.transition=null;try{st=4,vh(n,a,u,g)}finally{st=y,ks.transition=w}}function vh(n,a,u,g){if(kl){var y=bh(n,a,u,g);if(y===null)Ph(n,a,g,Cl,u),Hg(n,g);else if(a_(y,n,a,u,g))g.stopPropagation();else if(Hg(n,g),a&4&&-1<s_.indexOf(n)){for(;y!==null;){var w=Va(y);if(w!==null&&Og(w),w=bh(n,a,u,g),w===null&&Ph(n,a,g,Cl,u),w===y)break;y=w}y!==null&&g.stopPropagation()}else Ph(n,a,g,null,u)}}var Cl=null;function bh(n,a,u,g){if(Cl=null,n=ka(g),n=Ri(n),n!==null)if(a=dn(n),a===null)n=null;else if(u=a.tag,u===13){if(n=Ta(a),n!==null)return n;n=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return Cl=n,null}function Yg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mt()){case Dt:return 1;case Er:return 4;case qr:case Aa:return 16;case _t:return 536870912;default:return 16}default:return 16}}var ii=null,wh=null,_l=null;function Vg(){if(_l)return _l;var n,a=wh,u=a.length,g,y="value"in ii?ii.value:ii.textContent,w=y.length;for(n=0;n<u&&a[n]===y[n];n++);var T=u-n;for(g=1;g<=T&&a[u-g]===y[w-g];g++);return _l=y.slice(n,1<g?1-g:void 0)}function Sl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Tl(){return!0}function Gg(){return!1}function wr(n){function a(u,g,y,w,T){this._reactName=u,this._targetInst=y,this.type=g,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(u=n[B],this[B]=u?u(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Tl:Gg,this.isPropagationStopped=Gg,this}return H(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),a}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kh=wr(Cs),Fa=H({},Cs,{view:0,detail:0}),u_=wr(Fa),Ch,_h,Pa,Nl=H({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pa&&(Pa&&n.type==="mousemove"?(Ch=n.screenX-Pa.screenX,_h=n.screenY-Pa.screenY):_h=Ch=0,Pa=n),Ch)},movementY:function(n){return"movementY"in n?n.movementY:_h}}),Xg=wr(Nl),h_=H({},Nl,{dataTransfer:0}),d_=wr(h_),f_=H({},Fa,{relatedTarget:0}),Sh=wr(f_),p_=H({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),g_=wr(p_),m_=H({},Cs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),x_=wr(m_),y_=H({},Cs,{data:0}),Qg=wr(y_),v_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k_(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=w_[n])?!!a[n]:!1}function Th(){return k_}var C_=H({},Fa,{key:function(n){if(n.key){var a=v_[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Sl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?b_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(n){return n.type==="keypress"?Sl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),__=wr(C_),S_=H({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=wr(S_),T_=H({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),N_=wr(T_),A_=H({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),E_=wr(A_),L_=H({},Nl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=wr(L_),j_=[9,13,27,32],Nh=l&&"CompositionEvent"in window,Ra=null;l&&"documentMode"in document&&(Ra=document.documentMode);var B_=l&&"TextEvent"in window&&!Ra,Zg=l&&(!Nh||Ra&&8<Ra&&11>=Ra),Jg=" ",em=!1;function tm(n,a){switch(n){case"keyup":return j_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _s=!1;function D_(n,a){switch(n){case"compositionend":return rm(a);case"keypress":return a.which!==32?null:(em=!0,Jg);case"textInput":return n=a.data,n===Jg&&em?null:n;default:return null}}function $_(n,a){if(_s)return n==="compositionend"||!Nh&&tm(n,a)?(n=Vg(),_l=wh=ii=null,_s=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zg&&a.locale!=="ko"?null:a.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!F_[n.type]:a==="textarea"}function im(n,a,u,g){dl(g),a=jl(a,"onChange"),0<a.length&&(u=new kh("onChange","change",null,u,g),n.push({event:u,listeners:a}))}var Oa=null,Ia=null;function P_(n){km(n,0)}function Al(n){var a=Es(n);if(Jt(a))return n}function R_(n,a){if(n==="change")return a}var sm=!1;if(l){var Ah;if(l){var Eh="oninput"in document;if(!Eh){var am=document.createElement("div");am.setAttribute("oninput","return;"),Eh=typeof am.oninput=="function"}Ah=Eh}else Ah=!1;sm=Ah&&(!document.documentMode||9<document.documentMode)}function om(){Oa&&(Oa.detachEvent("onpropertychange",lm),Ia=Oa=null)}function lm(n){if(n.propertyName==="value"&&Al(Ia)){var a=[];im(a,Ia,n,ka(n)),_a(P_,a)}}function O_(n,a,u){n==="focusin"?(om(),Oa=a,Ia=u,Oa.attachEvent("onpropertychange",lm)):n==="focusout"&&om()}function I_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Al(Ia)}function z_(n,a){if(n==="click")return Al(a)}function W_(n,a){if(n==="input"||n==="change")return Al(a)}function H_(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Yr=typeof Object.is=="function"?Object.is:H_;function za(n,a){if(Yr(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var u=Object.keys(n),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var y=u[g];if(!h.call(a,y)||!Yr(n[y],a[y]))return!1}return!0}function cm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function um(n,a){var u=cm(n);n=0;for(var g;u;){if(u.nodeType===3){if(g=n+u.textContent.length,n<=a&&g>=a)return{node:u,offset:a-n};n=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cm(u)}}function hm(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?hm(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function dm(){for(var n=window,a=vt();a instanceof n.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)n=a.contentWindow;else break;a=vt(n.document)}return a}function Lh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function q_(n){var a=dm(),u=n.focusedElem,g=n.selectionRange;if(a!==u&&u&&u.ownerDocument&&hm(u.ownerDocument.documentElement,u)){if(g!==null&&Lh(u)){if(a=g.start,n=g.end,n===void 0&&(n=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(n,u.value.length);else if(n=(a=u.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,w=Math.min(g.start,y);g=g.end===void 0?w:Math.min(g.end,y),!n.extend&&w>g&&(y=g,g=w,w=y),y=um(u,w);var T=um(u,g);y&&T&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),n.removeAllRanges(),w>g?(n.addRange(a),n.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),n.addRange(a)))}}for(a=[],n=u;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)n=a[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var U_=l&&"documentMode"in document&&11>=document.documentMode,Ss=null,Mh=null,Wa=null,jh=!1;function fm(n,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jh||Ss==null||Ss!==vt(g)||(g=Ss,"selectionStart"in g&&Lh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Wa&&za(Wa,g)||(Wa=g,g=jl(Mh,"onSelect"),0<g.length&&(a=new kh("onSelect","select",null,a,u),n.push({event:a,listeners:g}),a.target=Ss)))}function El(n,a){var u={};return u[n.toLowerCase()]=a.toLowerCase(),u["Webkit"+n]="webkit"+a,u["Moz"+n]="moz"+a,u}var Ts={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Bh={},pm={};l&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ll(n){if(Bh[n])return Bh[n];if(!Ts[n])return n;var a=Ts[n],u;for(u in a)if(a.hasOwnProperty(u)&&u in pm)return Bh[n]=a[u];return n}var gm=Ll("animationend"),mm=Ll("animationiteration"),xm=Ll("animationstart"),ym=Ll("transitionend"),vm=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(n,a){vm.set(n,a),o(a,[n])}for(var Dh=0;Dh<bm.length;Dh++){var $h=bm[Dh],Y_=$h.toLowerCase(),V_=$h[0].toUpperCase()+$h.slice(1);si(Y_,"on"+V_)}si(gm,"onAnimationEnd"),si(mm,"onAnimationIteration"),si(xm,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(ym,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function wm(n,a,u){var g=n.type||"unknown-event";n.currentTarget=u,Hr(g,a,void 0,n),n.currentTarget=null}function km(n,a){a=(a&4)!==0;for(var u=0;u<n.length;u++){var g=n[u],y=g.event;g=g.listeners;e:{var w=void 0;if(a)for(var T=g.length-1;0<=T;T--){var B=g[T],R=B.instance,J=B.currentTarget;if(B=B.listener,R!==w&&y.isPropagationStopped())break e;wm(y,B,J),w=R}else for(T=0;T<g.length;T++){if(B=g[T],R=B.instance,J=B.currentTarget,B=B.listener,R!==w&&y.isPropagationStopped())break e;wm(y,B,J),w=R}}}if(Fi)throw n=ws,Fi=!1,ws=null,n}function lt(n,a){var u=a[Hh];u===void 0&&(u=a[Hh]=new Set);var g=n+"__bubble";u.has(g)||(Cm(a,n,2,!1),u.add(g))}function Fh(n,a,u){var g=0;a&&(g|=4),Cm(u,n,g,a)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function qa(n){if(!n[Ml]){n[Ml]=!0,i.forEach(function(u){u!=="selectionchange"&&(G_.has(u)||Fh(u,!1,n),Fh(u,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Ml]||(a[Ml]=!0,Fh("selectionchange",!1,a))}}function Cm(n,a,u,g){switch(Yg(a)){case 1:var y=l_;break;case 4:y=c_;break;default:y=vh}u=y.bind(null,a,u,n),y=void 0,!bs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),g?y!==void 0?n.addEventListener(a,u,{capture:!0,passive:y}):n.addEventListener(a,u,!0):y!==void 0?n.addEventListener(a,u,{passive:y}):n.addEventListener(a,u,!1)}function Ph(n,a,u,g,y){var w=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var B=g.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(T===4)for(T=g.return;T!==null;){var R=T.tag;if((R===3||R===4)&&(R=T.stateNode.containerInfo,R===y||R.nodeType===8&&R.parentNode===y))return;T=T.return}for(;B!==null;){if(T=Ri(B),T===null)return;if(R=T.tag,R===5||R===6){g=w=T;continue e}B=B.parentNode}}g=g.return}_a(function(){var J=w,le=ka(u),ce=[];e:{var ae=vm.get(n);if(ae!==void 0){var xe=kh,ve=n;switch(n){case"keypress":if(Sl(u)===0)break e;case"keydown":case"keyup":xe=__;break;case"focusin":ve="focus",xe=Sh;break;case"focusout":ve="blur",xe=Sh;break;case"beforeblur":case"afterblur":xe=Sh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=d_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=N_;break;case gm:case mm:case xm:xe=g_;break;case ym:xe=E_;break;case"scroll":xe=u_;break;case"wheel":xe=M_;break;case"copy":case"cut":case"paste":xe=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Kg}var Te=(a&4)!==0,wt=!Te&&n==="scroll",X=Te?ae!==null?ae+"Capture":null:ae;Te=[];for(var W=J,K;W!==null;){K=W;var fe=K.stateNode;if(K.tag===5&&fe!==null&&(K=fe,X!==null&&(fe=An(W,X),fe!=null&&Te.push(Ua(W,fe,K)))),wt)break;W=W.return}0<Te.length&&(ae=new xe(ae,ve,null,u,le),ce.push({event:ae,listeners:Te}))}}if((a&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",ae&&u!==$i&&(ve=u.relatedTarget||u.fromElement)&&(Ri(ve)||ve[En]))break e;if((xe||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,xe?(ve=u.relatedTarget||u.toElement,xe=J,ve=ve?Ri(ve):null,ve!==null&&(wt=dn(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(xe=null,ve=J),xe!==ve)){if(Te=Xg,fe="onMouseLeave",X="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Kg,fe="onPointerLeave",X="onPointerEnter",W="pointer"),wt=xe==null?ae:Es(xe),K=ve==null?ae:Es(ve),ae=new Te(fe,W+"leave",xe,u,le),ae.target=wt,ae.relatedTarget=K,fe=null,Ri(le)===J&&(Te=new Te(X,W+"enter",ve,u,le),Te.target=K,Te.relatedTarget=wt,fe=Te),wt=fe,xe&&ve)t:{for(Te=xe,X=ve,W=0,K=Te;K;K=Ns(K))W++;for(K=0,fe=X;fe;fe=Ns(fe))K++;for(;0<W-K;)Te=Ns(Te),W--;for(;0<K-W;)X=Ns(X),K--;for(;W--;){if(Te===X||X!==null&&Te===X.alternate)break t;Te=Ns(Te),X=Ns(X)}Te=null}else Te=null;xe!==null&&_m(ce,ae,xe,Te,!1),ve!==null&&wt!==null&&_m(ce,wt,ve,Te,!0)}}e:{if(ae=J?Es(J):window,xe=ae.nodeName&&ae.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ae.type==="file")var Ee=R_;else if(nm(ae))if(sm)Ee=W_;else{Ee=I_;var Pe=O_}else(xe=ae.nodeName)&&xe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ee=z_);if(Ee&&(Ee=Ee(n,J))){im(ce,Ee,u,le);break e}Pe&&Pe(n,ae,J),n==="focusout"&&(Pe=ae._wrapperState)&&Pe.controlled&&ae.type==="number"&&Le(ae,"number",ae.value)}switch(Pe=J?Es(J):window,n){case"focusin":(nm(Pe)||Pe.contentEditable==="true")&&(Ss=Pe,Mh=J,Wa=null);break;case"focusout":Wa=Mh=Ss=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,fm(ce,u,le);break;case"selectionchange":if(U_)break;case"keydown":case"keyup":fm(ce,u,le)}var Re;if(Nh)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else _s?tm(n,u)&&(qe="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(Zg&&u.locale!=="ko"&&(_s||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&_s&&(Re=Vg()):(ii=le,wh="value"in ii?ii.value:ii.textContent,_s=!0)),Pe=jl(J,qe),0<Pe.length&&(qe=new Qg(qe,n,null,u,le),ce.push({event:qe,listeners:Pe}),Re?qe.data=Re:(Re=rm(u),Re!==null&&(qe.data=Re)))),(Re=B_?D_(n,u):$_(n,u))&&(J=jl(J,"onBeforeInput"),0<J.length&&(le=new Qg("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:J}),le.data=Re))}km(ce,a)})}function Ua(n,a,u){return{instance:n,listener:a,currentTarget:u}}function jl(n,a){for(var u=a+"Capture",g=[];n!==null;){var y=n,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=An(n,u),w!=null&&g.unshift(Ua(n,w,y)),w=An(n,a),w!=null&&g.push(Ua(n,w,y))),n=n.return}return g}function Ns(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _m(n,a,u,g,y){for(var w=a._reactName,T=[];u!==null&&u!==g;){var B=u,R=B.alternate,J=B.stateNode;if(R!==null&&R===g)break;B.tag===5&&J!==null&&(B=J,y?(R=An(u,w),R!=null&&T.unshift(Ua(u,R,B))):y||(R=An(u,w),R!=null&&T.push(Ua(u,R,B)))),u=u.return}T.length!==0&&n.push({event:a,listeners:T})}var X_=/\r\n?/g,Q_=/\u0000|\uFFFD/g;function Sm(n){return(typeof n=="string"?n:""+n).replace(X_,`
`).replace(Q_,"")}function Bl(n,a,u){if(a=Sm(a),Sm(n)!==a&&u)throw Error(r(425))}function Dl(){}var Rh=null,Oh=null;function Ih(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,K_=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(n){return Tm.resolve(null).then(n).catch(J_)}:zh;function J_(n){setTimeout(function(){throw n})}function Wh(n,a){var u=a,g=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(g===0){n.removeChild(y),$a(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=y}while(u);$a(a)}function ai(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function Nm(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return n;a--}else u==="/$"&&a++}n=n.previousSibling}return null}var As=Math.random().toString(36).slice(2),fn="__reactFiber$"+As,Ya="__reactProps$"+As,En="__reactContainer$"+As,Hh="__reactEvents$"+As,eS="__reactListeners$"+As,tS="__reactHandles$"+As;function Ri(n){var a=n[fn];if(a)return a;for(var u=n.parentNode;u;){if(a=u[En]||u[fn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(n=Nm(n);n!==null;){if(u=n[fn])return u;n=Nm(n)}return a}n=u,u=n.parentNode}return null}function Va(n){return n=n[fn]||n[En],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Es(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function $l(n){return n[Ya]||null}var qh=[],Ls=-1;function oi(n){return{current:n}}function ct(n){0>Ls||(n.current=qh[Ls],qh[Ls]=null,Ls--)}function ot(n,a){Ls++,qh[Ls]=n.current,n.current=a}var li={},Ht=oi(li),ur=oi(!1),Oi=li;function Ms(n,a){var u=n.type.contextTypes;if(!u)return li;var g=n.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in u)y[w]=a[w];return g&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=y),y}function hr(n){return n=n.childContextTypes,n!=null}function Fl(){ct(ur),ct(Ht)}function Am(n,a,u){if(Ht.current!==li)throw Error(r(168));ot(Ht,a),ot(ur,u)}function Em(n,a,u){var g=n.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var y in g)if(!(y in a))throw Error(r(108,Be(n)||"Unknown",y));return H({},u,g)}function Pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||li,Oi=Ht.current,ot(Ht,n),ot(ur,ur.current),!0}function Lm(n,a,u){var g=n.stateNode;if(!g)throw Error(r(169));u?(n=Em(n,a,Oi),g.__reactInternalMemoizedMergedChildContext=n,ct(ur),ct(Ht),ot(Ht,n)):ct(ur),ot(ur,u)}var Ln=null,Rl=!1,Uh=!1;function Mm(n){Ln===null?Ln=[n]:Ln.push(n)}function rS(n){Rl=!0,Mm(n)}function ci(){if(!Uh&&Ln!==null){Uh=!0;var n=0,a=st;try{var u=Ln;for(st=1;n<u.length;n++){var g=u[n];do g=g(!0);while(g!==null)}Ln=null,Rl=!1}catch(y){throw Ln!==null&&(Ln=Ln.slice(n+1)),I(Dt,ci),y}finally{st=a,Uh=!1}}return null}var js=[],Bs=0,Ol=null,Il=0,Lr=[],Mr=0,Ii=null,Mn=1,jn="";function zi(n,a){js[Bs++]=Il,js[Bs++]=Ol,Ol=n,Il=a}function jm(n,a,u){Lr[Mr++]=Mn,Lr[Mr++]=jn,Lr[Mr++]=Ii,Ii=n;var g=Mn;n=jn;var y=32-Ur(g)-1;g&=~(1<<y),u+=1;var w=32-Ur(a)+y;if(30<w){var T=y-y%5;w=(g&(1<<T)-1).toString(32),g>>=T,y-=T,Mn=1<<32-Ur(a)+y|u<<y|g,jn=w+n}else Mn=1<<w|u<<y|g,jn=n}function Yh(n){n.return!==null&&(zi(n,1),jm(n,1,0))}function Vh(n){for(;n===Ol;)Ol=js[--Bs],js[Bs]=null,Il=js[--Bs],js[Bs]=null;for(;n===Ii;)Ii=Lr[--Mr],Lr[Mr]=null,jn=Lr[--Mr],Lr[Mr]=null,Mn=Lr[--Mr],Lr[Mr]=null}var kr=null,Cr=null,ht=!1,Vr=null;function Bm(n,a){var u=$r(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=n,a=n.deletions,a===null?(n.deletions=[u],n.flags|=16):a.push(u)}function Dm(n,a){switch(n.tag){case 5:var u=n.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,kr=n,Cr=ai(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,kr=n,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ii!==null?{id:Mn,overflow:jn}:null,n.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=$r(18,null,null,0),u.stateNode=a,u.return=n,n.child=u,kr=n,Cr=null,!0):!1;default:return!1}}function Gh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xh(n){if(ht){var a=Cr;if(a){var u=a;if(!Dm(n,a)){if(Gh(n))throw Error(r(418));a=ai(u.nextSibling);var g=kr;a&&Dm(n,a)?Bm(g,u):(n.flags=n.flags&-4097|2,ht=!1,kr=n)}}else{if(Gh(n))throw Error(r(418));n.flags=n.flags&-4097|2,ht=!1,kr=n}}}function $m(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kr=n}function zl(n){if(n!==kr)return!1;if(!ht)return $m(n),ht=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!Ih(n.type,n.memoizedProps)),a&&(a=Cr)){if(Gh(n))throw Fm(),Error(r(418));for(;a;)Bm(n,a),a=ai(a.nextSibling)}if($m(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(a===0){Cr=ai(n.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}n=n.nextSibling}Cr=null}}else Cr=kr?ai(n.stateNode.nextSibling):null;return!0}function Fm(){for(var n=Cr;n;)n=ai(n.nextSibling)}function Ds(){Cr=kr=null,ht=!1}function Qh(n){Vr===null?Vr=[n]:Vr.push(n)}var nS=P.ReactCurrentBatchConfig;function Ga(n,a,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var g=u.stateNode}if(!g)throw Error(r(147,n));var y=g,w=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(T){var B=y.refs;T===null?delete B[w]:B[w]=T},a._stringRef=w,a)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function Wl(n,a){throw n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Pm(n){var a=n._init;return a(n._payload)}function Rm(n){function a(X,W){if(n){var K=X.deletions;K===null?(X.deletions=[W],X.flags|=16):K.push(W)}}function u(X,W){if(!n)return null;for(;W!==null;)a(X,W),W=W.sibling;return null}function g(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function y(X,W){return X=xi(X,W),X.index=0,X.sibling=null,X}function w(X,W,K){return X.index=K,n?(K=X.alternate,K!==null?(K=K.index,K<W?(X.flags|=2,W):K):(X.flags|=2,W)):(X.flags|=1048576,W)}function T(X){return n&&X.alternate===null&&(X.flags|=2),X}function B(X,W,K,fe){return W===null||W.tag!==6?(W=zd(K,X.mode,fe),W.return=X,W):(W=y(W,K),W.return=X,W)}function R(X,W,K,fe){var Ee=K.type;return Ee===z?le(X,W,K.props.children,fe,K.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&Pm(Ee)===W.type)?(fe=y(W,K.props),fe.ref=Ga(X,W,K),fe.return=X,fe):(fe=dc(K.type,K.key,K.props,null,X.mode,fe),fe.ref=Ga(X,W,K),fe.return=X,fe)}function J(X,W,K,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=Wd(K,X.mode,fe),W.return=X,W):(W=y(W,K.children||[]),W.return=X,W)}function le(X,W,K,fe,Ee){return W===null||W.tag!==7?(W=Xi(K,X.mode,fe,Ee),W.return=X,W):(W=y(W,K),W.return=X,W)}function ce(X,W,K){if(typeof W=="string"&&W!==""||typeof W=="number")return W=zd(""+W,X.mode,K),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return K=dc(W.type,W.key,W.props,null,X.mode,K),K.ref=Ga(X,null,W),K.return=X,K;case V:return W=Wd(W,X.mode,K),W.return=X,W;case $:var fe=W._init;return ce(X,fe(W._payload),K)}if(He(W)||L(W))return W=Xi(W,X.mode,K,null),W.return=X,W;Wl(X,W)}return null}function ae(X,W,K,fe){var Ee=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:B(X,W,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return K.key===Ee?R(X,W,K,fe):null;case V:return K.key===Ee?J(X,W,K,fe):null;case $:return Ee=K._init,ae(X,W,Ee(K._payload),fe)}if(He(K)||L(K))return Ee!==null?null:le(X,W,K,fe,null);Wl(X,K)}return null}function xe(X,W,K,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(K)||null,B(W,X,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case D:return X=X.get(fe.key===null?K:fe.key)||null,R(W,X,fe,Ee);case V:return X=X.get(fe.key===null?K:fe.key)||null,J(W,X,fe,Ee);case $:var Pe=fe._init;return xe(X,W,K,Pe(fe._payload),Ee)}if(He(fe)||L(fe))return X=X.get(K)||null,le(W,X,fe,Ee,null);Wl(W,fe)}return null}function ve(X,W,K,fe){for(var Ee=null,Pe=null,Re=W,qe=W=0,Pt=null;Re!==null&&qe<K.length;qe++){Re.index>qe?(Pt=Re,Re=null):Pt=Re.sibling;var et=ae(X,Re,K[qe],fe);if(et===null){Re===null&&(Re=Pt);break}n&&Re&&et.alternate===null&&a(X,Re),W=w(et,W,qe),Pe===null?Ee=et:Pe.sibling=et,Pe=et,Re=Pt}if(qe===K.length)return u(X,Re),ht&&zi(X,qe),Ee;if(Re===null){for(;qe<K.length;qe++)Re=ce(X,K[qe],fe),Re!==null&&(W=w(Re,W,qe),Pe===null?Ee=Re:Pe.sibling=Re,Pe=Re);return ht&&zi(X,qe),Ee}for(Re=g(X,Re);qe<K.length;qe++)Pt=xe(Re,X,qe,K[qe],fe),Pt!==null&&(n&&Pt.alternate!==null&&Re.delete(Pt.key===null?qe:Pt.key),W=w(Pt,W,qe),Pe===null?Ee=Pt:Pe.sibling=Pt,Pe=Pt);return n&&Re.forEach(function(yi){return a(X,yi)}),ht&&zi(X,qe),Ee}function Te(X,W,K,fe){var Ee=L(K);if(typeof Ee!="function")throw Error(r(150));if(K=Ee.call(K),K==null)throw Error(r(151));for(var Pe=Ee=null,Re=W,qe=W=0,Pt=null,et=K.next();Re!==null&&!et.done;qe++,et=K.next()){Re.index>qe?(Pt=Re,Re=null):Pt=Re.sibling;var yi=ae(X,Re,et.value,fe);if(yi===null){Re===null&&(Re=Pt);break}n&&Re&&yi.alternate===null&&a(X,Re),W=w(yi,W,qe),Pe===null?Ee=yi:Pe.sibling=yi,Pe=yi,Re=Pt}if(et.done)return u(X,Re),ht&&zi(X,qe),Ee;if(Re===null){for(;!et.done;qe++,et=K.next())et=ce(X,et.value,fe),et!==null&&(W=w(et,W,qe),Pe===null?Ee=et:Pe.sibling=et,Pe=et);return ht&&zi(X,qe),Ee}for(Re=g(X,Re);!et.done;qe++,et=K.next())et=xe(Re,X,qe,et.value,fe),et!==null&&(n&&et.alternate!==null&&Re.delete(et.key===null?qe:et.key),W=w(et,W,qe),Pe===null?Ee=et:Pe.sibling=et,Pe=et);return n&&Re.forEach(function(FS){return a(X,FS)}),ht&&zi(X,qe),Ee}function wt(X,W,K,fe){if(typeof K=="object"&&K!==null&&K.type===z&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case D:e:{for(var Ee=K.key,Pe=W;Pe!==null;){if(Pe.key===Ee){if(Ee=K.type,Ee===z){if(Pe.tag===7){u(X,Pe.sibling),W=y(Pe,K.props.children),W.return=X,X=W;break e}}else if(Pe.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&Pm(Ee)===Pe.type){u(X,Pe.sibling),W=y(Pe,K.props),W.ref=Ga(X,Pe,K),W.return=X,X=W;break e}u(X,Pe);break}else a(X,Pe);Pe=Pe.sibling}K.type===z?(W=Xi(K.props.children,X.mode,fe,K.key),W.return=X,X=W):(fe=dc(K.type,K.key,K.props,null,X.mode,fe),fe.ref=Ga(X,W,K),fe.return=X,X=fe)}return T(X);case V:e:{for(Pe=K.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){u(X,W.sibling),W=y(W,K.children||[]),W.return=X,X=W;break e}else{u(X,W);break}else a(X,W);W=W.sibling}W=Wd(K,X.mode,fe),W.return=X,X=W}return T(X);case $:return Pe=K._init,wt(X,W,Pe(K._payload),fe)}if(He(K))return ve(X,W,K,fe);if(L(K))return Te(X,W,K,fe);Wl(X,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,W!==null&&W.tag===6?(u(X,W.sibling),W=y(W,K),W.return=X,X=W):(u(X,W),W=zd(K,X.mode,fe),W.return=X,X=W),T(X)):u(X,W)}return wt}var $s=Rm(!0),Om=Rm(!1),Hl=oi(null),ql=null,Fs=null,Kh=null;function Zh(){Kh=Fs=ql=null}function Jh(n){var a=Hl.current;ct(Hl),n._currentValue=a}function ed(n,a,u){for(;n!==null;){var g=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),n===u)break;n=n.return}}function Ps(n,a){ql=n,Kh=Fs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(dr=!0),n.firstContext=null)}function jr(n){var a=n._currentValue;if(Kh!==n)if(n={context:n,memoizedValue:a,next:null},Fs===null){if(ql===null)throw Error(r(308));Fs=n,ql.dependencies={lanes:0,firstContext:n}}else Fs=Fs.next=n;return a}var Wi=null;function td(n){Wi===null?Wi=[n]:Wi.push(n)}function Im(n,a,u,g){var y=a.interleaved;return y===null?(u.next=u,td(a)):(u.next=y.next,y.next=u),a.interleaved=u,Bn(n,g)}function Bn(n,a){n.lanes|=a;var u=n.alternate;for(u!==null&&(u.lanes|=a),u=n,n=n.return;n!==null;)n.childLanes|=a,u=n.alternate,u!==null&&(u.childLanes|=a),u=n,n=n.return;return u.tag===3?u.stateNode:null}var ui=!1;function rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dn(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function hi(n,a,u){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(Je&2)!==0){var y=g.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),g.pending=a,Bn(n,u)}return y=g.interleaved,y===null?(a.next=a,td(g)):(a.next=y.next,y.next=a),g.interleaved=a,Bn(n,u)}function Ul(n,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=n.pendingLanes,u|=g,a.lanes=u,mh(n,u)}}function Wm(n,a){var u=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?y=w=T:w=w.next=T,u=u.next}while(u!==null);w===null?y=w=a:w=w.next=a}else y=w=a;u={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:g.shared,effects:g.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=a:n.next=a,u.lastBaseUpdate=a}function Yl(n,a,u,g){var y=n.updateQueue;ui=!1;var w=y.firstBaseUpdate,T=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var R=B,J=R.next;R.next=null,T===null?w=J:T.next=J,T=R;var le=n.alternate;le!==null&&(le=le.updateQueue,B=le.lastBaseUpdate,B!==T&&(B===null?le.firstBaseUpdate=J:B.next=J,le.lastBaseUpdate=R))}if(w!==null){var ce=y.baseState;T=0,le=J=R=null,B=w;do{var ae=B.lane,xe=B.eventTime;if((g&ae)===ae){le!==null&&(le=le.next={eventTime:xe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ve=n,Te=B;switch(ae=a,xe=u,Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){ce=ve.call(xe,ce,ae);break e}ce=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,ae=typeof ve=="function"?ve.call(xe,ce,ae):ve,ae==null)break e;ce=H({},ce,ae);break e;case 2:ui=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,ae=y.effects,ae===null?y.effects=[B]:ae.push(B))}else xe={eventTime:xe,lane:ae,tag:B.tag,payload:B.payload,callback:B.callback,next:null},le===null?(J=le=xe,R=ce):le=le.next=xe,T|=ae;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ae=B,B=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&(R=ce),y.baseState=R,y.firstBaseUpdate=J,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do T|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Ui|=T,n.lanes=T,n.memoizedState=ce}}function Hm(n,a,u){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var g=n[a],y=g.callback;if(y!==null){if(g.callback=null,g=u,typeof y!="function")throw Error(r(191,y));y.call(g)}}}var Xa={},pn=oi(Xa),Qa=oi(Xa),Ka=oi(Xa);function Hi(n){if(n===Xa)throw Error(r(174));return n}function nd(n,a){switch(ot(Ka,a),ot(Qa,n),ot(pn,Xa),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:un(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=un(a,n)}ct(pn),ot(pn,a)}function Rs(){ct(pn),ct(Qa),ct(Ka)}function qm(n){Hi(Ka.current);var a=Hi(pn.current),u=un(a,n.type);a!==u&&(ot(Qa,n),ot(pn,u))}function id(n){Qa.current===n&&(ct(pn),ct(Qa))}var ft=oi(0);function Vl(n){for(var a=n;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var sd=[];function ad(){for(var n=0;n<sd.length;n++)sd[n]._workInProgressVersionPrimary=null;sd.length=0}var Gl=P.ReactCurrentDispatcher,od=P.ReactCurrentBatchConfig,qi=0,pt=null,Nt=null,$t=null,Xl=!1,Za=!1,Ja=0,iS=0;function qt(){throw Error(r(321))}function ld(n,a){if(a===null)return!1;for(var u=0;u<a.length&&u<n.length;u++)if(!Yr(n[u],a[u]))return!1;return!0}function cd(n,a,u,g,y,w){if(qi=w,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gl.current=n===null||n.memoizedState===null?lS:cS,n=u(g,y),Za){w=0;do{if(Za=!1,Ja=0,25<=w)throw Error(r(301));w+=1,$t=Nt=null,a.updateQueue=null,Gl.current=uS,n=u(g,y)}while(Za)}if(Gl.current=Zl,a=Nt!==null&&Nt.next!==null,qi=0,$t=Nt=pt=null,Xl=!1,a)throw Error(r(300));return n}function ud(){var n=Ja!==0;return Ja=0,n}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?pt.memoizedState=$t=n:$t=$t.next=n,$t}function Br(){if(Nt===null){var n=pt.alternate;n=n!==null?n.memoizedState:null}else n=Nt.next;var a=$t===null?pt.memoizedState:$t.next;if(a!==null)$t=a,Nt=n;else{if(n===null)throw Error(r(310));Nt=n,n={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},$t===null?pt.memoizedState=$t=n:$t=$t.next=n}return $t}function eo(n,a){return typeof a=="function"?a(n):a}function hd(n){var a=Br(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var g=Nt,y=g.baseQueue,w=u.pending;if(w!==null){if(y!==null){var T=y.next;y.next=w.next,w.next=T}g.baseQueue=y=w,u.pending=null}if(y!==null){w=y.next,g=g.baseState;var B=T=null,R=null,J=w;do{var le=J.lane;if((qi&le)===le)R!==null&&(R=R.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:n(g,J.action);else{var ce={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};R===null?(B=R=ce,T=g):R=R.next=ce,pt.lanes|=le,Ui|=le}J=J.next}while(J!==null&&J!==w);R===null?T=g:R.next=B,Yr(g,a.memoizedState)||(dr=!0),a.memoizedState=g,a.baseState=T,a.baseQueue=R,u.lastRenderedState=g}if(n=u.interleaved,n!==null){y=n;do w=y.lane,pt.lanes|=w,Ui|=w,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function dd(n){var a=Br(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var g=u.dispatch,y=u.pending,w=a.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do w=n(w,T.action),T=T.next;while(T!==y);Yr(w,a.memoizedState)||(dr=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,g]}function Um(){}function Ym(n,a){var u=pt,g=Br(),y=a(),w=!Yr(g.memoizedState,y);if(w&&(g.memoizedState=y,dr=!0),g=g.queue,fd(Xm.bind(null,u,g,n),[n]),g.getSnapshot!==a||w||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,to(9,Gm.bind(null,u,g,y,a),void 0,null),Ft===null)throw Error(r(349));(qi&30)!==0||Vm(u,a,y)}return y}function Vm(n,a,u){n.flags|=16384,n={getSnapshot:a,value:u},a=pt.updateQueue,a===null?(a={lastEffect:null,stores:null},pt.updateQueue=a,a.stores=[n]):(u=a.stores,u===null?a.stores=[n]:u.push(n))}function Gm(n,a,u,g){a.value=u,a.getSnapshot=g,Qm(a)&&Km(n)}function Xm(n,a,u){return u(function(){Qm(a)&&Km(n)})}function Qm(n){var a=n.getSnapshot;n=n.value;try{var u=a();return!Yr(n,u)}catch{return!0}}function Km(n){var a=Bn(n,1);a!==null&&Kr(a,n,1,-1)}function Zm(n){var a=gn();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:n},a.queue=n,n=n.dispatch=oS.bind(null,pt,n),[a.memoizedState,n]}function to(n,a,u,g){return n={tag:n,create:a,destroy:u,deps:g,next:null},a=pt.updateQueue,a===null?(a={lastEffect:null,stores:null},pt.updateQueue=a,a.lastEffect=n.next=n):(u=a.lastEffect,u===null?a.lastEffect=n.next=n:(g=u.next,u.next=n,n.next=g,a.lastEffect=n)),n}function Jm(){return Br().memoizedState}function Ql(n,a,u,g){var y=gn();pt.flags|=n,y.memoizedState=to(1|a,u,void 0,g===void 0?null:g)}function Kl(n,a,u,g){var y=Br();g=g===void 0?null:g;var w=void 0;if(Nt!==null){var T=Nt.memoizedState;if(w=T.destroy,g!==null&&ld(g,T.deps)){y.memoizedState=to(a,u,w,g);return}}pt.flags|=n,y.memoizedState=to(1|a,u,w,g)}function e0(n,a){return Ql(8390656,8,n,a)}function fd(n,a){return Kl(2048,8,n,a)}function t0(n,a){return Kl(4,2,n,a)}function r0(n,a){return Kl(4,4,n,a)}function n0(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function i0(n,a,u){return u=u!=null?u.concat([n]):null,Kl(4,4,n0.bind(null,a,n),u)}function pd(){}function s0(n,a){var u=Br();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&ld(a,g[1])?g[0]:(u.memoizedState=[n,a],n)}function a0(n,a){var u=Br();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&ld(a,g[1])?g[0]:(n=n(),u.memoizedState=[n,a],n)}function o0(n,a,u){return(qi&21)===0?(n.baseState&&(n.baseState=!1,dr=!0),n.memoizedState=u):(Yr(u,a)||(u=Pg(),pt.lanes|=u,Ui|=u,n.baseState=!0),a)}function sS(n,a){var u=st;st=u!==0&&4>u?u:4,n(!0);var g=od.transition;od.transition={};try{n(!1),a()}finally{st=u,od.transition=g}}function l0(){return Br().memoizedState}function aS(n,a,u){var g=gi(n);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},c0(n))u0(a,u);else if(u=Im(n,a,u,g),u!==null){var y=tr();Kr(u,n,g,y),h0(u,a,g)}}function oS(n,a,u){var g=gi(n),y={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(c0(n))u0(a,y);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var T=a.lastRenderedState,B=w(T,u);if(y.hasEagerState=!0,y.eagerState=B,Yr(B,T)){var R=a.interleaved;R===null?(y.next=y,td(a)):(y.next=R.next,R.next=y),a.interleaved=y;return}}catch{}finally{}u=Im(n,a,y,g),u!==null&&(y=tr(),Kr(u,n,g,y),h0(u,a,g))}}function c0(n){var a=n.alternate;return n===pt||a!==null&&a===pt}function u0(n,a){Za=Xl=!0;var u=n.pending;u===null?a.next=a:(a.next=u.next,u.next=a),n.pending=a}function h0(n,a,u){if((u&4194240)!==0){var g=a.lanes;g&=n.pendingLanes,u|=g,a.lanes=u,mh(n,u)}}var Zl={readContext:jr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},lS={readContext:jr,useCallback:function(n,a){return gn().memoizedState=[n,a===void 0?null:a],n},useContext:jr,useEffect:e0,useImperativeHandle:function(n,a,u){return u=u!=null?u.concat([n]):null,Ql(4194308,4,n0.bind(null,a,n),u)},useLayoutEffect:function(n,a){return Ql(4194308,4,n,a)},useInsertionEffect:function(n,a){return Ql(4,2,n,a)},useMemo:function(n,a){var u=gn();return a=a===void 0?null:a,n=n(),u.memoizedState=[n,a],n},useReducer:function(n,a,u){var g=gn();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},g.queue=n,n=n.dispatch=aS.bind(null,pt,n),[g.memoizedState,n]},useRef:function(n){var a=gn();return n={current:n},a.memoizedState=n},useState:Zm,useDebugValue:pd,useDeferredValue:function(n){return gn().memoizedState=n},useTransition:function(){var n=Zm(!1),a=n[0];return n=sS.bind(null,n[1]),gn().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,u){var g=pt,y=gn();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Ft===null)throw Error(r(349));(qi&30)!==0||Vm(g,a,u)}y.memoizedState=u;var w={value:u,getSnapshot:a};return y.queue=w,e0(Xm.bind(null,g,w,n),[n]),g.flags|=2048,to(9,Gm.bind(null,g,w,u,a),void 0,null),u},useId:function(){var n=gn(),a=Ft.identifierPrefix;if(ht){var u=jn,g=Mn;u=(g&~(1<<32-Ur(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ja++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=iS++,a=":"+a+"r"+u.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},cS={readContext:jr,useCallback:s0,useContext:jr,useEffect:fd,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:a0,useReducer:hd,useRef:Jm,useState:function(){return hd(eo)},useDebugValue:pd,useDeferredValue:function(n){var a=Br();return o0(a,Nt.memoizedState,n)},useTransition:function(){var n=hd(eo)[0],a=Br().memoizedState;return[n,a]},useMutableSource:Um,useSyncExternalStore:Ym,useId:l0,unstable_isNewReconciler:!1},uS={readContext:jr,useCallback:s0,useContext:jr,useEffect:fd,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:a0,useReducer:dd,useRef:Jm,useState:function(){return dd(eo)},useDebugValue:pd,useDeferredValue:function(n){var a=Br();return Nt===null?a.memoizedState=n:o0(a,Nt.memoizedState,n)},useTransition:function(){var n=dd(eo)[0],a=Br().memoizedState;return[n,a]},useMutableSource:Um,useSyncExternalStore:Ym,useId:l0,unstable_isNewReconciler:!1};function Gr(n,a){if(n&&n.defaultProps){a=H({},a),n=n.defaultProps;for(var u in n)a[u]===void 0&&(a[u]=n[u]);return a}return a}function gd(n,a,u,g){a=n.memoizedState,u=u(g,a),u=u==null?a:H({},a,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var Jl={isMounted:function(n){return(n=n._reactInternals)?dn(n)===n:!1},enqueueSetState:function(n,a,u){n=n._reactInternals;var g=tr(),y=gi(n),w=Dn(g,y);w.payload=a,u!=null&&(w.callback=u),a=hi(n,w,y),a!==null&&(Kr(a,n,y,g),Ul(a,n,y))},enqueueReplaceState:function(n,a,u){n=n._reactInternals;var g=tr(),y=gi(n),w=Dn(g,y);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=hi(n,w,y),a!==null&&(Kr(a,n,y,g),Ul(a,n,y))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var u=tr(),g=gi(n),y=Dn(u,g);y.tag=2,a!=null&&(y.callback=a),a=hi(n,y,g),a!==null&&(Kr(a,n,g,u),Ul(a,n,g))}};function d0(n,a,u,g,y,w,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,w,T):a.prototype&&a.prototype.isPureReactComponent?!za(u,g)||!za(y,w):!0}function f0(n,a,u){var g=!1,y=li,w=a.contextType;return typeof w=="object"&&w!==null?w=jr(w):(y=hr(a)?Oi:Ht.current,g=a.contextTypes,w=(g=g!=null)?Ms(n,y):li),a=new a(u,w),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jl,n.stateNode=a,a._reactInternals=n,g&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=w),a}function p0(n,a,u,g){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==n&&Jl.enqueueReplaceState(a,a.state,null)}function md(n,a,u,g){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},rd(n);var w=a.contextType;typeof w=="object"&&w!==null?y.context=jr(w):(w=hr(a)?Oi:Ht.current,y.context=Ms(n,w)),y.state=n.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(gd(n,a,w,u),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Jl.enqueueReplaceState(y,y.state,null),Yl(n,u,y,g),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Os(n,a){try{var u="",g=a;do u+=de(g),g=g.return;while(g);var y=u}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:n,source:a,stack:y,digest:null}}function xd(n,a,u){return{value:n,source:null,stack:u??null,digest:a??null}}function yd(n,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var hS=typeof WeakMap=="function"?WeakMap:Map;function g0(n,a,u){u=Dn(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){ac||(ac=!0,Bd=g),yd(n,a)},u}function m0(n,a,u){u=Dn(-1,u),u.tag=3;var g=n.type.getDerivedStateFromError;if(typeof g=="function"){var y=a.value;u.payload=function(){return g(y)},u.callback=function(){yd(n,a)}}var w=n.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){yd(n,a),typeof g!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function x0(n,a,u){var g=n.pingCache;if(g===null){g=n.pingCache=new hS;var y=new Set;g.set(a,y)}else y=g.get(a),y===void 0&&(y=new Set,g.set(a,y));y.has(u)||(y.add(u),n=SS.bind(null,n,a,u),a.then(n,n))}function y0(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function v0(n,a,u,g,y){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Dn(-1,1),a.tag=2,hi(u,a,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var dS=P.ReactCurrentOwner,dr=!1;function er(n,a,u,g){a.child=n===null?Om(a,null,u,g):$s(a,n.child,u,g)}function b0(n,a,u,g,y){u=u.render;var w=a.ref;return Ps(a,y),g=cd(n,a,u,g,w,y),u=ud(),n!==null&&!dr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~y,$n(n,a,y)):(ht&&u&&Yh(a),a.flags|=1,er(n,a,g,y),a.child)}function w0(n,a,u,g,y){if(n===null){var w=u.type;return typeof w=="function"&&!Id(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,k0(n,a,w,g,y)):(n=dc(u.type,null,g,a,a.mode,y),n.ref=a.ref,n.return=a,a.child=n)}if(w=n.child,(n.lanes&y)===0){var T=w.memoizedProps;if(u=u.compare,u=u!==null?u:za,u(T,g)&&n.ref===a.ref)return $n(n,a,y)}return a.flags|=1,n=xi(w,g),n.ref=a.ref,n.return=a,a.child=n}function k0(n,a,u,g,y){if(n!==null){var w=n.memoizedProps;if(za(w,g)&&n.ref===a.ref)if(dr=!1,a.pendingProps=g=w,(n.lanes&y)!==0)(n.flags&131072)!==0&&(dr=!0);else return a.lanes=n.lanes,$n(n,a,y)}return vd(n,a,u,g,y)}function C0(n,a,u){var g=a.pendingProps,y=g.children,w=n!==null?n.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(zs,_r),_r|=u;else{if((u&1073741824)===0)return n=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,ot(zs,_r),_r|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:u,ot(zs,_r),_r|=g}else w!==null?(g=w.baseLanes|u,a.memoizedState=null):g=u,ot(zs,_r),_r|=g;return er(n,a,y,u),a.child}function _0(n,a){var u=a.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function vd(n,a,u,g,y){var w=hr(u)?Oi:Ht.current;return w=Ms(a,w),Ps(a,y),u=cd(n,a,u,g,w,y),g=ud(),n!==null&&!dr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~y,$n(n,a,y)):(ht&&g&&Yh(a),a.flags|=1,er(n,a,u,y),a.child)}function S0(n,a,u,g,y){if(hr(u)){var w=!0;Pl(a)}else w=!1;if(Ps(a,y),a.stateNode===null)tc(n,a),f0(a,u,g),md(a,u,g,y),g=!0;else if(n===null){var T=a.stateNode,B=a.memoizedProps;T.props=B;var R=T.context,J=u.contextType;typeof J=="object"&&J!==null?J=jr(J):(J=hr(u)?Oi:Ht.current,J=Ms(a,J));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==g||R!==J)&&p0(a,T,g,J),ui=!1;var ae=a.memoizedState;T.state=ae,Yl(a,g,T,y),R=a.memoizedState,B!==g||ae!==R||ur.current||ui?(typeof le=="function"&&(gd(a,u,le,g),R=a.memoizedState),(B=ui||d0(a,u,B,g,ae,R,J))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=R),T.props=g,T.state=R,T.context=J,g=B):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{T=a.stateNode,zm(n,a),B=a.memoizedProps,J=a.type===a.elementType?B:Gr(a.type,B),T.props=J,ce=a.pendingProps,ae=T.context,R=u.contextType,typeof R=="object"&&R!==null?R=jr(R):(R=hr(u)?Oi:Ht.current,R=Ms(a,R));var xe=u.getDerivedStateFromProps;(le=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==ce||ae!==R)&&p0(a,T,g,R),ui=!1,ae=a.memoizedState,T.state=ae,Yl(a,g,T,y);var ve=a.memoizedState;B!==ce||ae!==ve||ur.current||ui?(typeof xe=="function"&&(gd(a,u,xe,g),ve=a.memoizedState),(J=ui||d0(a,u,J,g,ae,ve,R)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,ve,R),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,ve,R)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===n.memoizedProps&&ae===n.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&ae===n.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ve),T.props=g,T.state=ve,T.context=R,g=J):(typeof T.componentDidUpdate!="function"||B===n.memoizedProps&&ae===n.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&ae===n.memoizedState||(a.flags|=1024),g=!1)}return bd(n,a,u,g,w,y)}function bd(n,a,u,g,y,w){_0(n,a);var T=(a.flags&128)!==0;if(!g&&!T)return y&&Lm(a,u,!1),$n(n,a,w);g=a.stateNode,dS.current=a;var B=T&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,n!==null&&T?(a.child=$s(a,n.child,null,w),a.child=$s(a,null,B,w)):er(n,a,B,w),a.memoizedState=g.state,y&&Lm(a,u,!0),a.child}function T0(n){var a=n.stateNode;a.pendingContext?Am(n,a.pendingContext,a.pendingContext!==a.context):a.context&&Am(n,a.context,!1),nd(n,a.containerInfo)}function N0(n,a,u,g,y){return Ds(),Qh(y),a.flags|=256,er(n,a,u,g),a.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function kd(n){return{baseLanes:n,cachePool:null,transitions:null}}function A0(n,a,u){var g=a.pendingProps,y=ft.current,w=!1,T=(a.flags&128)!==0,B;if((B=T)||(B=n!==null&&n.memoizedState===null?!1:(y&2)!==0),B?(w=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),ot(ft,y&1),n===null)return Xh(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=g.children,n=g.fallback,w?(g=a.mode,w=a.child,T={mode:"hidden",children:T},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=fc(T,g,0,null),n=Xi(n,g,u,null),w.return=a,n.return=a,w.sibling=n,a.child=w,a.child.memoizedState=kd(u),a.memoizedState=wd,n):Cd(a,T));if(y=n.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return fS(n,a,T,g,B,y,u);if(w){w=g.fallback,T=a.mode,y=n.child,B=y.sibling;var R={mode:"hidden",children:g.children};return(T&1)===0&&a.child!==y?(g=a.child,g.childLanes=0,g.pendingProps=R,a.deletions=null):(g=xi(y,R),g.subtreeFlags=y.subtreeFlags&14680064),B!==null?w=xi(B,w):(w=Xi(w,T,u,null),w.flags|=2),w.return=a,g.return=a,g.sibling=w,a.child=g,g=w,w=a.child,T=n.child.memoizedState,T=T===null?kd(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=n.childLanes&~u,a.memoizedState=wd,g}return w=n.child,n=w.sibling,g=xi(w,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=u),g.return=a,g.sibling=null,n!==null&&(u=a.deletions,u===null?(a.deletions=[n],a.flags|=16):u.push(n)),a.child=g,a.memoizedState=null,g}function Cd(n,a){return a=fc({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function ec(n,a,u,g){return g!==null&&Qh(g),$s(a,n.child,null,u),n=Cd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function fS(n,a,u,g,y,w,T){if(u)return a.flags&256?(a.flags&=-257,g=xd(Error(r(422))),ec(n,a,T,g)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(w=g.fallback,y=a.mode,g=fc({mode:"visible",children:g.children},y,0,null),w=Xi(w,y,T,null),w.flags|=2,g.return=a,w.return=a,g.sibling=w,a.child=g,(a.mode&1)!==0&&$s(a,n.child,null,T),a.child.memoizedState=kd(T),a.memoizedState=wd,w);if((a.mode&1)===0)return ec(n,a,T,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var B=g.dgst;return g=B,w=Error(r(419)),g=xd(w,g,void 0),ec(n,a,T,g)}if(B=(T&n.childLanes)!==0,dr||B){if(g=Ft,g!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|T))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Bn(n,y),Kr(g,n,y,-1))}return Od(),g=xd(Error(r(421))),ec(n,a,T,g)}return y.data==="$?"?(a.flags|=128,a.child=n.child,a=TS.bind(null,n),y._reactRetry=a,null):(n=w.treeContext,Cr=ai(y.nextSibling),kr=a,ht=!0,Vr=null,n!==null&&(Lr[Mr++]=Mn,Lr[Mr++]=jn,Lr[Mr++]=Ii,Mn=n.id,jn=n.overflow,Ii=a),a=Cd(a,g.children),a.flags|=4096,a)}function E0(n,a,u){n.lanes|=a;var g=n.alternate;g!==null&&(g.lanes|=a),ed(n.return,a,u)}function _d(n,a,u,g,y){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=u,w.tailMode=y)}function L0(n,a,u){var g=a.pendingProps,y=g.revealOrder,w=g.tail;if(er(n,a,g.children,u),g=ft.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E0(n,u,a);else if(n.tag===19)E0(n,u,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}g&=1}if(ot(ft,g),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)n=u.alternate,n!==null&&Vl(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),_d(a,!1,y,u,w);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(n=y.alternate,n!==null&&Vl(n)===null){a.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}_d(a,!0,u,null,w);break;case"together":_d(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function tc(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function $n(n,a,u){if(n!==null&&(a.dependencies=n.dependencies),Ui|=a.lanes,(u&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,u=xi(n,n.pendingProps),a.child=u,u.return=a;n.sibling!==null;)n=n.sibling,u=u.sibling=xi(n,n.pendingProps),u.return=a;u.sibling=null}return a.child}function pS(n,a,u){switch(a.tag){case 3:T0(a),Ds();break;case 5:qm(a);break;case 1:hr(a.type)&&Pl(a);break;case 4:nd(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,y=a.memoizedProps.value;ot(Hl,g._currentValue),g._currentValue=y;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(ot(ft,ft.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?A0(n,a,u):(ot(ft,ft.current&1),n=$n(n,a,u),n!==null?n.sibling:null);ot(ft,ft.current&1);break;case 19:if(g=(u&a.childLanes)!==0,(n.flags&128)!==0){if(g)return L0(n,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(ft,ft.current),g)break;return null;case 22:case 23:return a.lanes=0,C0(n,a,u)}return $n(n,a,u)}var M0,Sd,j0,B0;M0=function(n,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Sd=function(){},j0=function(n,a,u,g){var y=n.memoizedProps;if(y!==g){n=a.stateNode,Hi(pn.current);var w=null;switch(u){case"input":y=ln(n,y),g=ln(n,g),w=[];break;case"select":y=H({},y,{value:void 0}),g=H({},g,{value:void 0}),w=[];break;case"textarea":y=gt(n,y),g=gt(n,g),w=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(n.onclick=Dl)}hn(u,g);var T;u=null;for(J in y)if(!g.hasOwnProperty(J)&&y.hasOwnProperty(J)&&y[J]!=null)if(J==="style"){var B=y[J];for(T in B)B.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in g){var R=g[J];if(B=y?.[J],g.hasOwnProperty(J)&&R!==B&&(R!=null||B!=null))if(J==="style")if(B){for(T in B)!B.hasOwnProperty(T)||R&&R.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in R)R.hasOwnProperty(T)&&B[T]!==R[T]&&(u||(u={}),u[T]=R[T])}else u||(w||(w=[]),w.push(J,u)),u=R;else J==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,B=B?B.__html:void 0,R!=null&&B!==R&&(w=w||[]).push(J,R)):J==="children"?typeof R!="string"&&typeof R!="number"||(w=w||[]).push(J,""+R):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(R!=null&&J==="onScroll"&&lt("scroll",n),w||B===R||(w=[])):(w=w||[]).push(J,R))}u&&(w=w||[]).push("style",u);var J=w;(a.updateQueue=J)&&(a.flags|=4)}},B0=function(n,a,u,g){u!==g&&(a.flags|=4)};function ro(n,a){if(!ht)switch(n.tailMode){case"hidden":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function Ut(n){var a=n.alternate!==null&&n.alternate.child===n.child,u=0,g=0;if(a)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=g,n.childLanes=u,a}function gS(n,a,u){var g=a.pendingProps;switch(Vh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return hr(a.type)&&Fl(),Ut(a),null;case 3:return g=a.stateNode,Rs(),ct(ur),ct(Ht),ad(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(n===null||n.child===null)&&(zl(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vr!==null&&(Fd(Vr),Vr=null))),Sd(n,a),Ut(a),null;case 5:id(a);var y=Hi(Ka.current);if(u=a.type,n!==null&&a.stateNode!=null)j0(n,a,u,g,y),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(r(166));return Ut(a),null}if(n=Hi(pn.current),zl(a)){g=a.stateNode,u=a.type;var w=a.memoizedProps;switch(g[fn]=a,g[Ya]=w,n=(a.mode&1)!==0,u){case"dialog":lt("cancel",g),lt("close",g);break;case"iframe":case"object":case"embed":lt("load",g);break;case"video":case"audio":for(y=0;y<Ha.length;y++)lt(Ha[y],g);break;case"source":lt("error",g);break;case"img":case"image":case"link":lt("error",g),lt("load",g);break;case"details":lt("toggle",g);break;case"input":re(g,w),lt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},lt("invalid",g);break;case"textarea":lr(g,w),lt("invalid",g)}hn(u,w),y=null;for(var T in w)if(w.hasOwnProperty(T)){var B=w[T];T==="children"?typeof B=="string"?g.textContent!==B&&(w.suppressHydrationWarning!==!0&&Bl(g.textContent,B,n),y=["children",B]):typeof B=="number"&&g.textContent!==""+B&&(w.suppressHydrationWarning!==!0&&Bl(g.textContent,B,n),y=["children",""+B]):s.hasOwnProperty(T)&&B!=null&&T==="onScroll"&&lt("scroll",g)}switch(u){case"input":Ct(g),ke(g,w,!0);break;case"textarea":Ct(g),Nr(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Dl)}g=y,a.updateQueue=g,g!==null&&(a.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=cr(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof g.is=="string"?n=T.createElement(u,{is:g.is}):(n=T.createElement(u),u==="select"&&(T=n,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):n=T.createElementNS(n,u),n[fn]=a,n[Ya]=g,M0(n,a,!1,!1),a.stateNode=n;e:{switch(T=Di(u,g),u){case"dialog":lt("cancel",n),lt("close",n),y=g;break;case"iframe":case"object":case"embed":lt("load",n),y=g;break;case"video":case"audio":for(y=0;y<Ha.length;y++)lt(Ha[y],n);y=g;break;case"source":lt("error",n),y=g;break;case"img":case"image":case"link":lt("error",n),lt("load",n),y=g;break;case"details":lt("toggle",n),y=g;break;case"input":re(n,g),y=ln(n,g),lt("invalid",n);break;case"option":y=g;break;case"select":n._wrapperState={wasMultiple:!!g.multiple},y=H({},g,{value:void 0}),lt("invalid",n);break;case"textarea":lr(n,g),y=gt(n,g),lt("invalid",n);break;default:y=g}hn(u,y),B=y;for(w in B)if(B.hasOwnProperty(w)){var R=B[w];w==="style"?Bi(n,R):w==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&wa(n,R)):w==="children"?typeof R=="string"?(u!=="textarea"||R!=="")&&Xn(n,R):typeof R=="number"&&Xn(n,""+R):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?R!=null&&w==="onScroll"&&lt("scroll",n):R!=null&&M(n,w,R,T))}switch(u){case"input":Ct(n),ke(n,g,!1);break;case"textarea":Ct(n),Nr(n);break;case"option":g.value!=null&&n.setAttribute("value",""+ze(g.value));break;case"select":n.multiple=!!g.multiple,w=g.value,w!=null?Ye(n,!!g.multiple,w,!1):g.defaultValue!=null&&Ye(n,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=Dl)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ut(a),null;case 6:if(n&&a.stateNode!=null)B0(n,a,n.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(u=Hi(Ka.current),Hi(pn.current),zl(a)){if(g=a.stateNode,u=a.memoizedProps,g[fn]=a,(w=g.nodeValue!==u)&&(n=kr,n!==null))switch(n.tag){case 3:Bl(g.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bl(g.nodeValue,u,(n.mode&1)!==0)}w&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[fn]=a,a.stateNode=g}return Ut(a),null;case 13:if(ct(ft),g=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ht&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Fm(),Ds(),a.flags|=98560,w=!1;else if(w=zl(a),g!==null&&g.dehydrated!==null){if(n===null){if(!w)throw Error(r(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[fn]=a}else Ds(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),w=!1}else Vr!==null&&(Fd(Vr),Vr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(g=g!==null,g!==(n!==null&&n.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(ft.current&1)!==0?At===0&&(At=3):Od())),a.updateQueue!==null&&(a.flags|=4),Ut(a),null);case 4:return Rs(),Sd(n,a),n===null&&qa(a.stateNode.containerInfo),Ut(a),null;case 10:return Jh(a.type._context),Ut(a),null;case 17:return hr(a.type)&&Fl(),Ut(a),null;case 19:if(ct(ft),w=a.memoizedState,w===null)return Ut(a),null;if(g=(a.flags&128)!==0,T=w.rendering,T===null)if(g)ro(w,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(T=Vl(n),T!==null){for(a.flags|=128,ro(w,!1),g=T.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)w=u,n=g,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=n,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,n=T.dependencies,w.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return ot(ft,ft.current&1|2),a.child}n=n.sibling}w.tail!==null&&Xe()>Ws&&(a.flags|=128,g=!0,ro(w,!1),a.lanes=4194304)}else{if(!g)if(n=Vl(T),n!==null){if(a.flags|=128,g=!0,u=n.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),ro(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!ht)return Ut(a),null}else 2*Xe()-w.renderingStartTime>Ws&&u!==1073741824&&(a.flags|=128,g=!0,ro(w,!1),a.lanes=4194304);w.isBackwards?(T.sibling=a.child,a.child=T):(u=w.last,u!==null?u.sibling=T:a.child=T,w.last=T)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=Xe(),a.sibling=null,u=ft.current,ot(ft,g?u&1|2:u&1),a):(Ut(a),null);case 22:case 23:return Rd(),g=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(_r&1073741824)!==0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function mS(n,a){switch(Vh(a),a.tag){case 1:return hr(a.type)&&Fl(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Rs(),ct(ur),ct(Ht),ad(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return id(a),null;case 13:if(ct(ft),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ds()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ct(ft),null;case 4:return Rs(),null;case 10:return Jh(a.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var rc=!1,Yt=!1,xS=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Is(n,a){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){xt(n,a,g)}else u.current=null}function Td(n,a,u){try{u()}catch(g){xt(n,a,g)}}var D0=!1;function yS(n,a){if(Rh=kl,n=dm(),Lh(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var y=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var T=0,B=-1,R=-1,J=0,le=0,ce=n,ae=null;t:for(;;){for(var xe;ce!==u||y!==0&&ce.nodeType!==3||(B=T+y),ce!==w||g!==0&&ce.nodeType!==3||(R=T+g),ce.nodeType===3&&(T+=ce.nodeValue.length),(xe=ce.firstChild)!==null;)ae=ce,ce=xe;for(;;){if(ce===n)break t;if(ae===u&&++J===y&&(B=T),ae===w&&++le===g&&(R=T),(xe=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=xe}u=B===-1||R===-1?null:{start:B,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(Oh={focusedElem:n,selectionRange:u},kl=!1,ye=a;ye!==null;)if(a=ye,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ye=n;else for(;ye!==null;){a=ye;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Te=ve.memoizedProps,wt=ve.memoizedState,X=a.stateNode,W=X.getSnapshotBeforeUpdate(a.elementType===a.type?Te:Gr(a.type,Te),wt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){xt(a,a.return,fe)}if(n=a.sibling,n!==null){n.return=a.return,ye=n;break}ye=a.return}return ve=D0,D0=!1,ve}function no(n,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&n)===n){var w=y.destroy;y.destroy=void 0,w!==void 0&&Td(a,u,w)}y=y.next}while(y!==g)}}function nc(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&n)===n){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function Nd(n){var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof a=="function"?a(n):a.current=n}}function $0(n){var a=n.alternate;a!==null&&(n.alternate=null,$0(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[fn],delete a[Ya],delete a[Hh],delete a[eS],delete a[tS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function F0(n){return n.tag===5||n.tag===3||n.tag===4}function P0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||F0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ad(n,a,u){var g=n.tag;if(g===5||g===6)n=n.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(n,a):u.insertBefore(n,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(n,u)):(a=u,a.appendChild(n)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Dl));else if(g!==4&&(n=n.child,n!==null))for(Ad(n,a,u),n=n.sibling;n!==null;)Ad(n,a,u),n=n.sibling}function Ed(n,a,u){var g=n.tag;if(g===5||g===6)n=n.stateNode,a?u.insertBefore(n,a):u.appendChild(n);else if(g!==4&&(n=n.child,n!==null))for(Ed(n,a,u),n=n.sibling;n!==null;)Ed(n,a,u),n=n.sibling}var Rt=null,Xr=!1;function di(n,a,u){for(u=u.child;u!==null;)R0(n,a,u),u=u.sibling}function R0(n,a,u){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Pi,u)}catch{}switch(u.tag){case 5:Yt||Is(u,a);case 6:var g=Rt,y=Xr;Rt=null,di(n,a,u),Rt=g,Xr=y,Rt!==null&&(Xr?(n=Rt,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Rt.removeChild(u.stateNode));break;case 18:Rt!==null&&(Xr?(n=Rt,u=u.stateNode,n.nodeType===8?Wh(n.parentNode,u):n.nodeType===1&&Wh(n,u),$a(n)):Wh(Rt,u.stateNode));break;case 4:g=Rt,y=Xr,Rt=u.stateNode.containerInfo,Xr=!0,di(n,a,u),Rt=g,Xr=y;break;case 0:case 11:case 14:case 15:if(!Yt&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var w=y,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&Td(u,a,T),y=y.next}while(y!==g)}di(n,a,u);break;case 1:if(!Yt&&(Is(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(B){xt(u,a,B)}di(n,a,u);break;case 21:di(n,a,u);break;case 22:u.mode&1?(Yt=(g=Yt)||u.memoizedState!==null,di(n,a,u),Yt=g):di(n,a,u);break;default:di(n,a,u)}}function O0(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new xS),a.forEach(function(g){var y=NS.bind(null,n,g);u.has(g)||(u.add(g),g.then(y,y))})}}function Qr(n,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var y=u[g];try{var w=n,T=a,B=T;e:for(;B!==null;){switch(B.tag){case 5:Rt=B.stateNode,Xr=!1;break e;case 3:Rt=B.stateNode.containerInfo,Xr=!0;break e;case 4:Rt=B.stateNode.containerInfo,Xr=!0;break e}B=B.return}if(Rt===null)throw Error(r(160));R0(w,T,y),Rt=null,Xr=!1;var R=y.alternate;R!==null&&(R.return=null),y.return=null}catch(J){xt(y,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)I0(a,n),a=a.sibling}function I0(n,a){var u=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qr(a,n),mn(n),g&4){try{no(3,n,n.return),nc(3,n)}catch(Te){xt(n,n.return,Te)}try{no(5,n,n.return)}catch(Te){xt(n,n.return,Te)}}break;case 1:Qr(a,n),mn(n),g&512&&u!==null&&Is(u,u.return);break;case 5:if(Qr(a,n),mn(n),g&512&&u!==null&&Is(u,u.return),n.flags&32){var y=n.stateNode;try{Xn(y,"")}catch(Te){xt(n,n.return,Te)}}if(g&4&&(y=n.stateNode,y!=null)){var w=n.memoizedProps,T=u!==null?u.memoizedProps:w,B=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{B==="input"&&w.type==="radio"&&w.name!=null&&he(y,w),Di(B,T);var J=Di(B,w);for(T=0;T<R.length;T+=2){var le=R[T],ce=R[T+1];le==="style"?Bi(y,ce):le==="dangerouslySetInnerHTML"?wa(y,ce):le==="children"?Xn(y,ce):M(y,le,ce,J)}switch(B){case"input":oe(y,w);break;case"textarea":cn(y,w);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var xe=w.value;xe!=null?Ye(y,!!w.multiple,xe,!1):ae!==!!w.multiple&&(w.defaultValue!=null?Ye(y,!!w.multiple,w.defaultValue,!0):Ye(y,!!w.multiple,w.multiple?[]:"",!1))}y[Ya]=w}catch(Te){xt(n,n.return,Te)}}break;case 6:if(Qr(a,n),mn(n),g&4){if(n.stateNode===null)throw Error(r(162));y=n.stateNode,w=n.memoizedProps;try{y.nodeValue=w}catch(Te){xt(n,n.return,Te)}}break;case 3:if(Qr(a,n),mn(n),g&4&&u!==null&&u.memoizedState.isDehydrated)try{$a(a.containerInfo)}catch(Te){xt(n,n.return,Te)}break;case 4:Qr(a,n),mn(n);break;case 13:Qr(a,n),mn(n),y=n.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(jd=Xe())),g&4&&O0(n);break;case 22:if(le=u!==null&&u.memoizedState!==null,n.mode&1?(Yt=(J=Yt)||le,Qr(a,n),Yt=J):Qr(a,n),mn(n),g&8192){if(J=n.memoizedState!==null,(n.stateNode.isHidden=J)&&!le&&(n.mode&1)!==0)for(ye=n,le=n.child;le!==null;){for(ce=ye=le;ye!==null;){switch(ae=ye,xe=ae.child,ae.tag){case 0:case 11:case 14:case 15:no(4,ae,ae.return);break;case 1:Is(ae,ae.return);var ve=ae.stateNode;if(typeof ve.componentWillUnmount=="function"){g=ae,u=ae.return;try{a=g,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(Te){xt(g,u,Te)}}break;case 5:Is(ae,ae.return);break;case 22:if(ae.memoizedState!==null){H0(ce);continue}}xe!==null?(xe.return=ae,ye=xe):H0(ce)}le=le.sibling}e:for(le=null,ce=n;;){if(ce.tag===5){if(le===null){le=ce;try{y=ce.stateNode,J?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(B=ce.stateNode,R=ce.memoizedProps.style,T=R!=null&&R.hasOwnProperty("display")?R.display:null,B.style.display=ji("display",T))}catch(Te){xt(n,n.return,Te)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Te){xt(n,n.return,Te)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===n)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===n)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===n)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Qr(a,n),mn(n),g&4&&O0(n);break;case 21:break;default:Qr(a,n),mn(n)}}function mn(n){var a=n.flags;if(a&2){try{e:{for(var u=n.return;u!==null;){if(F0(u)){var g=u;break e}u=u.return}throw Error(r(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(Xn(y,""),g.flags&=-33);var w=P0(n);Ed(n,w,y);break;case 3:case 4:var T=g.stateNode.containerInfo,B=P0(n);Ad(n,B,T);break;default:throw Error(r(161))}}catch(R){xt(n,n.return,R)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function vS(n,a,u){ye=n,z0(n)}function z0(n,a,u){for(var g=(n.mode&1)!==0;ye!==null;){var y=ye,w=y.child;if(y.tag===22&&g){var T=y.memoizedState!==null||rc;if(!T){var B=y.alternate,R=B!==null&&B.memoizedState!==null||Yt;B=rc;var J=Yt;if(rc=T,(Yt=R)&&!J)for(ye=y;ye!==null;)T=ye,R=T.child,T.tag===22&&T.memoizedState!==null?q0(y):R!==null?(R.return=T,ye=R):q0(y);for(;w!==null;)ye=w,z0(w),w=w.sibling;ye=y,rc=B,Yt=J}W0(n)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,ye=w):W0(n)}}function W0(n){for(;ye!==null;){var a=ye;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Yt||nc(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Yt)if(u===null)g.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:Gr(a.type,u.memoizedProps);g.componentDidUpdate(y,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Hm(a,w,g);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Hm(a,T,u)}break;case 5:var B=a.stateNode;if(u===null&&a.flags&4){u=B;var R=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&u.focus();break;case"img":R.src&&(u.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&$a(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||a.flags&512&&Nd(a)}catch(ae){xt(a,a.return,ae)}}if(a===n){ye=null;break}if(u=a.sibling,u!==null){u.return=a.return,ye=u;break}ye=a.return}}function H0(n){for(;ye!==null;){var a=ye;if(a===n){ye=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ye=u;break}ye=a.return}}function q0(n){for(;ye!==null;){var a=ye;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{nc(4,a)}catch(R){xt(a,u,R)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var y=a.return;try{g.componentDidMount()}catch(R){xt(a,y,R)}}var w=a.return;try{Nd(a)}catch(R){xt(a,w,R)}break;case 5:var T=a.return;try{Nd(a)}catch(R){xt(a,T,R)}}}catch(R){xt(a,a.return,R)}if(a===n){ye=null;break}var B=a.sibling;if(B!==null){B.return=a.return,ye=B;break}ye=a.return}}var bS=Math.ceil,ic=P.ReactCurrentDispatcher,Ld=P.ReactCurrentOwner,Dr=P.ReactCurrentBatchConfig,Je=0,Ft=null,St=null,Ot=0,_r=0,zs=oi(0),At=0,io=null,Ui=0,sc=0,Md=0,so=null,fr=null,jd=0,Ws=1/0,Fn=null,ac=!1,Bd=null,fi=null,oc=!1,pi=null,lc=0,ao=0,Dd=null,cc=-1,uc=0;function tr(){return(Je&6)!==0?Xe():cc!==-1?cc:cc=Xe()}function gi(n){return(n.mode&1)===0?1:(Je&2)!==0&&Ot!==0?Ot&-Ot:nS.transition!==null?(uc===0&&(uc=Pg()),uc):(n=st,n!==0||(n=window.event,n=n===void 0?16:Yg(n.type)),n)}function Kr(n,a,u,g){if(50<ao)throw ao=0,Dd=null,Error(r(185));La(n,u,g),((Je&2)===0||n!==Ft)&&(n===Ft&&((Je&2)===0&&(sc|=u),At===4&&mi(n,Ot)),pr(n,g),u===1&&Je===0&&(a.mode&1)===0&&(Ws=Xe()+500,Rl&&ci()))}function pr(n,a){var u=n.callbackNode;n_(n,a);var g=vl(n,n===Ft?Ot:0);if(g===0)u!==null&&ue(u),n.callbackNode=null,n.callbackPriority=0;else if(a=g&-g,n.callbackPriority!==a){if(u!=null&&ue(u),a===1)n.tag===0?rS(Y0.bind(null,n)):Mm(Y0.bind(null,n)),Z_(function(){(Je&6)===0&&ci()}),u=null;else{switch(Rg(g)){case 1:u=Dt;break;case 4:u=Er;break;case 16:u=qr;break;case 536870912:u=_t;break;default:u=qr}u=ex(u,U0.bind(null,n))}n.callbackPriority=a,n.callbackNode=u}}function U0(n,a){if(cc=-1,uc=0,(Je&6)!==0)throw Error(r(327));var u=n.callbackNode;if(Hs()&&n.callbackNode!==u)return null;var g=vl(n,n===Ft?Ot:0);if(g===0)return null;if((g&30)!==0||(g&n.expiredLanes)!==0||a)a=hc(n,g);else{a=g;var y=Je;Je|=2;var w=G0();(Ft!==n||Ot!==a)&&(Fn=null,Ws=Xe()+500,Vi(n,a));do try{CS();break}catch(B){V0(n,B)}while(!0);Zh(),ic.current=w,Je=y,St!==null?a=0:(Ft=null,Ot=0,a=At)}if(a!==0){if(a===2&&(y=ph(n),y!==0&&(g=y,a=$d(n,y))),a===1)throw u=io,Vi(n,0),mi(n,g),pr(n,Xe()),u;if(a===6)mi(n,g);else{if(y=n.current.alternate,(g&30)===0&&!wS(y)&&(a=hc(n,g),a===2&&(w=ph(n),w!==0&&(g=w,a=$d(n,w))),a===1))throw u=io,Vi(n,0),mi(n,g),pr(n,Xe()),u;switch(n.finishedWork=y,n.finishedLanes=g,a){case 0:case 1:throw Error(r(345));case 2:Gi(n,fr,Fn);break;case 3:if(mi(n,g),(g&130023424)===g&&(a=jd+500-Xe(),10<a)){if(vl(n,0)!==0)break;if(y=n.suspendedLanes,(y&g)!==g){tr(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=zh(Gi.bind(null,n,fr,Fn),a);break}Gi(n,fr,Fn);break;case 4:if(mi(n,g),(g&4194240)===g)break;for(a=n.eventTimes,y=-1;0<g;){var T=31-Ur(g);w=1<<T,T=a[T],T>y&&(y=T),g&=~w}if(g=y,g=Xe()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*bS(g/1960))-g,10<g){n.timeoutHandle=zh(Gi.bind(null,n,fr,Fn),g);break}Gi(n,fr,Fn);break;case 5:Gi(n,fr,Fn);break;default:throw Error(r(329))}}}return pr(n,Xe()),n.callbackNode===u?U0.bind(null,n):null}function $d(n,a){var u=so;return n.current.memoizedState.isDehydrated&&(Vi(n,a).flags|=256),n=hc(n,a),n!==2&&(a=fr,fr=u,a!==null&&Fd(a)),n}function Fd(n){fr===null?fr=n:fr.push.apply(fr,n)}function wS(n){for(var a=n;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var y=u[g],w=y.getSnapshot;y=y.value;try{if(!Yr(w(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mi(n,a){for(a&=~Md,a&=~sc,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var u=31-Ur(a),g=1<<u;n[u]=-1,a&=~g}}function Y0(n){if((Je&6)!==0)throw Error(r(327));Hs();var a=vl(n,0);if((a&1)===0)return pr(n,Xe()),null;var u=hc(n,a);if(n.tag!==0&&u===2){var g=ph(n);g!==0&&(a=g,u=$d(n,g))}if(u===1)throw u=io,Vi(n,0),mi(n,a),pr(n,Xe()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,Gi(n,fr,Fn),pr(n,Xe()),null}function Pd(n,a){var u=Je;Je|=1;try{return n(a)}finally{Je=u,Je===0&&(Ws=Xe()+500,Rl&&ci())}}function Yi(n){pi!==null&&pi.tag===0&&(Je&6)===0&&Hs();var a=Je;Je|=1;var u=Dr.transition,g=st;try{if(Dr.transition=null,st=1,n)return n()}finally{st=g,Dr.transition=u,Je=a,(Je&6)===0&&ci()}}function Rd(){_r=zs.current,ct(zs)}function Vi(n,a){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,K_(u)),St!==null)for(u=St.return;u!==null;){var g=u;switch(Vh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fl();break;case 3:Rs(),ct(ur),ct(Ht),ad();break;case 5:id(g);break;case 4:Rs();break;case 13:ct(ft);break;case 19:ct(ft);break;case 10:Jh(g.type._context);break;case 22:case 23:Rd()}u=u.return}if(Ft=n,St=n=xi(n.current,null),Ot=_r=a,At=0,io=null,Md=sc=Ui=0,fr=so=null,Wi!==null){for(a=0;a<Wi.length;a++)if(u=Wi[a],g=u.interleaved,g!==null){u.interleaved=null;var y=g.next,w=u.pending;if(w!==null){var T=w.next;w.next=y,g.next=T}u.pending=g}Wi=null}return n}function V0(n,a){do{var u=St;try{if(Zh(),Gl.current=Zl,Xl){for(var g=pt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Xl=!1}if(qi=0,$t=Nt=pt=null,Za=!1,Ja=0,Ld.current=null,u===null||u.return===null){At=1,io=a,St=null;break}e:{var w=n,T=u.return,B=u,R=a;if(a=Ot,B.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=R,le=B,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var xe=y0(T);if(xe!==null){xe.flags&=-257,v0(xe,T,B,w,a),xe.mode&1&&x0(w,J,a),a=xe,R=J;var ve=a.updateQueue;if(ve===null){var Te=new Set;Te.add(R),a.updateQueue=Te}else ve.add(R);break e}else{if((a&1)===0){x0(w,J,a),Od();break e}R=Error(r(426))}}else if(ht&&B.mode&1){var wt=y0(T);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),v0(wt,T,B,w,a),Qh(Os(R,B));break e}}w=R=Os(R,B),At!==4&&(At=2),so===null?so=[w]:so.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var X=g0(w,R,a);Wm(w,X);break e;case 1:B=R;var W=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(fi===null||!fi.has(K)))){w.flags|=65536,a&=-a,w.lanes|=a;var fe=m0(w,B,a);Wm(w,fe);break e}}w=w.return}while(w!==null)}Q0(u)}catch(Ee){a=Ee,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function G0(){var n=ic.current;return ic.current=Zl,n===null?Zl:n}function Od(){(At===0||At===3||At===2)&&(At=4),Ft===null||(Ui&268435455)===0&&(sc&268435455)===0||mi(Ft,Ot)}function hc(n,a){var u=Je;Je|=2;var g=G0();(Ft!==n||Ot!==a)&&(Fn=null,Vi(n,a));do try{kS();break}catch(y){V0(n,y)}while(!0);if(Zh(),Je=u,ic.current=g,St!==null)throw Error(r(261));return Ft=null,Ot=0,At}function kS(){for(;St!==null;)X0(St)}function CS(){for(;St!==null&&!Ce();)X0(St)}function X0(n){var a=J0(n.alternate,n,_r);n.memoizedProps=n.pendingProps,a===null?Q0(n):St=a,Ld.current=null}function Q0(n){var a=n;do{var u=a.alternate;if(n=a.return,(a.flags&32768)===0){if(u=gS(u,a,_r),u!==null){St=u;return}}else{if(u=mS(u,a),u!==null){u.flags&=32767,St=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{At=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=n}while(a!==null);At===0&&(At=5)}function Gi(n,a,u){var g=st,y=Dr.transition;try{Dr.transition=null,st=1,_S(n,a,u,g)}finally{Dr.transition=y,st=g}return null}function _S(n,a,u,g){do Hs();while(pi!==null);if((Je&6)!==0)throw Error(r(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var w=u.lanes|u.childLanes;if(i_(n,w),n===Ft&&(St=Ft=null,Ot=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||oc||(oc=!0,ex(qr,function(){return Hs(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=Dr.transition,Dr.transition=null;var T=st;st=1;var B=Je;Je|=4,Ld.current=null,yS(n,u),I0(u,n),q_(Oh),kl=!!Rh,Oh=Rh=null,n.current=u,vS(u),at(),Je=B,st=T,Dr.transition=w}else n.current=u;if(oc&&(oc=!1,pi=n,lc=y),w=n.pendingLanes,w===0&&(fi=null),ZC(u.stateNode),pr(n,Xe()),a!==null)for(g=n.onRecoverableError,u=0;u<a.length;u++)y=a[u],g(y.value,{componentStack:y.stack,digest:y.digest});if(ac)throw ac=!1,n=Bd,Bd=null,n;return(lc&1)!==0&&n.tag!==0&&Hs(),w=n.pendingLanes,(w&1)!==0?n===Dd?ao++:(ao=0,Dd=n):ao=0,ci(),null}function Hs(){if(pi!==null){var n=Rg(lc),a=Dr.transition,u=st;try{if(Dr.transition=null,st=16>n?16:n,pi===null)var g=!1;else{if(n=pi,pi=null,lc=0,(Je&6)!==0)throw Error(r(331));var y=Je;for(Je|=4,ye=n.current;ye!==null;){var w=ye,T=w.child;if((ye.flags&16)!==0){var B=w.deletions;if(B!==null){for(var R=0;R<B.length;R++){var J=B[R];for(ye=J;ye!==null;){var le=ye;switch(le.tag){case 0:case 11:case 15:no(8,le,w)}var ce=le.child;if(ce!==null)ce.return=le,ye=ce;else for(;ye!==null;){le=ye;var ae=le.sibling,xe=le.return;if($0(le),le===J){ye=null;break}if(ae!==null){ae.return=xe,ye=ae;break}ye=xe}}}var ve=w.alternate;if(ve!==null){var Te=ve.child;if(Te!==null){ve.child=null;do{var wt=Te.sibling;Te.sibling=null,Te=wt}while(Te!==null)}}ye=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,ye=T;else e:for(;ye!==null;){if(w=ye,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:no(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,ye=X;break e}ye=w.return}}var W=n.current;for(ye=W;ye!==null;){T=ye;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,ye=K;else e:for(T=W;ye!==null;){if(B=ye,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:nc(9,B)}}catch(Ee){xt(B,B.return,Ee)}if(B===T){ye=null;break e}var fe=B.sibling;if(fe!==null){fe.return=B.return,ye=fe;break e}ye=B.return}}if(Je=y,ci(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Pi,n)}catch{}g=!0}return g}finally{st=u,Dr.transition=a}}return!1}function K0(n,a,u){a=Os(u,a),a=g0(n,a,1),n=hi(n,a,1),a=tr(),n!==null&&(La(n,1,a),pr(n,a))}function xt(n,a,u){if(n.tag===3)K0(n,n,u);else for(;a!==null;){if(a.tag===3){K0(a,n,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fi===null||!fi.has(g))){n=Os(u,n),n=m0(a,n,1),a=hi(a,n,1),n=tr(),a!==null&&(La(a,1,n),pr(a,n));break}}a=a.return}}function SS(n,a,u){var g=n.pingCache;g!==null&&g.delete(a),a=tr(),n.pingedLanes|=n.suspendedLanes&u,Ft===n&&(Ot&u)===u&&(At===4||At===3&&(Ot&130023424)===Ot&&500>Xe()-jd?Vi(n,0):Md|=u),pr(n,a)}function Z0(n,a){a===0&&((n.mode&1)===0?a=1:(a=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var u=tr();n=Bn(n,a),n!==null&&(La(n,a,u),pr(n,u))}function TS(n){var a=n.memoizedState,u=0;a!==null&&(u=a.retryLane),Z0(n,u)}function NS(n,a){var u=0;switch(n.tag){case 13:var g=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:g=n.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(a),Z0(n,u)}var J0;J0=function(n,a,u){if(n!==null)if(n.memoizedProps!==a.pendingProps||ur.current)dr=!0;else{if((n.lanes&u)===0&&(a.flags&128)===0)return dr=!1,pS(n,a,u);dr=(n.flags&131072)!==0}else dr=!1,ht&&(a.flags&1048576)!==0&&jm(a,Il,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;tc(n,a),n=a.pendingProps;var y=Ms(a,Ht.current);Ps(a,u),y=cd(null,a,g,n,y,u);var w=ud();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hr(g)?(w=!0,Pl(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,rd(a),y.updater=Jl,a.stateNode=y,y._reactInternals=a,md(a,g,n,u),a=bd(null,a,g,!0,w,u)):(a.tag=0,ht&&w&&Yh(a),er(null,a,y,u),a=a.child),a;case 16:g=a.elementType;e:{switch(tc(n,a),n=a.pendingProps,y=g._init,g=y(g._payload),a.type=g,y=a.tag=ES(g),n=Gr(g,n),y){case 0:a=vd(null,a,g,n,u);break e;case 1:a=S0(null,a,g,n,u);break e;case 11:a=b0(null,a,g,n,u);break e;case 14:a=w0(null,a,g,Gr(g.type,n),u);break e}throw Error(r(306,g,""))}return a;case 0:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),vd(n,a,g,y,u);case 1:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),S0(n,a,g,y,u);case 3:e:{if(T0(a),n===null)throw Error(r(387));g=a.pendingProps,w=a.memoizedState,y=w.element,zm(n,a),Yl(a,g,null,u);var T=a.memoizedState;if(g=T.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Os(Error(r(423)),a),a=N0(n,a,g,u,y);break e}else if(g!==y){y=Os(Error(r(424)),a),a=N0(n,a,g,u,y);break e}else for(Cr=ai(a.stateNode.containerInfo.firstChild),kr=a,ht=!0,Vr=null,u=Om(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ds(),g===y){a=$n(n,a,u);break e}er(n,a,g,u)}a=a.child}return a;case 5:return qm(a),n===null&&Xh(a),g=a.type,y=a.pendingProps,w=n!==null?n.memoizedProps:null,T=y.children,Ih(g,y)?T=null:w!==null&&Ih(g,w)&&(a.flags|=32),_0(n,a),er(n,a,T,u),a.child;case 6:return n===null&&Xh(a),null;case 13:return A0(n,a,u);case 4:return nd(a,a.stateNode.containerInfo),g=a.pendingProps,n===null?a.child=$s(a,null,g,u):er(n,a,g,u),a.child;case 11:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),b0(n,a,g,y,u);case 7:return er(n,a,a.pendingProps,u),a.child;case 8:return er(n,a,a.pendingProps.children,u),a.child;case 12:return er(n,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,y=a.pendingProps,w=a.memoizedProps,T=y.value,ot(Hl,g._currentValue),g._currentValue=T,w!==null)if(Yr(w.value,T)){if(w.children===y.children&&!ur.current){a=$n(n,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var B=w.dependencies;if(B!==null){T=w.child;for(var R=B.firstContext;R!==null;){if(R.context===g){if(w.tag===1){R=Dn(-1,u&-u),R.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?R.next=R:(R.next=le.next,le.next=R),J.pending=R}}w.lanes|=u,R=w.alternate,R!==null&&(R.lanes|=u),ed(w.return,u,a),B.lanes|=u;break}R=R.next}}else if(w.tag===10)T=w.type===a.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(r(341));T.lanes|=u,B=T.alternate,B!==null&&(B.lanes|=u),ed(T,u,a),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===a){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}er(n,a,y.children,u),a=a.child}return a;case 9:return y=a.type,g=a.pendingProps.children,Ps(a,u),y=jr(y),g=g(y),a.flags|=1,er(n,a,g,u),a.child;case 14:return g=a.type,y=Gr(g,a.pendingProps),y=Gr(g.type,y),w0(n,a,g,y,u);case 15:return k0(n,a,a.type,a.pendingProps,u);case 17:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),tc(n,a),a.tag=1,hr(g)?(n=!0,Pl(a)):n=!1,Ps(a,u),f0(a,g,y),md(a,g,y,u),bd(null,a,g,!0,n,u);case 19:return L0(n,a,u);case 22:return C0(n,a,u)}throw Error(r(156,a.tag))};function ex(n,a){return I(n,a)}function AS(n,a,u,g){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(n,a,u,g){return new AS(n,a,u,g)}function Id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ES(n){if(typeof n=="function")return Id(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ee)return 11;if(n===j)return 14}return 2}function xi(n,a){var u=n.alternate;return u===null?(u=$r(n.tag,a,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=a,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,a=n.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function dc(n,a,u,g,y,w){var T=2;if(g=n,typeof n=="function")Id(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case z:return Xi(u.children,y,w,a);case q:T=8,y|=8;break;case te:return n=$r(12,u,a,y|2),n.elementType=te,n.lanes=w,n;case Z:return n=$r(13,u,a,y),n.elementType=Z,n.lanes=w,n;case U:return n=$r(19,u,a,y),n.elementType=U,n.lanes=w,n;case O:return fc(u,y,w,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:T=10;break e;case F:T=9;break e;case ee:T=11;break e;case j:T=14;break e;case $:T=16,g=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return a=$r(T,u,a,y),a.elementType=n,a.type=g,a.lanes=w,a}function Xi(n,a,u,g){return n=$r(7,n,g,a),n.lanes=u,n}function fc(n,a,u,g){return n=$r(22,n,g,a),n.elementType=O,n.lanes=u,n.stateNode={isHidden:!1},n}function zd(n,a,u){return n=$r(6,n,null,a),n.lanes=u,n}function Wd(n,a,u){return a=$r(4,n.children!==null?n.children:[],n.key,a),a.lanes=u,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function LS(n,a,u,g,y){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gh(0),this.expirationTimes=gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Hd(n,a,u,g,y,w,T,B,R){return n=new LS(n,a,u,B,R),a===1?(a=1,w===!0&&(a|=8)):a=0,w=$r(3,null,null,a),n.current=w,w.stateNode=n,w.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(w),n}function MS(n,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:g==null?null:""+g,children:n,containerInfo:a,implementation:u}}function tx(n){if(!n)return li;n=n._reactInternals;e:{if(dn(n)!==n||n.tag!==1)throw Error(r(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(hr(u))return Em(n,u,a)}return a}function rx(n,a,u,g,y,w,T,B,R){return n=Hd(u,g,!0,n,y,w,T,B,R),n.context=tx(null),u=n.current,g=tr(),y=gi(u),w=Dn(g,y),w.callback=a??null,hi(u,w,y),n.current.lanes=y,La(n,y,g),pr(n,g),n}function pc(n,a,u,g){var y=a.current,w=tr(),T=gi(y);return u=tx(u),a.context===null?a.context=u:a.pendingContext=u,a=Dn(w,T),a.payload={element:n},g=g===void 0?null:g,g!==null&&(a.callback=g),n=hi(y,a,T),n!==null&&(Kr(n,y,T,w),Ul(n,y,T)),T}function gc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nx(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<a?u:a}}function qd(n,a){nx(n,a),(n=n.alternate)&&nx(n,a)}function jS(){return null}var ix=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ud(n){this._internalRoot=n}mc.prototype.render=Ud.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));pc(n,a,null,null)},mc.prototype.unmount=Ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Yi(function(){pc(null,n,null,null)}),a[En]=null}};function mc(n){this._internalRoot=n}mc.prototype.unstable_scheduleHydration=function(n){if(n){var a=zg();n={blockedOn:null,target:n,priority:a};for(var u=0;u<ni.length&&a!==0&&a<ni[u].priority;u++);ni.splice(u,0,n),u===0&&qg(n)}};function Yd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sx(){}function BS(n,a,u,g,y){if(y){if(typeof g=="function"){var w=g;g=function(){var J=gc(T);w.call(J)}}var T=rx(a,g,n,0,null,!1,!1,"",sx);return n._reactRootContainer=T,n[En]=T.current,qa(n.nodeType===8?n.parentNode:n),Yi(),T}for(;y=n.lastChild;)n.removeChild(y);if(typeof g=="function"){var B=g;g=function(){var J=gc(R);B.call(J)}}var R=Hd(n,0,!1,null,null,!1,!1,"",sx);return n._reactRootContainer=R,n[En]=R.current,qa(n.nodeType===8?n.parentNode:n),Yi(function(){pc(a,R,u,g)}),R}function yc(n,a,u,g,y){var w=u._reactRootContainer;if(w){var T=w;if(typeof y=="function"){var B=y;y=function(){var R=gc(T);B.call(R)}}pc(a,T,n,y)}else T=BS(u,a,n,y,g);return gc(T)}Og=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var u=Ea(a.pendingLanes);u!==0&&(mh(a,u|1),pr(a,Xe()),(Je&6)===0&&(Ws=Xe()+500,ci()))}break;case 13:Yi(function(){var g=Bn(n,1);if(g!==null){var y=tr();Kr(g,n,1,y)}}),qd(n,1)}},xh=function(n){if(n.tag===13){var a=Bn(n,134217728);if(a!==null){var u=tr();Kr(a,n,134217728,u)}qd(n,134217728)}},Ig=function(n){if(n.tag===13){var a=gi(n),u=Bn(n,a);if(u!==null){var g=tr();Kr(u,n,a,g)}qd(n,a)}},zg=function(){return st},Wg=function(n,a){var u=st;try{return st=n,a()}finally{st=u}},Qn=function(n,a,u){switch(a){case"input":if(oe(n,u),a=u.name,u.type==="radio"&&a!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==n&&g.form===n.form){var y=$l(g);if(!y)throw Error(r(90));Jt(g),oe(g,y)}}}break;case"textarea":cn(n,u);break;case"select":a=u.value,a!=null&&Ye(n,!!u.multiple,a,!1)}},bt=Pd,Nn=Yi;var DS={usingClientEntryPoint:!1,Events:[Va,Es,$l,dl,fl,Pd]},oo={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$S={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ml(n),n===null?null:n.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||jS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Pi=vc.inject($S),br=vc}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS,gr.createPortal=function(n,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(a))throw Error(r(200));return MS(n,a,null,u)},gr.createRoot=function(n,a){if(!Yd(n))throw Error(r(299));var u=!1,g="",y=ix;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Hd(n,1,!1,null,null,u,!1,g,y),n[En]=a.current,qa(n.nodeType===8?n.parentNode:n),new Ud(a)},gr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=ml(a),n=n===null?null:n.stateNode,n},gr.flushSync=function(n){return Yi(n)},gr.hydrate=function(n,a,u){if(!xc(a))throw Error(r(200));return yc(null,n,a,!0,u)},gr.hydrateRoot=function(n,a,u){if(!Yd(n))throw Error(r(405));var g=u!=null&&u.hydratedSources||null,y=!1,w="",T=ix;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=rx(a,null,n,1,u??null,y,!1,w,T),n[En]=a.current,qa(n),g)for(n=0;n<g.length;n++)u=g[n],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new mc(a)},gr.render=function(n,a,u){if(!xc(a))throw Error(r(200));return yc(null,n,a,!1,u)},gr.unmountComponentAtNode=function(n){if(!xc(n))throw Error(r(40));return n._reactRootContainer?(Yi(function(){yc(null,null,n,!1,function(){n._reactRootContainer=null,n[En]=null})}),!0):!1},gr.unstable_batchedUpdates=Pd,gr.unstable_renderSubtreeIntoContainer=function(n,a,u,g){if(!xc(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return yc(n,a,u,!1,g)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var fx;function qS(){if(fx)return Xd.exports;fx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xd.exports=HS(),Xd.exports}var px;function US(){if(px)return bc;px=1;var t=qS();return bc.createRoot=t.createRoot,bc.hydrateRoot=t.hydrateRoot,bc}var YS=US();const p1=ne.createContext(void 0);function VS({children:t}){const[e,r]=ne.useState("Auto (Guardrails)"),[i,s]=ne.useState(!1),[o,c]=ne.useState(!1);return f.jsx(p1.Provider,{value:{autonomyMode:e,setAutonomyMode:r,isModalOpen:i,setIsModalOpen:s,legacyMode:o,setLegacyMode:c},children:t})}function Ru(){const t=ne.useContext(p1);if(t===void 0)throw new Error("useAutonomy must be used within an AutonomyProvider");return t}const Zd=window.location.origin,yt={BASE_URL:Zd,buildApiUrl:t=>`${Zd}/api/v1${t}`,buildDclUrl:t=>`${Zd}/dcl${t}`},Wn="aoa_jwt",g1=[{id:"1",name:"Dynamics CRM",value:"dynamics",type:"CRM",status:"connected",description:"Customer relationship management"},{id:"2",name:"Salesforce",value:"salesforce",type:"CRM",status:"connected",description:"Cloud-based CRM platform"},{id:"3",name:"HubSpot",value:"hubspot",type:"CRM",status:"connected",description:"Marketing and sales platform"},{id:"4",name:"SAP ERP",value:"sap",type:"ERP",status:"connected",description:"Enterprise resource planning"},{id:"5",name:"NetSuite",value:"netsuite",type:"ERP",status:"connected",description:"Cloud ERP system"},{id:"6",name:"Legacy SQL",value:"legacy_sql",type:"Database",status:"connected",description:"On-premise SQL database"},{id:"7",name:"Snowflake",value:"snowflake",type:"Warehouse",status:"connected",description:"Cloud data warehouse"},{id:"8",name:"Supabase",value:"supabase",type:"Database",status:"connected",description:"Open source database platform"},{id:"9",name:"MongoDB",value:"mongodb",type:"Database",status:"connected",description:"NoSQL document database"}],m1=[{id:"1",name:"RevOps Pilot",value:"revops_pilot",description:"Revenue operations intelligence agent"},{id:"2",name:"FinOps Pilot",value:"finops_pilot",description:"Financial operations intelligence agent"}],x1=()=>g1.map(t=>t.value),y1=()=>m1.map(t=>t.value),Jd=()=>{let t=!1,e=!1;try{const r=localStorage.getItem("aos.selectedSources");if(!r)t=!0;else{const i=JSON.parse(r);(!Array.isArray(i)||i.length===0)&&(t=!0)}}catch{t=!0}try{const r=localStorage.getItem("aos.selectedAgents");if(!r)e=!0;else{const i=JSON.parse(r);(!Array.isArray(i)||i.length===0)&&(e=!0)}}catch{e=!0}if(t){const r=x1();localStorage.setItem("aos.selectedSources",JSON.stringify(r)),console.log("[DCL Defaults] Initialized all sources:",r)}if(e){const r=y1();localStorage.setItem("aos.selectedAgents",JSON.stringify(r)),console.log("[DCL Defaults] Initialized all agents:",r)}},v1=()=>{try{const t=localStorage.getItem("aos.selectedSources");if(t){const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}}catch(t){console.error("[DCL Defaults] Failed to parse saved sources:",t)}return x1()},b1=()=>{try{const t=localStorage.getItem("aos.selectedAgents");if(t){const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}}catch(t){console.error("[DCL Defaults] Failed to parse saved agents:",t)}return y1()},co="auth_token_expiry",gx=1800*1e3,w1=ne.createContext(void 0);function GS({children:t}){const[e,r]=ne.useState(null),[i,s]=ne.useState(null),[o,c]=ne.useState(!0),l=ne.useCallback(()=>{localStorage.removeItem(Wn),localStorage.removeItem(co),s(null),r(null)},[]),h=ne.useCallback(()=>{const x=localStorage.getItem(Wn),v=localStorage.getItem(co);if(!x)return!1;if(!v)return console.log("[Auth] Legacy token without expiry found, logging out..."),l(),!1;const b=parseInt(v,10);return Date.now()>=b?(console.log("[Auth] Token expired after 30 minutes, logging out..."),l(),!1):!0},[l]);ne.useEffect(()=>{const x=localStorage.getItem(Wn);x&&h()?(Jd(),s(x),d(x)):c(!1);const v=()=>{console.log("[Auth] Received unauthorized event, logging out..."),l()};return window.addEventListener("auth:unauthorized",v),()=>{window.removeEventListener("auth:unauthorized",v)}},[h,l]);const d=async x=>{try{const v=await fetch(yt.buildApiUrl("/auth/me"),{headers:{Authorization:`Bearer ${x}`}});if(v.ok){const b=await v.json();r(b)}else v.status===401?(console.log("[Auth] 401 on profile fetch, logging out..."),l()):(localStorage.removeItem(Wn),localStorage.removeItem(co),s(null))}catch(v){console.error("Failed to fetch user profile:",v),l()}finally{c(!1)}},p=async(x,v)=>{const b=await fetch(yt.buildApiUrl("/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,password:v})});if(!b.ok){const N=await b.json();throw new Error(N.detail||"Invalid credentials")}const C=await b.json(),_=C.access_token||C.token,S=Date.now()+gx;localStorage.setItem(Wn,_),localStorage.setItem(co,S.toString()),s(_),Jd(),await d(_)},m=async(x,v,b)=>{const C=await fetch(yt.buildApiUrl("/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x,email:v,password:b})});if(!C.ok){const M=await C.json();throw new Error(M.detail||"Registration failed")}const _=await C.json(),S=_.access_token||_.token,N=Date.now()+gx;localStorage.setItem(Wn,S),localStorage.setItem(co,N.toString()),s(S),Jd(),await d(S)};return f.jsx(w1.Provider,{value:{user:e,token:i,isAuthenticated:!!i,isLoading:o,login:p,register:m,logout:l},children:t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(t,e)=>{const r=ne.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:l="",children:h,...d},p)=>ne.createElement("svg",{ref:p,...XS,width:s,height:s,stroke:i,strokeWidth:c?Number(o)*24/Number(s):o,className:["lucide",`lucide-${QS(t)}`,l].join(" "),...d},[...e.map(([m,x])=>ne.createElement(m,x)),...Array.isArray(h)?h:[h]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ie("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ie("Cable",[["path",{d:"M4 9a2 2 0 0 1-2-2V5h6v2a2 2 0 0 1-2 2Z",key:"1s6oa5"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M7 5V3",key:"1t1388"}],["path",{d:"M19 15V6.5a3.5 3.5 0 0 0-7 0v11a3.5 3.5 0 0 1-7 0V9",key:"1ytv72"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M22 19h-6v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Z",key:"sdz6o8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ie("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ie("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ie("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ie("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ie("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=Ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Ie("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ie("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function kx(){const{autonomyMode:t,setAutonomyMode:e}=Ru(),[r,i]=ne.useState(!1),s=["Observe","Recommend","Approve-to-Act","Auto (Guardrails)","Federated (xAO)"],o=c=>{e(c),i(!1)};return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-2 px-3 h-10 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg transition-colors",title:"Autonomy Mode controls how AutonomOS manages itself. 'Auto (Guardrails)' allows self-directed agent decisions within preset boundaries, while 'Manual' requires human confirmation for major actions.",children:[f.jsx(uT,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),f.jsxs("div",{className:"text-left min-w-0",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Autonomy Mode"}),f.jsx("div",{className:"text-sm font-medium text-slate-200 truncate",children:t})]}),f.jsx(Bo,{className:"w-4 h-4 text-slate-400 flex-shrink-0"})]}),r&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),f.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50",children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:"px-3 py-2 text-xs text-slate-500 tracking-wider border-b border-slate-700 mb-2",children:"Select Autonomy Mode"}),s.map(c=>f.jsxs("button",{onClick:()=>o(c),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${t===c?"bg-cyan-600 text-white":"text-slate-300 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"font-medium",children:c}),f.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:[c==="Observe"&&"Monitor only, no actions",c==="Recommend"&&"Suggest actions for review",c==="Approve-to-Act"&&"Require approval before execution",c==="Auto (Guardrails)"&&"Autonomous with safety limits",c==="Federated (xAO)"&&"Cross-enterprise orchestration"]})]},c))]})})]})]})}const gT="/assets/autonomos-logo-CqGBsnEG.png";function mT({onAuthOpen:t,currentPage:e,onNavigate:r}){const[i,s]=ne.useState(!1),[o]=ne.useState(!0),c=[{id:"dashboard",label:"Dashboard",icon:f.jsx(iT,{className:"w-5 h-5"})},{id:"connections",label:"Connections",icon:f.jsx(JS,{className:"w-5 h-5"})},{id:"ontology",label:"Ontology",icon:f.jsx(Bp,{className:"w-5 h-5"})},{id:"aam-monitor",label:"AAM Monitor",icon:f.jsx(Lt,{className:"w-5 h-5"}),tooltip:"Adaptive API Mesh Monitoring"},{id:"diagrams",label:"Architecture",icon:f.jsx(k1,{className:"w-5 h-5"}),tooltip:"Live Architecture Diagrams"},{id:"faq",label:"FAQ",icon:f.jsx(jp,{className:"w-5 h-5"})}];return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center px-4 sm:px-6 gap-3 sm:gap-6 safe-x",children:[f.jsx("div",{className:"flex-shrink-0 -ml-[10px]",children:f.jsx("button",{onClick:()=>r("dashboard"),className:"hover:opacity-80 transition-opacity cursor-pointer",children:f.jsx("img",{src:gT,alt:"autonomOS",className:"h-[36px] sm:h-[42px] object-contain"})})}),f.jsx("nav",{className:"hidden sm:flex flex-1 items-center gap-1",children:c.map(l=>f.jsxs("button",{onClick:()=>r(l.id),title:l.tooltip,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all flex-shrink-0 touch-target-h ${e===l.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"} ${l.id==="faq"?"ring-2 ring-[#0BCAD9]/50 shadow-lg shadow-[#0BCAD9]/30 animate-pulse":""}`,children:[l.icon,f.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:l.label})]},l.id))}),f.jsx("div",{className:"flex-1 sm:hidden"}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[f.jsx("div",{className:"hidden sm:block",children:f.jsx(kx,{})}),f.jsx("div",{className:"relative",children:f.jsxs("button",{className:"p-2 hover:bg-gray-800 rounded-lg transition-colors relative touch-target mobile-tap-highlight",children:[f.jsx(ZS,{className:"w-5 h-5 text-gray-400"}),o&&f.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})}),f.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>t("login"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-200 transition-colors touch-target-h mobile-tap-highlight",children:[f.jsx(vx,{className:"w-4 h-4"}),f.jsx("span",{className:"font-medium text-sm",children:"Login"})]}),f.jsxs("button",{onClick:()=>t("signup"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors touch-target-h mobile-tap-highlight",children:[f.jsx(wx,{className:"w-4 h-4"}),f.jsx("span",{className:"font-medium text-sm",children:"Sign Up"})]})]}),f.jsx("button",{onClick:()=>s(!i),className:"sm:hidden p-2 hover:bg-gray-800 rounded-lg transition-colors touch-target mobile-tap-highlight",children:i?f.jsx(zo,{className:"w-6 h-6 text-gray-400"}):f.jsx(aT,{className:"w-6 h-6 text-gray-400"})})]})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 sm:hidden",onClick:()=>s(!1)}),f.jsx("div",{className:"fixed top-16 right-0 bottom-0 w-64 bg-gray-900 border-l border-gray-800 z-50 sm:hidden safe-x safe-bottom",children:f.jsxs("div",{className:"flex flex-col h-full p-4",children:[f.jsx("nav",{className:"flex flex-col gap-2 mb-6",children:c.map(l=>f.jsxs("button",{onClick:()=>{r(l.id),s(!1)},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all touch-target-h mobile-tap-highlight ${e===l.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"} ${l.id==="faq"?"ring-2 ring-[#0BCAD9]/50 shadow-lg shadow-[#0BCAD9]/30 animate-pulse":""}`,children:[l.icon,f.jsx("span",{className:"font-medium text-base",children:l.label})]},l.id))}),f.jsxs("div",{className:"border-t border-gray-800 pt-4 mb-4",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-2 px-2",children:"Autonomy Mode"}),f.jsx(kx,{})]}),f.jsx("div",{className:"border-t border-gray-800 pt-4 mt-auto",children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>{t("login"),s(!1)},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-200 transition-colors touch-target-h mobile-tap-highlight justify-center",children:[f.jsx(vx,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Login"})]}),f.jsxs("button",{onClick:()=>{t("signup"),s(!1)},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors touch-target-h mobile-tap-highlight justify-center",children:[f.jsx(wx,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Sign Up"})]})]})})]})})]})]})}function xT({children:t,currentPage:e,onNavigate:r,onAuthOpen:i}){return f.jsxs("div",{className:"h-screen flex flex-col bg-gray-950",children:[f.jsx(mT,{onAuthOpen:i,currentPage:e,onNavigate:r}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"p-6",children:t})})]})}const yT={agentUptime:99.2,activeAgents:{current:12,total:15},failedSteps24h:3,anomalyDetections24h:7,humanOverrides:2,triggerCountPerMin:147,computeLoadAvg:42},vT=[{id:"discover",name:"Discover",metric:87,target:90,status:"optimal",unit:"%"},{id:"sense",name:"Sense",metric:94,target:85,status:"optimal",unit:"%"},{id:"policy",name:"Policy",metric:76,target:80,status:"warning",unit:"%"},{id:"plan",name:"Plan",metric:91,target:90,status:"optimal",unit:"%"},{id:"prioritize",name:"Prioritize",metric:88,target:85,status:"optimal",unit:"%"},{id:"execute",name:"Execute",metric:82,target:90,status:"warning",unit:"%"},{id:"budget",name:"Budget",metric:95,target:90,status:"optimal",unit:"%"},{id:"observe",name:"Observe",metric:98,target:95,status:"optimal",unit:"%"},{id:"learn",name:"Learn",metric:72,target:80,status:"warning",unit:"%"},{id:"lifecycle",name:"Lifecycle",metric:89,target:85,status:"optimal",unit:"%"}],bT=[{id:"cross_discovery",name:"Cross-Enterprise Discovery",value:"847 endpoints",trend:"up",description:"Active API endpoints across federated systems"},{id:"federation_health",name:"Federation Health",value:"96.2%",trend:"stable",description:"Overall health of federated orchestration"},{id:"trust_score",name:"Trust Score",value:"8.7/10",trend:"up",description:"Inter-enterprise trust and reliability metric"},{id:"data_sovereignty",name:"Data Sovereignty",value:"100%",trend:"stable",description:"Compliance with regional data requirements"},{id:"cost_allocation",name:"Cost Allocation",value:"$124k/mo",trend:"down",description:"Distributed compute and resource costs"},{id:"sla_compliance",name:"SLA Compliance",value:"99.7%",trend:"stable",description:"Service level agreement adherence"},{id:"security_posture",name:"Security Posture",value:"A+",trend:"stable",description:"Federated security assessment score"},{id:"consensus_rate",name:"Consensus Rate",value:"94.3%",trend:"up",description:"Multi-party agreement on orchestration decisions"},{id:"latency_p95",name:"Cross-Enterprise Latency (P95)",value:"127ms",trend:"down",description:"95th percentile latency for federated operations"},{id:"shared_agents",name:"Shared Agents",value:"42 active",trend:"up",description:"Agents operating across enterprise boundaries"},{id:"interop_score",name:"Interoperability Score",value:"9.1/10",trend:"stable",description:"System compatibility and integration health"},{id:"dispute_resolution",name:"Dispute Resolution Time",value:"4.2min",trend:"down",description:"Average time to resolve orchestration conflicts"}],Jr={vitals:yT,aoaFunctions:vT,xaoFunctions:bT};function wT(){const{isModalOpen:t,setIsModalOpen:e}=Ru(),[r,i]=ne.useState("aoa"),[s,o]=ne.useState(Jr.aoaFunctions),[c]=ne.useState(Jr.xaoFunctions);if(ne.useEffect(()=>{if(!t)return;const p=setInterval(()=>{o(m=>m.map(x=>{const v=Math.floor(Math.random()*10)-5,b=Math.max(0,Math.min(100,x.metric+v));let C="optimal";return b<x.target-10?C="critical":b<x.target&&(C="warning"),{...x,metric:b,status:C}}))},8e3);return()=>clearInterval(p)},[t]),!t)return null;const l=p=>{switch(p){case"optimal":return"bg-green-500/20 text-green-400";case"warning":return"bg-yellow-500/20 text-yellow-400";case"critical":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},h=p=>{switch(p){case"up":return f.jsx(Ou,{className:"w-4 h-4 text-green-400"});case"down":return f.jsx(A1,{className:"w-4 h-4 text-red-400"});case"stable":return f.jsx(S1,{className:"w-4 h-4 text-gray-400"})}},d=p=>({discover:{label:"Agent Registry Health",description:"% of known agents responding to heartbeat pings"},sense:{label:"Event Classification Accuracy",description:"% of incoming events correctly identified and enriched"},policy:{label:"Policy Compliance",description:"% of actions executing within guardrails (scope, permissions, SLAs)"},plan:{label:"Plan Generation Success",description:"% of triggers converted into executable plans"},prioritize:{label:"Conflict Resolution Rate",description:"% of plan conflicts resolved automatically"},execute:{label:"Execution Success Rate",description:"% of plan steps completed without errors"},budget:{label:"Guardrail Integrity",description:"% of actions staying within cost/time/risk thresholds"},observe:{label:"Trace Completeness",description:"% of plans producing full observability traces"},learn:{label:"Learning Impact",description:"% of recurring plans that improved results"},lifecycle:{label:"Agent Health Coverage",description:"% of agents updated and resource-balanced"}})[p]||{label:"Unknown",description:"No description available"};return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 p-6 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-200",children:"AutonomOS Orchestration Details"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Real-time orchestration metrics and functions"})]}),f.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:f.jsx(zo,{className:"w-6 h-6 text-slate-400"})})]}),f.jsxs("div",{className:"flex gap-2 px-6 pt-4 border-b border-slate-800",children:[f.jsx("button",{onClick:()=>i("aoa"),className:`px-4 py-2 rounded-t-lg font-medium transition-colors ${r==="aoa"?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:"AOA Functions"}),f.jsx("button",{onClick:()=>i("xao"),className:`px-4 py-2 rounded-t-lg font-medium transition-colors ${r==="xao"?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:"xAO Functions"}),f.jsx("button",{onClick:()=>i("plans"),className:`px-4 py-2 rounded-t-lg font-medium transition-colors ${r==="plans"?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:"Live Plans"})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[r==="aoa"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:s.map(p=>{const{label:m,description:x}=d(p.id);return f.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors group",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:p.name}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${l(p.status)}`,children:p.status})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("div",{className:"flex items-center gap-1 mb-1 group relative",children:[f.jsx("span",{className:"text-xs font-medium text-cyan-400",children:m}),f.jsx(jp,{className:"w-3 h-3 text-slate-500 hover:text-cyan-400 cursor-help"}),f.jsx("div",{className:"absolute left-0 top-full mt-2 w-48 bg-slate-950 border border-slate-700 rounded-lg p-3 text-xs text-slate-300 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 shadow-xl",children:x})]}),f.jsxs("div",{className:"text-3xl font-bold text-cyan-400",children:[p.metric,f.jsx("span",{className:"text-lg text-slate-500",children:p.unit})]}),f.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Target: ",p.target,p.unit]})]}),f.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-500 ${p.status==="optimal"?"bg-green-500":p.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${p.metric}%`}})})]},p.id)})}),f.jsx("div",{className:"text-center py-4 px-6 bg-slate-800/30 rounded-lg border border-slate-700",children:f.jsx("p",{className:"text-sm text-slate-400",children:"Each % value represents real-time operational efficiency of that orchestration function vs its target SLO."})})]}),r==="xao"&&f.jsx("div",{className:"space-y-3",children:c.map(p=>f.jsx("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-base font-semibold text-slate-200",children:p.name}),h(p.trend)]}),f.jsx("p",{className:"text-sm text-slate-500 mb-2",children:p.description})]}),f.jsx("div",{className:"text-right",children:f.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:p.value})})]})},p.id))}),r==="plans"&&f.jsxs("div",{className:"bg-gradient-to-br from-slate-800/40 to-slate-900/40 rounded-xl border-2 border-dashed border-slate-700 p-12 text-center min-h-[400px] flex flex-col items-center justify-center",children:[f.jsx(C1,{className:"w-16 h-16 text-cyan-400 mb-4"}),f.jsx("h3",{className:"text-2xl font-bold text-slate-200 mb-3",children:"Live Plans Visualization"}),f.jsx("p",{className:"text-slate-400 max-w-2xl",children:"This area is reserved for your Sankey diagram or other visualization showing real-time orchestration plans, agent execution flows, and resource allocation decisions."}),f.jsx("div",{className:"mt-6 px-6 py-3 bg-slate-800 rounded-lg border border-slate-700",children:f.jsx("span",{className:"text-sm text-slate-500",children:"Integration point for existing visualization component"})})]})]})]})})}var kT={value:()=>{}};function M1(){for(var t=0,e=arguments.length,r={},i;t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Oc(r)}function Oc(t){this._=t}function CT(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Oc.prototype=M1.prototype={constructor:Oc,on:function(t,e){var r=this._,i=CT(t+"",r),s,o=-1,c=i.length;if(arguments.length<2){for(;++o<c;)if((s=(t=i[o]).type)&&(s=_T(r[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<c;)if(s=(t=i[o]).type)r[s]=Cx(r[s],t.name,e);else if(e==null)for(s in r)r[s]=Cx(r[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Oc(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function _T(t,e){for(var r=0,i=t.length,s;r<i;++r)if((s=t[r]).name===e)return s.value}function Cx(t,e,r){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=kT,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:e,value:r}),t}var Ef="http://www.w3.org/1999/xhtml";const _x={svg:"http://www.w3.org/2000/svg",xhtml:Ef,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Iu(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),_x.hasOwnProperty(e)?{space:_x[e],local:t}:t}function ST(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Ef&&e.documentElement.namespaceURI===Ef?e.createElement(t):e.createElementNS(r,t)}}function TT(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function j1(t){var e=Iu(t);return(e.local?TT:ST)(e)}function NT(){}function $p(t){return t==null?NT:function(){return this.querySelector(t)}}function AT(t){typeof t!="function"&&(t=$p(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,l=i[s]=new Array(c),h,d,p=0;p<c;++p)(h=o[p])&&(d=t.call(h,h.__data__,p,o))&&("__data__"in h&&(d.__data__=h.__data__),l[p]=d);return new Tr(i,this._parents)}function ET(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function LT(){return[]}function B1(t){return t==null?LT:function(){return this.querySelectorAll(t)}}function MT(t){return function(){return ET(t.apply(this,arguments))}}function jT(t){typeof t=="function"?t=MT(t):t=B1(t);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var c=e[o],l=c.length,h,d=0;d<l;++d)(h=c[d])&&(i.push(t.call(h,h.__data__,d,c)),s.push(h));return new Tr(i,s)}function D1(t){return function(){return this.matches(t)}}function $1(t){return function(e){return e.matches(t)}}var BT=Array.prototype.find;function DT(t){return function(){return BT.call(this.children,t)}}function $T(){return this.firstElementChild}function FT(t){return this.select(t==null?$T:DT(typeof t=="function"?t:$1(t)))}var PT=Array.prototype.filter;function RT(){return Array.from(this.children)}function OT(t){return function(){return PT.call(this.children,t)}}function IT(t){return this.selectAll(t==null?RT:OT(typeof t=="function"?t:$1(t)))}function zT(t){typeof t!="function"&&(t=D1(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,l=i[s]=[],h,d=0;d<c;++d)(h=o[d])&&t.call(h,h.__data__,d,o)&&l.push(h);return new Tr(i,this._parents)}function F1(t){return new Array(t.length)}function WT(){return new Tr(this._enter||this._groups.map(F1),this._parents)}function tu(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}tu.prototype={constructor:tu,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function HT(t){return function(){return t}}function qT(t,e,r,i,s,o){for(var c=0,l,h=e.length,d=o.length;c<d;++c)(l=e[c])?(l.__data__=o[c],i[c]=l):r[c]=new tu(t,o[c]);for(;c<h;++c)(l=e[c])&&(s[c]=l)}function UT(t,e,r,i,s,o,c){var l,h,d=new Map,p=e.length,m=o.length,x=new Array(p),v;for(l=0;l<p;++l)(h=e[l])&&(x[l]=v=c.call(h,h.__data__,l,e)+"",d.has(v)?s[l]=h:d.set(v,h));for(l=0;l<m;++l)v=c.call(t,o[l],l,o)+"",(h=d.get(v))?(i[l]=h,h.__data__=o[l],d.delete(v)):r[l]=new tu(t,o[l]);for(l=0;l<p;++l)(h=e[l])&&d.get(x[l])===h&&(s[l]=h)}function YT(t){return t.__data__}function VT(t,e){if(!arguments.length)return Array.from(this,YT);var r=e?UT:qT,i=this._parents,s=this._groups;typeof t!="function"&&(t=HT(t));for(var o=s.length,c=new Array(o),l=new Array(o),h=new Array(o),d=0;d<o;++d){var p=i[d],m=s[d],x=m.length,v=GT(t.call(p,p&&p.__data__,d,i)),b=v.length,C=l[d]=new Array(b),_=c[d]=new Array(b),S=h[d]=new Array(x);r(p,m,C,_,S,v,e);for(var N=0,M=0,P,D;N<b;++N)if(P=C[N]){for(N>=M&&(M=N+1);!(D=_[M])&&++M<b;);P._next=D||null}}return c=new Tr(c,i),c._enter=l,c._exit=h,c}function GT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XT(){return new Tr(this._exit||this._groups.map(F1),this._parents)}function QT(t,e,r){var i=this.enter(),s=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function KT(t){for(var e=t.selection?t.selection():t,r=this._groups,i=e._groups,s=r.length,o=i.length,c=Math.min(s,o),l=new Array(s),h=0;h<c;++h)for(var d=r[h],p=i[h],m=d.length,x=l[h]=new Array(m),v,b=0;b<m;++b)(v=d[b]||p[b])&&(x[b]=v);for(;h<s;++h)l[h]=r[h];return new Tr(l,this._parents)}function ZT(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var i=t[e],s=i.length-1,o=i[s],c;--s>=0;)(c=i[s])&&(o&&c.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(c,o),o=c);return this}function JT(t){t||(t=e5);function e(m,x){return m&&x?t(m.__data__,x.__data__):!m-!x}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var c=r[o],l=c.length,h=s[o]=new Array(l),d,p=0;p<l;++p)(d=c[p])&&(h[p]=d);h.sort(e)}return new Tr(s,this._parents).order()}function e5(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function t5(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function r5(){return Array.from(this)}function n5(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],s=0,o=i.length;s<o;++s){var c=i[s];if(c)return c}return null}function i5(){let t=0;for(const e of this)++t;return t}function s5(){return!this.node()}function a5(t){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,c=s.length,l;o<c;++o)(l=s[o])&&t.call(l,l.__data__,o,s);return this}function o5(t){return function(){this.removeAttribute(t)}}function l5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function c5(t,e){return function(){this.setAttribute(t,e)}}function u5(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function h5(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function d5(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function f5(t,e){var r=Iu(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?l5:o5:typeof e=="function"?r.local?d5:h5:r.local?u5:c5)(r,e))}function P1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function p5(t){return function(){this.style.removeProperty(t)}}function g5(t,e,r){return function(){this.style.setProperty(t,e,r)}}function m5(t,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function x5(t,e,r){return arguments.length>1?this.each((e==null?p5:typeof e=="function"?m5:g5)(t,e,r??"")):aa(this.node(),t)}function aa(t,e){return t.style.getPropertyValue(e)||P1(t).getComputedStyle(t,null).getPropertyValue(e)}function y5(t){return function(){delete this[t]}}function v5(t,e){return function(){this[t]=e}}function b5(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function w5(t,e){return arguments.length>1?this.each((e==null?y5:typeof e=="function"?b5:v5)(t,e)):this.node()[t]}function R1(t){return t.trim().split(/^|\s+/)}function Fp(t){return t.classList||new O1(t)}function O1(t){this._node=t,this._names=R1(t.getAttribute("class")||"")}O1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function I1(t,e){for(var r=Fp(t),i=-1,s=e.length;++i<s;)r.add(e[i])}function z1(t,e){for(var r=Fp(t),i=-1,s=e.length;++i<s;)r.remove(e[i])}function k5(t){return function(){I1(this,t)}}function C5(t){return function(){z1(this,t)}}function _5(t,e){return function(){(e.apply(this,arguments)?I1:z1)(this,t)}}function S5(t,e){var r=R1(t+"");if(arguments.length<2){for(var i=Fp(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?_5:e?k5:C5)(r,e))}function T5(){this.textContent=""}function N5(t){return function(){this.textContent=t}}function A5(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function E5(t){return arguments.length?this.each(t==null?T5:(typeof t=="function"?A5:N5)(t)):this.node().textContent}function L5(){this.innerHTML=""}function M5(t){return function(){this.innerHTML=t}}function j5(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function B5(t){return arguments.length?this.each(t==null?L5:(typeof t=="function"?j5:M5)(t)):this.node().innerHTML}function D5(){this.nextSibling&&this.parentNode.appendChild(this)}function $5(){return this.each(D5)}function F5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function P5(){return this.each(F5)}function R5(t){var e=typeof t=="function"?t:j1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function O5(){return null}function I5(t,e){var r=typeof t=="function"?t:j1(t),i=e==null?O5:typeof e=="function"?e:$p(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function z5(){var t=this.parentNode;t&&t.removeChild(this)}function W5(){return this.each(z5)}function H5(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q5(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function U5(t){return this.select(t?q5:H5)}function Y5(t){return arguments.length?this.property("__data__",t):this.node().__data__}function V5(t){return function(e){t.call(this,e,this.__data__)}}function G5(t){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function X5(t){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Q5(t,e,r){return function(){var i=this.__on,s,o=V5(e);if(i){for(var c=0,l=i.length;c<l;++c)if((s=i[c]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(t.type,o,r),s={type:t.type,name:t.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function K5(t,e,r){var i=G5(t+""),s,o=i.length,c;if(arguments.length<2){var l=this.node().__on;if(l){for(var h=0,d=l.length,p;h<d;++h)for(s=0,p=l[h];s<o;++s)if((c=i[s]).type===p.type&&c.name===p.name)return p.value}return}for(l=e?Q5:X5,s=0;s<o;++s)this.each(l(i[s],e,r));return this}function W1(t,e,r){var i=P1(t),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Z5(t,e){return function(){return W1(this,t,e)}}function J5(t,e){return function(){return W1(this,t,e.apply(this,arguments))}}function eN(t,e){return this.each((typeof e=="function"?J5:Z5)(t,e))}function*tN(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],s=0,o=i.length,c;s<o;++s)(c=i[s])&&(yield c)}var H1=[null];function Tr(t,e){this._groups=t,this._parents=e}function tl(){return new Tr([[document.documentElement]],H1)}function rN(){return this}Tr.prototype=tl.prototype={constructor:Tr,select:AT,selectAll:jT,selectChild:FT,selectChildren:IT,filter:zT,data:VT,enter:WT,exit:XT,join:QT,merge:KT,selection:rN,order:ZT,sort:JT,call:t5,nodes:r5,node:n5,size:i5,empty:s5,each:a5,attr:f5,style:x5,property:w5,classed:S5,text:E5,html:B5,raise:$5,lower:P5,append:R5,insert:I5,remove:W5,clone:U5,datum:Y5,on:K5,dispatch:eN,[Symbol.iterator]:tN};function $e(t){return typeof t=="string"?new Tr([[document.querySelector(t)]],[document.documentElement]):new Tr([[t]],H1)}function Pp(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function q1(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function rl(){}var Wo=.7,ru=1/Wo,Xs="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nN=/^#([0-9a-f]{3,8})$/,iN=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),sN=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),aN=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${Ho}\\)$`),oN=new RegExp(`^rgba\\(${wn},${wn},${wn},${Ho}\\)$`),lN=new RegExp(`^hsl\\(${Ho},${wn},${wn}\\)$`),cN=new RegExp(`^hsla\\(${Ho},${wn},${wn},${Ho}\\)$`),Sx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pp(rl,qo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tx,formatHex:Tx,formatHex8:uN,formatHsl:hN,formatRgb:Nx,toString:Nx});function Tx(){return this.rgb().formatHex()}function uN(){return this.rgb().formatHex8()}function hN(){return U1(this).formatHsl()}function Nx(){return this.rgb().formatRgb()}function qo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=nN.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ax(e):r===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iN.exec(t))?new vr(e[1],e[2],e[3],1):(e=sN.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aN.exec(t))?wc(e[1],e[2],e[3],e[4]):(e=oN.exec(t))?wc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lN.exec(t))?Mx(e[1],e[2]/100,e[3]/100,1):(e=cN.exec(t))?Mx(e[1],e[2]/100,e[3]/100,e[4]):Sx.hasOwnProperty(t)?Ax(Sx[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function Ax(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function wc(t,e,r,i){return i<=0&&(t=e=r=NaN),new vr(t,e,r,i)}function dN(t){return t instanceof rl||(t=qo(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function Lf(t,e,r,i){return arguments.length===1?dN(t):new vr(t,e,r,i??1)}function vr(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}Pp(vr,Lf,q1(rl,{brighter(t){return t=t==null?ru:Math.pow(ru,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wo:Math.pow(Wo,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(as(this.r),as(this.g),as(this.b),nu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ex,formatHex:Ex,formatHex8:fN,formatRgb:Lx,toString:Lx}));function Ex(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}`}function fN(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}${ts((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lx(){const t=nu(this.opacity);return`${t===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${t===1?")":`, ${t})`}`}function nu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function as(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ts(t){return t=as(t),(t<16?"0":"")+t.toString(16)}function Mx(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new rn(t,e,r,i)}function U1(t){if(t instanceof rn)return new rn(t.h,t.s,t.l,t.opacity);if(t instanceof rl||(t=qo(t)),!t)return new rn;if(t instanceof rn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),c=NaN,l=o-s,h=(o+s)/2;return l?(e===o?c=(r-i)/l+(r<i)*6:r===o?c=(i-e)/l+2:c=(e-r)/l+4,l/=h<.5?o+s:2-o-s,c*=60):l=h>0&&h<1?0:c,new rn(c,l,h,t.opacity)}function pN(t,e,r,i){return arguments.length===1?U1(t):new rn(t,e,r,i??1)}function rn(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}Pp(rn,pN,q1(rl,{brighter(t){return t=t==null?ru:Math.pow(ru,t),new rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wo:Math.pow(Wo,t),new rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new vr(tf(t>=240?t-240:t+120,s,i),tf(t,s,i),tf(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new rn(jx(this.h),kc(this.s),kc(this.l),nu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nu(this.opacity);return`${t===1?"hsl(":"hsla("}${jx(this.h)}, ${kc(this.s)*100}%, ${kc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jx(t){return t=(t||0)%360,t<0?t+360:t}function kc(t){return Math.max(0,Math.min(1,t||0))}function tf(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Rp=t=>()=>t;function Y1(t,e){return function(r){return t+r*e}}function gN(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function dR(t,e){var r=e-t;return r?Y1(t,r>180||r<-180?r-360*Math.round(r/360):r):Rp(isNaN(t)?e:t)}function mN(t){return(t=+t)==1?V1:function(e,r){return r-e?gN(e,r,t):Rp(isNaN(e)?r:e)}}function V1(t,e){var r=e-t;return r?Y1(t,r):Rp(isNaN(t)?e:t)}const Bx=(function t(e){var r=mN(e);function i(s,o){var c=r((s=Lf(s)).r,(o=Lf(o)).r),l=r(s.g,o.g),h=r(s.b,o.b),d=V1(s.opacity,o.opacity);return function(p){return s.r=c(p),s.g=l(p),s.b=h(p),s.opacity=d(p),s+""}}return i.gamma=t,i})(1);function bi(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Mf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rf=new RegExp(Mf.source,"g");function xN(t){return function(){return t}}function yN(t){return function(e){return t(e)+""}}function vN(t,e){var r=Mf.lastIndex=rf.lastIndex=0,i,s,o,c=-1,l=[],h=[];for(t=t+"",e=e+"";(i=Mf.exec(t))&&(s=rf.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[c]?l[c]+=o:l[++c]=o),(i=i[0])===(s=s[0])?l[c]?l[c]+=s:l[++c]=s:(l[++c]=null,h.push({i:c,x:bi(i,s)})),r=rf.lastIndex;return r<e.length&&(o=e.slice(r),l[c]?l[c]+=o:l[++c]=o),l.length<2?h[0]?yN(h[0].x):xN(e):(e=h.length,function(d){for(var p=0,m;p<e;++p)l[(m=h[p]).i]=m.x(d);return l.join("")})}var Dx=180/Math.PI,jf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function G1(t,e,r,i,s,o){var c,l,h;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(h=t*r+e*i)&&(r-=t*h,i-=e*h),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,h/=l),t*i<e*r&&(t=-t,e=-e,h=-h,c=-c),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*Dx,skewX:Math.atan(h)*Dx,scaleX:c,scaleY:l}}var Cc;function bN(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?jf:G1(e.a,e.b,e.c,e.d,e.e,e.f)}function wN(t){return t==null||(Cc||(Cc=document.createElementNS("http://www.w3.org/2000/svg","g")),Cc.setAttribute("transform",t),!(t=Cc.transform.baseVal.consolidate()))?jf:(t=t.matrix,G1(t.a,t.b,t.c,t.d,t.e,t.f))}function X1(t,e,r,i){function s(d){return d.length?d.pop()+" ":""}function o(d,p,m,x,v,b){if(d!==m||p!==x){var C=v.push("translate(",null,e,null,r);b.push({i:C-4,x:bi(d,m)},{i:C-2,x:bi(p,x)})}else(m||x)&&v.push("translate("+m+e+x+r)}function c(d,p,m,x){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),x.push({i:m.push(s(m)+"rotate(",null,i)-2,x:bi(d,p)})):p&&m.push(s(m)+"rotate("+p+i)}function l(d,p,m,x){d!==p?x.push({i:m.push(s(m)+"skewX(",null,i)-2,x:bi(d,p)}):p&&m.push(s(m)+"skewX("+p+i)}function h(d,p,m,x,v,b){if(d!==m||p!==x){var C=v.push(s(v)+"scale(",null,",",null,")");b.push({i:C-4,x:bi(d,m)},{i:C-2,x:bi(p,x)})}else(m!==1||x!==1)&&v.push(s(v)+"scale("+m+","+x+")")}return function(d,p){var m=[],x=[];return d=t(d),p=t(p),o(d.translateX,d.translateY,p.translateX,p.translateY,m,x),c(d.rotate,p.rotate,m,x),l(d.skewX,p.skewX,m,x),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,m,x),d=p=null,function(v){for(var b=-1,C=x.length,_;++b<C;)m[(_=x[b]).i]=_.x(v);return m.join("")}}}var kN=X1(bN,"px, ","px)","deg)"),CN=X1(wN,", ",")",")"),oa=0,Co=0,uo=0,Q1=1e3,iu,_o,su=0,ls=0,zu=0,Uo=typeof performance=="object"&&performance.now?performance:Date,K1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Op(){return ls||(K1(_N),ls=Uo.now()+zu)}function _N(){ls=0}function au(){this._call=this._time=this._next=null}au.prototype=Z1.prototype={constructor:au,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Op():+r)+(e==null?0:+e),!this._next&&_o!==this&&(_o?_o._next=this:iu=this,_o=this),this._call=t,this._time=r,Bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bf())}};function Z1(t,e,r){var i=new au;return i.restart(t,e,r),i}function SN(){Op(),++oa;for(var t=iu,e;t;)(e=ls-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oa}function $x(){ls=(su=Uo.now())+zu,oa=Co=0;try{SN()}finally{oa=0,NN(),ls=0}}function TN(){var t=Uo.now(),e=t-su;e>Q1&&(zu-=e,su=t)}function NN(){for(var t,e=iu,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:iu=r);_o=t,Bf(i)}function Bf(t){if(!oa){Co&&(Co=clearTimeout(Co));var e=t-ls;e>24?(t<1/0&&(Co=setTimeout($x,t-Uo.now()-zu)),uo&&(uo=clearInterval(uo))):(uo||(su=Uo.now(),uo=setInterval(TN,Q1)),oa=1,K1($x))}}function Fx(t,e,r){var i=new au;return e=e==null?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,r),i}var AN=M1("start","end","cancel","interrupt"),EN=[],J1=0,Px=1,Df=2,Ic=3,Rx=4,$f=5,zc=6;function Wu(t,e,r,i,s,o){var c=t.__transition;if(!c)t.__transition={};else if(r in c)return;LN(t,r,{name:e,index:i,group:s,on:AN,tween:EN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:J1})}function Ip(t,e){var r=on(t,e);if(r.state>J1)throw new Error("too late; already scheduled");return r}function _n(t,e){var r=on(t,e);if(r.state>Ic)throw new Error("too late; already running");return r}function on(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function LN(t,e,r){var i=t.__transition,s;i[e]=r,r.timer=Z1(o,0,r.time);function o(d){r.state=Px,r.timer.restart(c,r.delay,r.time),r.delay<=d&&c(d-r.delay)}function c(d){var p,m,x,v;if(r.state!==Px)return h();for(p in i)if(v=i[p],v.name===r.name){if(v.state===Ic)return Fx(c);v.state===Rx?(v.state=zc,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[p]):+p<e&&(v.state=zc,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[p])}if(Fx(function(){r.state===Ic&&(r.state=Rx,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=Df,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Df){for(r.state=Ic,s=new Array(x=r.tween.length),p=0,m=-1;p<x;++p)(v=r.tween[p].value.call(t,t.__data__,r.index,r.group))&&(s[++m]=v);s.length=m+1}}function l(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(h),r.state=$f,1),m=-1,x=s.length;++m<x;)s[m].call(t,p);r.state===$f&&(r.on.call("end",t,t.__data__,r.index,r.group),h())}function h(){r.state=zc,r.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function MN(t,e){var r=t.__transition,i,s,o=!0,c;if(r){e=e==null?null:e+"";for(c in r){if((i=r[c]).name!==e){o=!1;continue}s=i.state>Df&&i.state<$f,i.state=zc,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[c]}o&&delete t.__transition}}function jN(t){return this.each(function(){MN(this,t)})}function BN(t,e){var r,i;return function(){var s=_n(this,t),o=s.tween;if(o!==r){i=r=o;for(var c=0,l=i.length;c<l;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}s.tween=i}}function DN(t,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=_n(this,t),c=o.tween;if(c!==i){s=(i=c).slice();for(var l={name:e,value:r},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=l;break}h===d&&s.push(l)}o.tween=s}}function $N(t,e){var r=this._id;if(t+="",arguments.length<2){for(var i=on(this.node(),r).tween,s=0,o=i.length,c;s<o;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((e==null?BN:DN)(r,t,e))}function zp(t,e,r){var i=t._id;return t.each(function(){var s=_n(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return on(s,i).value[e]}}function ev(t,e){var r;return(typeof e=="number"?bi:e instanceof qo?Bx:(r=qo(e))?(e=r,Bx):vN)(t,e)}function FN(t){return function(){this.removeAttribute(t)}}function PN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function RN(t,e,r){var i,s=r+"",o;return function(){var c=this.getAttribute(t);return c===s?null:c===i?o:o=e(i=c,r)}}function ON(t,e,r){var i,s=r+"",o;return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?o:o=e(i=c,r)}}function IN(t,e,r){var i,s,o;return function(){var c,l=r(this),h;return l==null?void this.removeAttribute(t):(c=this.getAttribute(t),h=l+"",c===h?null:c===i&&h===s?o:(s=h,o=e(i=c,l)))}}function zN(t,e,r){var i,s,o;return function(){var c,l=r(this),h;return l==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),h=l+"",c===h?null:c===i&&h===s?o:(s=h,o=e(i=c,l)))}}function WN(t,e){var r=Iu(t),i=r==="transform"?CN:ev;return this.attrTween(t,typeof e=="function"?(r.local?zN:IN)(r,i,zp(this,"attr."+t,e)):e==null?(r.local?PN:FN)(r):(r.local?ON:RN)(r,i,e))}function HN(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function qN(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function UN(t,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&qN(t,o)),r}return s._value=e,s}function YN(t,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&HN(t,o)),r}return s._value=e,s}function VN(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=Iu(t);return this.tween(r,(i.local?UN:YN)(i,e))}function GN(t,e){return function(){Ip(this,t).delay=+e.apply(this,arguments)}}function XN(t,e){return e=+e,function(){Ip(this,t).delay=e}}function QN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?GN:XN)(e,t)):on(this.node(),e).delay}function KN(t,e){return function(){_n(this,t).duration=+e.apply(this,arguments)}}function ZN(t,e){return e=+e,function(){_n(this,t).duration=e}}function JN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KN:ZN)(e,t)):on(this.node(),e).duration}function e3(t,e){if(typeof e!="function")throw new Error;return function(){_n(this,t).ease=e}}function t3(t){var e=this._id;return arguments.length?this.each(e3(e,t)):on(this.node(),e).ease}function r3(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;_n(this,t).ease=r}}function n3(t){if(typeof t!="function")throw new Error;return this.each(r3(this._id,t))}function i3(t){typeof t!="function"&&(t=D1(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,l=i[s]=[],h,d=0;d<c;++d)(h=o[d])&&t.call(h,h.__data__,d,o)&&l.push(h);return new Un(i,this._parents,this._name,this._id)}function s3(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,i=e.length,s=r.length,o=Math.min(i,s),c=new Array(i),l=0;l<o;++l)for(var h=e[l],d=r[l],p=h.length,m=c[l]=new Array(p),x,v=0;v<p;++v)(x=h[v]||d[v])&&(m[v]=x);for(;l<i;++l)c[l]=e[l];return new Un(c,this._parents,this._name,this._id)}function a3(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function o3(t,e,r){var i,s,o=a3(e)?Ip:_n;return function(){var c=o(this,t),l=c.on;l!==i&&(s=(i=l).copy()).on(e,r),c.on=s}}function l3(t,e){var r=this._id;return arguments.length<2?on(this.node(),r).on.on(t):this.each(o3(r,t,e))}function c3(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function u3(){return this.on("end.remove",c3(this._id))}function h3(t){var e=this._name,r=this._id;typeof t!="function"&&(t=$p(t));for(var i=this._groups,s=i.length,o=new Array(s),c=0;c<s;++c)for(var l=i[c],h=l.length,d=o[c]=new Array(h),p,m,x=0;x<h;++x)(p=l[x])&&(m=t.call(p,p.__data__,x,l))&&("__data__"in p&&(m.__data__=p.__data__),d[x]=m,Wu(d[x],e,r,x,d,on(p,r)));return new Un(o,this._parents,e,r)}function d3(t){var e=this._name,r=this._id;typeof t!="function"&&(t=B1(t));for(var i=this._groups,s=i.length,o=[],c=[],l=0;l<s;++l)for(var h=i[l],d=h.length,p,m=0;m<d;++m)if(p=h[m]){for(var x=t.call(p,p.__data__,m,h),v,b=on(p,r),C=0,_=x.length;C<_;++C)(v=x[C])&&Wu(v,e,r,C,x,b);o.push(x),c.push(p)}return new Un(o,c,e,r)}var f3=tl.prototype.constructor;function p3(){return new f3(this._groups,this._parents)}function g3(t,e){var r,i,s;return function(){var o=aa(this,t),c=(this.style.removeProperty(t),aa(this,t));return o===c?null:o===r&&c===i?s:s=e(r=o,i=c)}}function tv(t){return function(){this.style.removeProperty(t)}}function m3(t,e,r){var i,s=r+"",o;return function(){var c=aa(this,t);return c===s?null:c===i?o:o=e(i=c,r)}}function x3(t,e,r){var i,s,o;return function(){var c=aa(this,t),l=r(this),h=l+"";return l==null&&(h=l=(this.style.removeProperty(t),aa(this,t))),c===h?null:c===i&&h===s?o:(s=h,o=e(i=c,l))}}function y3(t,e){var r,i,s,o="style."+e,c="end."+o,l;return function(){var h=_n(this,t),d=h.on,p=h.value[o]==null?l||(l=tv(e)):void 0;(d!==r||s!==p)&&(i=(r=d).copy()).on(c,s=p),h.on=i}}function v3(t,e,r){var i=(t+="")=="transform"?kN:ev;return e==null?this.styleTween(t,g3(t,i)).on("end.style."+t,tv(t)):typeof e=="function"?this.styleTween(t,x3(t,i,zp(this,"style."+t,e))).each(y3(this._id,t)):this.styleTween(t,m3(t,i,e),r).on("end.style."+t,null)}function b3(t,e,r){return function(i){this.style.setProperty(t,e.call(this,i),r)}}function w3(t,e,r){var i,s;function o(){var c=e.apply(this,arguments);return c!==s&&(i=(s=c)&&b3(t,c,r)),i}return o._value=e,o}function k3(t,e,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,w3(t,e,r??""))}function C3(t){return function(){this.textContent=t}}function _3(t){return function(){var e=t(this);this.textContent=e??""}}function S3(t){return this.tween("text",typeof t=="function"?_3(zp(this,"text",t)):C3(t==null?"":t+""))}function T3(t){return function(e){this.textContent=t.call(this,e)}}function N3(t){var e,r;function i(){var s=t.apply(this,arguments);return s!==r&&(e=(r=s)&&T3(s)),e}return i._value=t,i}function A3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,N3(t))}function E3(){for(var t=this._name,e=this._id,r=rv(),i=this._groups,s=i.length,o=0;o<s;++o)for(var c=i[o],l=c.length,h,d=0;d<l;++d)if(h=c[d]){var p=on(h,e);Wu(h,t,r,d,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Un(i,this._parents,t,r)}function L3(){var t,e,r=this,i=r._id,s=r.size();return new Promise(function(o,c){var l={value:c},h={value:function(){--s===0&&o()}};r.each(function(){var d=_n(this,i),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),d.on=e}),s===0&&o()})}var M3=0;function Un(t,e,r,i){this._groups=t,this._parents=e,this._name=r,this._id=i}function rv(){return++M3}var Pn=tl.prototype;Un.prototype={constructor:Un,select:h3,selectAll:d3,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:i3,merge:s3,selection:p3,transition:E3,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:l3,attr:WN,attrTween:VN,style:v3,styleTween:k3,text:S3,textTween:A3,remove:u3,tween:$N,delay:QN,duration:JN,ease:t3,easeVarying:n3,end:L3,[Symbol.iterator]:Pn[Symbol.iterator]};function j3(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var B3={time:null,delay:0,duration:250,ease:j3};function D3(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function $3(t){var e,r;t instanceof Un?(e=t._id,t=t._name):(e=rv(),(r=B3).time=Op(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var c=i[o],l=c.length,h,d=0;d<l;++d)(h=c[d])&&Wu(h,t,e,d,c,r||D3(h,e));return new Un(i,this._parents,t,e)}tl.prototype.interrupt=jN;tl.prototype.transition=$3;const Ff=Math.PI,Pf=2*Ff,Ki=1e-6,F3=Pf-Ki;function nv(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function P3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nv;const r=10**e;return function(i){this._+=i[0];for(let s=1,o=i.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+i[s]}}let R3=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nv:P3(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,s){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,r,i,s,o,c){this._append`C${+e},${+r},${+i},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(e,r,i,s,o){if(e=+e,r=+r,i=+i,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,l=this._y1,h=i-e,d=s-r,p=c-e,m=l-r,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>Ki)if(!(Math.abs(m*h-d*p)>Ki)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=i-c,b=s-l,C=h*h+d*d,_=v*v+b*b,S=Math.sqrt(C),N=Math.sqrt(x),M=o*Math.tan((Ff-Math.acos((C+x-_)/(2*S*N)))/2),P=M/N,D=M/S;Math.abs(P-1)>Ki&&this._append`L${e+P*p},${r+P*m}`,this._append`A${o},${o},0,0,${+(m*v>p*b)},${this._x1=e+D*h},${this._y1=r+D*d}`}}arc(e,r,i,s,o,c){if(e=+e,r=+r,i=+i,c=!!c,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),h=i*Math.sin(s),d=e+l,p=r+h,m=1^c,x=c?s-o:o-s;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Ki||Math.abs(this._y1-p)>Ki)&&this._append`L${d},${p}`,i&&(x<0&&(x=x%Pf+Pf),x>F3?this._append`A${i},${i},0,1,${m},${e-l},${r-h}A${i},${i},0,1,${m},${this._x1=d},${this._y1=p}`:x>Ki&&this._append`A${i},${i},0,${+(x>=Ff)},${m},${this._x1=e+i*Math.cos(o)},${this._y1=r+i*Math.sin(o)}`)}rect(e,r,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}};function qs(t){return function(){return t}}const pR=Math.abs,gR=Math.atan2,mR=Math.cos,xR=Math.max,yR=Math.min,vR=Math.sin,bR=Math.sqrt,Ox=1e-12,Wp=Math.PI,Ix=Wp/2,wR=2*Wp;function kR(t){return t>1?0:t<-1?Wp:Math.acos(t)}function CR(t){return t>=1?Ix:t<=-1?-Ix:Math.asin(t)}function O3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new R3(e)}function I3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iv(t){this._context=t}iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ou(t){return new iv(t)}function z3(t){return t[0]}function W3(t){return t[1]}function H3(t,e){var r=qs(!0),i=null,s=ou,o=null,c=O3(l);t=typeof t=="function"?t:t===void 0?z3:qs(t),e=typeof e=="function"?e:e===void 0?W3:qs(e);function l(h){var d,p=(h=I3(h)).length,m,x=!1,v;for(i==null&&(o=s(v=c())),d=0;d<=p;++d)!(d<p&&r(m=h[d],d,h))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+t(m,d,h),+e(m,d,h));if(v)return o=null,v+""||null}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:qs(+h),l):t},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:qs(+h),l):e},l.defined=function(h){return arguments.length?(r=typeof h=="function"?h:qs(!!h),l):r},l.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),l):s},l.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),l):i},l}class sv{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function av(t){return new sv(t,!0)}function ov(t){return new sv(t,!1)}function Ci(){}function lu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Hu(t){this._context=t}Hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wc(t){return new Hu(t)}function lv(t){this._context=t}lv.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q3(t){return new lv(t)}function cv(t){this._context=t}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:lu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U3(t){return new cv(t)}function uv(t,e){this._basis=new Hu(t),this._beta=e}uv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var i=t[0],s=e[0],o=t[r]-i,c=e[r]-s,l=-1,h;++l<=r;)h=l/r,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+h*o),this._beta*e[l]+(1-this._beta)*(s+h*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Y3=(function t(e){function r(i){return e===1?new Hu(i):new uv(i,e)}return r.beta=function(i){return t(+i)},r})(.85);function cu(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function Hp(t,e){this._context=t,this._k=(1-e)/6}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cu(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hv=(function t(e){function r(i){return new Hp(i,e)}return r.tension=function(i){return t(+i)},r})(0);function qp(t,e){this._context=t,this._k=(1-e)/6}qp.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cu(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const V3=(function t(e){function r(i){return new qp(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Up(t,e){this._context=t,this._k=(1-e)/6}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cu(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G3=(function t(e){function r(i){return new Up(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Yp(t,e,r){var i=t._x1,s=t._y1,o=t._x2,c=t._y2;if(t._l01_a>Ox){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,s=(s*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Ox){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*d+t._x1*t._l23_2a-e*t._l12_2a)/p,c=(c*d+t._y1*t._l23_2a-r*t._l12_2a)/p}t._context.bezierCurveTo(i,s,o,c,t._x2,t._y2)}function dv(t,e){this._context=t,this._alpha=e}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const fv=(function t(e){function r(i){return e?new dv(i,e):new Hp(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function pv(t,e){this._context=t,this._alpha=e}pv.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const X3=(function t(e){function r(i){return e?new pv(i,e):new qp(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function gv(t,e){this._context=t,this._alpha=e}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Q3=(function t(e){function r(i){return e?new gv(i,e):new Up(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function mv(t){this._context=t}mv.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function K3(t){return new mv(t)}function zx(t){return t<0?-1:1}function Wx(t,e,r){var i=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(i||s<0&&-0),c=(r-t._y1)/(s||i<0&&-0),l=(o*s+c*i)/(i+s);return(zx(o)+zx(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(l))||0}function Hx(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function nf(t,e,r){var i=t._x0,s=t._y0,o=t._x1,c=t._y1,l=(o-i)/3;t._context.bezierCurveTo(i+l,s+l*e,o-l,c-l*r,o,c)}function uu(t){this._context=t}uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nf(this,this._t0,Hx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,nf(this,Hx(this,r=Wx(this,t,e)),r);break;default:nf(this,this._t0,r=Wx(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function xv(t){this._context=new yv(t)}(xv.prototype=Object.create(uu.prototype)).point=function(t,e){uu.prototype.point.call(this,e,t)};function yv(t){this._context=t}yv.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,i,s,o){this._context.bezierCurveTo(e,t,i,r,o,s)}};function vv(t){return new uu(t)}function bv(t){return new xv(t)}function wv(t){this._context=t}wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var i=qx(t),s=qx(e),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qx(t){var e,r=t.length-1,i,s=new Array(r),o=new Array(r),c=new Array(r);for(s[0]=0,o[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,o[e]=4,c[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,o[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)i=s[e]/o[e-1],o[e]-=i,c[e]-=i*c[e-1];for(s[r-1]=c[r-1]/o[r-1],e=r-2;e>=0;--e)s[e]=(c[e]-s[e+1])/o[e];for(o[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function kv(t){return new wv(t)}function qu(t,e){this._context=t,this._t=e}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Cv(t){return new qu(t,.5)}function _v(t){return new qu(t,0)}function Sv(t){return new qu(t,1)}function So(t,e,r){this.k=t,this.x=e,this.y=r}So.prototype={constructor:So,scale:function(t){return t===1?this:new So(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new So(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};So.prototype;function Ux(t,e){let r;if(e===void 0)for(const i of t)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Tv(t,e){let r;if(e===void 0)for(const i of t)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function sf(t,e){let r=0;if(e===void 0)for(let i of t)(i=+i)&&(r+=i);else{let i=-1;for(let s of t)(s=+e(s,++i,t))&&(r+=s)}return r}function Z3(t){return t.target.depth}function _R(t){return t.depth}function SR(t,e){return e-1-t.height}function J3(t,e){return t.sourceLinks.length?t.depth:e-1}function TR(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Tv(t.sourceLinks,Z3)-1:0}function _c(t){return function(){return t}}function Yx(t,e){return hu(t.source,e.source)||t.index-e.index}function Vx(t,e){return hu(t.target,e.target)||t.index-e.index}function hu(t,e){return t.y0-e.y0}function af(t){return t.value}function e4(t){return t.index}function t4(t){return t.nodes}function r4(t){return t.links}function Gx(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function Xx({nodes:t}){for(const e of t){let r=e.y0,i=r;for(const s of e.sourceLinks)s.y0=r+s.width/2,r+=s.width;for(const s of e.targetLinks)s.y1=i+s.width/2,i+=s.width}}function n4(){let t=0,e=0,r=1,i=1,s=24,o=8,c,l=e4,h=J3,d,p,m=t4,x=r4,v=6;function b(){const j={nodes:m.apply(null,arguments),links:x.apply(null,arguments)};return C(j),_(j),S(j),N(j),D(j),Xx(j),j}b.update=function(j){return Xx(j),j},b.nodeId=function(j){return arguments.length?(l=typeof j=="function"?j:_c(j),b):l},b.nodeAlign=function(j){return arguments.length?(h=typeof j=="function"?j:_c(j),b):h},b.nodeSort=function(j){return arguments.length?(d=j,b):d},b.nodeWidth=function(j){return arguments.length?(s=+j,b):s},b.nodePadding=function(j){return arguments.length?(o=c=+j,b):o},b.nodes=function(j){return arguments.length?(m=typeof j=="function"?j:_c(j),b):m},b.links=function(j){return arguments.length?(x=typeof j=="function"?j:_c(j),b):x},b.linkSort=function(j){return arguments.length?(p=j,b):p},b.size=function(j){return arguments.length?(t=e=0,r=+j[0],i=+j[1],b):[r-t,i-e]},b.extent=function(j){return arguments.length?(t=+j[0][0],r=+j[1][0],e=+j[0][1],i=+j[1][1],b):[[t,e],[r,i]]},b.iterations=function(j){return arguments.length?(v=+j,b):v};function C({nodes:j,links:$}){for(const[E,L]of j.entries())L.index=E,L.sourceLinks=[],L.targetLinks=[];const O=new Map(j.map((E,L)=>[l(E,L,j),E]));for(const[E,L]of $.entries()){L.index=E;let{source:H,target:A}=L;typeof H!="object"&&(H=L.source=Gx(O,H)),typeof A!="object"&&(A=L.target=Gx(O,A)),H.sourceLinks.push(L),A.targetLinks.push(L)}if(p!=null)for(const{sourceLinks:E,targetLinks:L}of j)E.sort(p),L.sort(p)}function _({nodes:j}){for(const $ of j)$.value=$.fixedValue===void 0?Math.max(sf($.sourceLinks,af),sf($.targetLinks,af)):$.fixedValue}function S({nodes:j}){const $=j.length;let O=new Set(j),E=new Set,L=0;for(;O.size;){for(const H of O){H.depth=L;for(const{target:A}of H.sourceLinks)E.add(A)}if(++L>$)throw new Error("circular link");O=E,E=new Set}}function N({nodes:j}){const $=j.length;let O=new Set(j),E=new Set,L=0;for(;O.size;){for(const H of O){H.height=L;for(const{source:A}of H.targetLinks)E.add(A)}if(++L>$)throw new Error("circular link");O=E,E=new Set}}function M({nodes:j}){const $=Ux(j,L=>L.depth)+1,O=(r-t-s)/($-1),E=new Array($);for(const L of j){const H=Math.max(0,Math.min($-1,Math.floor(h.call(null,L,$))));L.layer=H,L.x0=t+H*O,L.x1=L.x0+s,E[H]?E[H].push(L):E[H]=[L]}if(d)for(const L of E)L.sort(d);return E}function P(j){const $=Tv(j,O=>(i-e-(O.length-1)*c)/sf(O,af));for(const O of j){let E=e;for(const L of O){L.y0=E,L.y1=E+L.value*$,E=L.y1+c;for(const H of L.sourceLinks)H.width=H.value*$}E=(i-E+c)/(O.length+1);for(let L=0;L<O.length;++L){const H=O[L];H.y0+=E*(L+1),H.y1+=E*(L+1)}ee(O)}}function D(j){const $=M(j);c=Math.min(o,(i-e)/(Ux($,O=>O.length)-1)),P($);for(let O=0;O<v;++O){const E=Math.pow(.99,O),L=Math.max(1-E,(O+1)/v);z($,E,L),V($,E,L)}}function V(j,$,O){for(let E=1,L=j.length;E<L;++E){const H=j[E];for(const A of H){let G=0,ie=0;for(const{source:de,value:Ae}of A.targetLinks){let Be=Ae*(A.layer-de.layer);G+=Z(de,A)*Be,ie+=Be}if(!(ie>0))continue;let pe=(G/ie-A.y0)*$;A.y0+=pe,A.y1+=pe,F(A)}d===void 0&&H.sort(hu),q(H,O)}}function z(j,$,O){for(let E=j.length,L=E-2;L>=0;--L){const H=j[L];for(const A of H){let G=0,ie=0;for(const{target:de,value:Ae}of A.sourceLinks){let Be=Ae*(de.layer-A.layer);G+=U(A,de)*Be,ie+=Be}if(!(ie>0))continue;let pe=(G/ie-A.y0)*$;A.y0+=pe,A.y1+=pe,F(A)}d===void 0&&H.sort(hu),q(H,O)}}function q(j,$){const O=j.length>>1,E=j[O];Q(j,E.y0-c,O-1,$),te(j,E.y1+c,O+1,$),Q(j,i,j.length-1,$),te(j,e,0,$)}function te(j,$,O,E){for(;O<j.length;++O){const L=j[O],H=($-L.y0)*E;H>1e-6&&(L.y0+=H,L.y1+=H),$=L.y1+c}}function Q(j,$,O,E){for(;O>=0;--O){const L=j[O],H=(L.y1-$)*E;H>1e-6&&(L.y0-=H,L.y1-=H),$=L.y0-c}}function F({sourceLinks:j,targetLinks:$}){if(p===void 0){for(const{source:{sourceLinks:O}}of $)O.sort(Vx);for(const{target:{targetLinks:O}}of j)O.sort(Yx)}}function ee(j){if(p===void 0)for(const{sourceLinks:$,targetLinks:O}of j)$.sort(Vx),O.sort(Yx)}function Z(j,$){let O=j.y0-(j.sourceLinks.length-1)*c/2;for(const{target:E,width:L}of j.sourceLinks){if(E===$)break;O+=L+c}for(const{source:E,width:L}of $.targetLinks){if(E===j)break;O-=L}return O}function U(j,$){let O=$.y0-($.targetLinks.length-1)*c/2;for(const{source:E,width:L}of $.targetLinks){if(E===j)break;O+=L+c}for(const{target:E,width:L}of j.sourceLinks){if(E===$)break;O-=L}return O}return b}var Rf=Math.PI,Of=2*Rf,Zi=1e-6,i4=Of-Zi;function If(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nv(){return new If}If.prototype=Nv.prototype={constructor:If,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(t,e,r,i,s,o){this._+="C"+ +t+","+ +e+","+ +r+","+ +i+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(t,e,r,i,s){t=+t,e=+e,r=+r,i=+i,s=+s;var o=this._x1,c=this._y1,l=r-t,h=i-e,d=o-t,p=c-e,m=d*d+p*p;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>Zi)if(!(Math.abs(p*l-h*d)>Zi)||!s)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var x=r-o,v=i-c,b=l*l+h*h,C=x*x+v*v,_=Math.sqrt(b),S=Math.sqrt(m),N=s*Math.tan((Rf-Math.acos((b+m-C)/(2*_*S)))/2),M=N/S,P=N/_;Math.abs(M-1)>Zi&&(this._+="L"+(t+M*d)+","+(e+M*p)),this._+="A"+s+","+s+",0,0,"+ +(p*x>d*v)+","+(this._x1=t+P*l)+","+(this._y1=e+P*h)}},arc:function(t,e,r,i,s,o){t=+t,e=+e,r=+r,o=!!o;var c=r*Math.cos(i),l=r*Math.sin(i),h=t+c,d=e+l,p=1^o,m=o?i-s:s-i;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>Zi||Math.abs(this._y1-d)>Zi)&&(this._+="L"+h+","+d),r&&(m<0&&(m=m%Of+Of),m>i4?this._+="A"+r+","+r+",0,1,"+p+","+(t-c)+","+(e-l)+"A"+r+","+r+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):m>Zi&&(this._+="A"+r+","+r+",0,"+ +(m>=Rf)+","+p+","+(this._x1=t+r*Math.cos(s))+","+(this._y1=e+r*Math.sin(s))))},rect:function(t,e,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};function Qx(t){return function(){return t}}function s4(t){return t[0]}function a4(t){return t[1]}var o4=Array.prototype.slice;function l4(t){return t.source}function c4(t){return t.target}function u4(t){var e=l4,r=c4,i=s4,s=a4,o=null;function c(){var l,h=o4.call(arguments),d=e.apply(this,h),p=r.apply(this,h);if(o||(o=l=Nv()),t(o,+i.apply(this,(h[0]=d,h)),+s.apply(this,h),+i.apply(this,(h[0]=p,h)),+s.apply(this,h)),l)return o=null,l+""||null}return c.source=function(l){return arguments.length?(e=l,c):e},c.target=function(l){return arguments.length?(r=l,c):r},c.x=function(l){return arguments.length?(i=typeof l=="function"?l:Qx(+l),c):i},c.y=function(l){return arguments.length?(s=typeof l=="function"?l:Qx(+l),c):s},c.context=function(l){return arguments.length?(o=l??null,c):o},c}function h4(t,e,r,i,s){t.moveTo(e,r),t.bezierCurveTo(e=(e+i)/2,r,e,s,i,s)}function d4(){return u4(h4)}function f4(t){return[t.source.x1,t.y0]}function p4(t){return[t.target.x0,t.y1]}function g4(){return d4().source(f4).target(p4)}function m4(){const t=ne.useRef(null),e=ne.useRef(null),[r,i]=ne.useState(null),[s,o]=ne.useState(new Set),[c,l]=ne.useState({width:0,height:0}),[h,d]=ne.useState(!1),p=ne.useRef(null);ne.useEffect(()=>{const x=async()=>{try{const C=await(await fetch(yt.buildDclUrl("/state"))).json();i(C)}catch(b){console.error("Error fetching state:",b)}};x();const v=()=>x();return window.addEventListener("dcl-state-changed",v),()=>window.removeEventListener("dcl-state-changed",v)},[]),ne.useLayoutEffect(()=>{if(!(!r||!t.current||!e.current)&&!(!r.graph||!r.graph.nodes||r.graph.nodes.length===0)&&!(c.width===0||c.height===0))return d(!0),p.current&&cancelAnimationFrame(p.current),p.current=requestAnimationFrame(()=>{x4(r,t.current,e.current,s),d(!1)}),()=>{p.current&&cancelAnimationFrame(p.current)}},[r,s,c]);const m=x=>{o(v=>new Set(v).add(x)),setTimeout(()=>{o(v=>{const b=new Set(v);return b.delete(x),b})},2e3)};return ne.useEffect(()=>{const x=v=>{const{type:b,sourceId:C,targetId:_}=v.detail;(b==="new_source"||b==="source_removed"||b==="fault"||b==="schema_drift")&&m(`${C}-${_}`)};return window.addEventListener("dcl-graph-event",x),()=>window.removeEventListener("dcl-graph-event",x)},[]),ne.useEffect(()=>{if(!e.current)return;let x=null;const v=new ResizeObserver(b=>{x&&cancelAnimationFrame(x),x=requestAnimationFrame(()=>{for(const C of b){const{width:_,height:S}=C.contentRect;_>0&&S>0&&l({width:_,height:S})}})});return v.observe(e.current),()=>{x&&cancelAnimationFrame(x),v.disconnect()}},[]),f.jsxs("div",{ref:e,className:"rounded-xl bg-gray-800/40 border border-gray-700 shadow-sm ring-1 ring-cyan-500/10 p-1 w-full md:min-h-[400px] flex items-center justify-center",children:[h&&c.width===0&&f.jsx("div",{className:"flex items-center justify-center md:min-h-[400px]",children:f.jsx("div",{className:"text-sm text-gray-400 animate-pulse",children:"Loading graph..."})}),f.jsx("svg",{ref:t,className:"w-full h-auto",style:{display:"block"}})]})}function Sc(t,e){return{fill:"#1e293b",stroke:"#475569",strokeWidth:1,fillOpacity:1}}function x4(t,e,r,i){const s=$e(e);if(s.selectAll("*").remove(),!t.graph||!t.graph.nodes||t.graph.nodes.length===0){s.append("text").attr("x","50%").attr("y","50%").attr("text-anchor","middle").attr("fill","#94a3b8").attr("font-size","14px").text('No data available. Click "Connect & Map" to start.');return}const o=[],c=[],l={};let h=0;t.graph.nodes.forEach(re=>{l[re.id]=h,o.push({name:re.label,type:re.type,id:re.id,sourceSystem:re.sourceSystem,parentId:re.parentId}),h++}),t.graph.edges.forEach(re=>{if(l[re.source]!==void 0&&l[re.target]!==void 0){const he=t.graph.nodes.find(Le=>Le.id===re.source),oe=t.graph.nodes.find(Le=>Le.id===re.target),ke=re.edgeType??re.edge_type??"dataflow";c.push({source:l[re.source],target:l[re.target],value:1,edgeType:ke,sourceSystem:he?.sourceSystem,targetType:oe?.type,fieldMappings:re.field_mappings||[],edgeLabel:re.label||"",entityFields:re.entity_fields||[],entityName:re.entity_name||""})}});const d=r.getBoundingClientRect(),p=Math.max(d.width,320),m=window.innerWidth<768,x=Math.max(d.height,m?200:400),v={source_parent:0,source:1,ontology:2,agent:3},b=o.length,C=Math.min(x,100+b*40),S=n4().nodeWidth(8).nodePadding(18).extent([[1,20],[p-1,C-20]])({nodes:o.map(re=>Object.assign({},re)),links:c.map(re=>Object.assign({},re))}),{nodes:N,links:M}=S,P=20,D=20,V=(p-P-D)/3,z=[P,P+V,P+V*2,p-D-8];N.forEach(re=>{const he=o.find(oe=>oe.name===re.name);if(he&&he.type&&v[he.type]!==void 0){const oe=v[he.type];re.depth=oe,re.x0=z[oe],re.x1=z[oe]+8}else re.depth=1,re.x0=z[1],re.x1=z[1]+8});const q=()=>{M.forEach(re=>{const he=re.source,oe=re.target;re.y0=he.y0+(he.y1-he.y0)/2,re.y1=oe.y0+(oe.y1-oe.y0)/2})};q();const te=N.filter(re=>{const he=o.find(oe=>oe.name===re.name);return he&&he.type==="ontology"});if(te.length>1){const re=te.reduce((Le,He)=>Le+(He.y1-He.y0),0),oe=(C-re-80)/(te.length-1);let ke=40;te.forEach(Le=>{const He=Le.y1-Le.y0;Le.y0=ke,Le.y1=ke+He,ke+=He+oe}),q()}const Q=N.filter(re=>{const he=o.find(oe=>oe.name===re.name);return he&&he.type==="agent"});if(Q.length>0){const re=Q.reduce((He,Ye)=>He+(Ye.y1-Ye.y0),0),he=40,oe=(Q.length-1)*he;let Le=(C-re-oe)/2;Q.forEach(He=>{const Ye=He.y1-He.y0;He.y0=Le,He.y1=Le+Ye,Le+=Ye+he}),q()}const F={dynamics:{parent:"#3b82f6",child:"#60a5fa"},salesforce:{parent:"#8b5cf6",child:"#a78bfa"},sap:{parent:"#10b981",child:"#34d399"},netsuite:{parent:"#f59e0b",child:"#fbbf24"},legacy_sql:{parent:"#ef4444",child:"#f87171"},snowflake:{parent:"#06b6d4",child:"#22d3ee"},supabase:{parent:"#14b8a6",child:"#2dd4bf"},mongodb:{parent:"#10b981",child:"#34d399"}},ee=Math.min(...N.map(re=>re.x0)),Z=Math.max(...N.map(re=>re.x1)),U=Math.min(...N.map(re=>re.y0)),j=Math.max(...N.map(re=>re.y1)),$=Z-ee,O=j-U;let E=0;const L=s.append("g");N.forEach(re=>{const he=o.find(oe=>oe.name===re.name);if(he&&(he.type==="source_parent"||he.type==="ontology"||he.type==="agent")){let oe=re.name||"Unknown";he.type==="ontology"&&(oe=oe.replace(/\s*\(unified\)\s*/i,"").trim()),he.type;const gt=(L.append("text").attr("font-size",10).attr("font-family","system-ui, -apple-system, sans-serif").text(oe).node()?.getComputedTextLength()||0)+4*2;E=Math.max(E,gt)}}),L.remove();const H=8,A=20,G=2,ie=20,pe=A+H+E,de=ee-ie,Ae=U-A,Be=$+ie+pe,ze=O+A+G;s.attr("viewBox",`${de} ${Ae} ${Be} ${ze}`).attr("preserveAspectRatio","xMidYMid meet").attr("height",ze),s.append("defs").append("clipPath").attr("id","graph-clip").append("rect").attr("x",de).attr("y",Ae).attr("width",Be).attr("height",ze);const Ve=s.append("g").attr("clip-path","url(#graph-clip)");Ve.append("g").attr("fill","none").selectAll("path").data(M).join("path").attr("d",g4()).attr("stroke",(re,he)=>{const oe=c[he],ke=t.graph.nodes.find(He=>l[He.id]===oe.source),Le=o.find(He=>He.name===re.target.name);return oe?.edgeType==="hierarchy"&&ke?.type==="source_parent"?"#22c55e":oe?.edgeType==="hierarchy"?"#475569":Le&&Le.type==="agent"?"#9333ea":oe&&oe.sourceSystem?F[oe.sourceSystem]?.child||"#0bcad9":"#94a3b8"}).attr("stroke-width",re=>Math.min(Math.max(.5,re.width*.5),20)).attr("stroke-opacity",(re,he)=>{const oe=c[he];if(oe?.edgeType==="hierarchy")return .35;const ke=t.graph.nodes.find(Ye=>l[Ye.id]===oe.source),Le=t.graph.nodes.find(Ye=>l[Ye.id]===oe.target),He=`${ke?.id}-${Le?.id}`;return i.has(He)?.9:ke&&(ke.type==="source"||ke.type==="source_parent")?.7:.4}).attr("class",(re,he)=>{const oe=c[he],ke=t.graph.nodes.find(Ye=>l[Ye.id]===oe.source),Le=t.graph.nodes.find(Ye=>l[Ye.id]===oe.target),He=`${ke?.id}-${Le?.id}`;return i.has(He)?"animate-pulse":""}).style("cursor","pointer").on("mouseenter",function(re,he){const oe=M.indexOf(he),ke=c[oe];ke?.edgeType==="hierarchy"?$e(this).attr("stroke-opacity",.6):$e(this).attr("stroke-opacity",.7);const Le=o.find(lr=>lr.name===he.source.name),He=o.find(lr=>lr.name===he.target.name),Ye=ln(Le,He,ke);$e("body").selectAll(".sankey-edge-tooltip").data([null]).join("div").attr("class","sankey-edge-tooltip").style("position","fixed").style("background","rgba(15, 23, 42, 0.95)").style("color","#e2e8f0").style("padding","8px 12px").style("border-radius","6px").style("border","1px solid #475569").style("font-size","12px").style("pointer-events","none").style("z-index","10000").style("box-shadow","0 4px 6px rgba(0, 0, 0, 0.3)").style("max-width","400px").style("font-family","system-ui, -apple-system, sans-serif").html(Ye).style("left",re.pageX+10+"px").style("top",re.pageY-10+"px").style("opacity","1").style("display","block")}).on("mousemove",function(re){$e(".sankey-edge-tooltip").style("left",re.pageX+10+"px").style("top",re.pageY-10+"px")}).on("mouseleave",function(re,he){const oe=M.indexOf(he),ke=c[oe];if(ke?.edgeType==="hierarchy")$e(this).attr("stroke-opacity",.35);else{const Le=t.graph.nodes.find(He=>l[He.id]===ke.source);Le&&(Le.type==="source"||Le.type==="source_parent")?$e(this).attr("stroke-opacity",.7):$e(this).attr("stroke-opacity",.4)}$e(".sankey-edge-tooltip").style("opacity","0").style("display","none")});const Ge=Ve.append("g").selectAll("g").data(N).join("g"),Ct=$e("body").selectAll(".sankey-tooltip").data([null]).join("div").attr("class","sankey-tooltip").style("position","absolute").style("background","rgba(15, 23, 42, 0.95)").style("color","#e2e8f0").style("padding","8px 12px").style("border-radius","6px").style("border","1px solid #475569").style("font-size","12px").style("pointer-events","none").style("opacity","0").style("z-index","1000").style("box-shadow","0 4px 6px rgba(0, 0, 0, 0.3)");Ge.append("rect").attr("x",re=>re.x0).attr("y",re=>re.y0).attr("width",re=>re.x1-re.x0).attr("height",re=>Math.max(re.y1-re.y0,2)).attr("fill",re=>Sc().fill).attr("fill-opacity",re=>{const he=Sc(),oe=o.find(ke=>ke.name===re.name);return oe?.type==="ontology"?.9:oe?.type==="source"?t.graph.edges.some(Le=>Le.source===oe.id&&(Le.edgeType??Le.edge_type)==="dataflow")?1:.5:oe?.type==="agent"?0:oe?.type==="source_parent"?.7:he.fillOpacity||.7}).attr("stroke",re=>Sc().stroke||"#475569").attr("stroke-width",re=>Sc().strokeWidth||0).attr("stroke-opacity",re=>{const he=o.find(oe=>oe.name===re.name);return he?.type==="source"?t.graph.edges.some(ke=>ke.source===he.id&&(ke.edgeType??ke.edge_type)==="dataflow")?1:.6:he?.type==="agent"||he?.type==="source_parent"?1:0}).style("cursor","pointer").on("mouseenter",function(re,he){const oe=o.find(Le=>Le.name===he.name);if(!oe)return;oe.type==="ontology"?$e(this).attr("fill-opacity",1):(oe.type==="source"||oe.type==="agent")&&$e(this).attr("stroke-opacity",1);let ke=`<strong>${he.name}</strong><br/>`;ke+=`Type: ${oe.type}`,(oe.type==="source"||oe.type==="source_parent")&&(ke+=`<br/>System: ${oe.sourceSystem||"Unknown"}`),Ct.html(ke).style("opacity","1").style("left",re.pageX+10+"px").style("top",re.pageY-10+"px")}).on("mousemove",function(re){Ct.style("left",re.pageX+10+"px").style("top",re.pageY-10+"px")}).on("mouseleave",function(re,he){const oe=o.find(ke=>ke.name===he.name);if(oe?.type==="ontology")$e(this).attr("fill-opacity",.9);else if(oe?.type==="source"){const ke=t.graph.edges.some(Le=>Le.source===oe.id&&(Le.edgeType??Le.edge_type)==="dataflow");$e(this).attr("fill-opacity",ke?1:.5),$e(this).attr("stroke-opacity",ke?1:.6)}else oe?.type==="agent"?$e(this).attr("fill-opacity",0).attr("stroke-opacity",1):oe?.type==="source_parent"?$e(this).attr("fill-opacity",.7).attr("stroke-opacity",1):$e(this).attr("fill-opacity",.7);Ct.style("opacity","0")}).on("click",async function(re,he){const oe=o.find(ke=>ke.name===he.name);if(oe)try{const Le=await(await fetch(yt.buildDclUrl(`/preview?node=${oe.id}`))).json();console.log("Preview data for",oe.id,":",Le),window.dispatchEvent(new CustomEvent("sankey-node-click",{detail:{node:oe,preview:Le}}))}catch(ke){console.error("Error fetching preview:",ke)}});const Jt=[];Ge.each(function(re){const he=o.find(oe=>oe.name===re.name);if(he&&(he.type==="source_parent"||he.type==="ontology"||he.type==="agent")){let oe=re.name||"Unknown";he.type==="ontology"&&(oe=oe.replace(/\s*\(unified\)\s*/i,"").trim()),he.type;const ke=4,Le=10,He=16,Ye=$e(this).append("text").attr("font-size",Le).attr("font-family","system-ui, -apple-system, sans-serif").text(oe),gt=Ye.node()?.getComputedTextLength()||0;Ye.remove();const lr=gt+ke*2,cn=re.x1+H,Nr=(re.y0+re.y1)/2;let cr="#475569";he.type==="source_parent"?cr="#22c55e":he.type==="ontology"?cr="#60a5fa":he.type==="agent"&&(cr="#9333ea"),Jt.push({element:this,nodeData:he,d:re,label:oe,fontSize:Le,pillHeight:He,pillWidth:lr,padding:ke,xPos:cn,yPos:Nr,borderColor:cr})}});const vt=new Map;Jt.forEach(re=>{const he=Math.round(re.xPos);vt.has(he)||vt.set(he,[]),vt.get(he).push(re)}),vt.forEach(re=>{re.sort((oe,ke)=>oe.yPos-ke.yPos);const he=4;for(let oe=1;oe<re.length;oe++){const ke=re[oe-1],Le=re[oe],He=ke.yPos+ke.pillHeight/2,Ye=Le.yPos-Le.pillHeight/2;if(He+he>Ye){const gt=He+he-Ye;Le.yPos+=gt}}}),Jt.forEach(re=>{const he=$e(re.element).append("g").attr("class","node-label-group").attr("transform",`translate(${re.d.x1+8}, ${re.yPos})`);he.append("rect").attr("x",0).attr("y",-re.pillHeight/2).attr("width",re.pillWidth).attr("height",re.pillHeight).attr("rx",re.pillHeight/2).attr("ry",re.pillHeight/2).attr("fill","#1e293b").attr("stroke",re.borderColor).attr("stroke-width",1.5).attr("fill-opacity",.9).attr("stroke-opacity",.9),he.append("text").attr("x",re.pillWidth/2).attr("y",0).attr("text-anchor","middle").attr("dominant-baseline","central").attr("fill","#e2e8f0").attr("font-size",re.fontSize).attr("font-family","system-ui, -apple-system, sans-serif").attr("font-weight","500").attr("pointer-events","none").text(re.label)});function ln(re,he,oe){if(!re||!he)return"Data Flow";const ke=re.name||"Unknown",Le=he.name||"Unknown";let He="";re.type==="source_parent"&&he.type==="source"?He="System to table connection":re.type==="source"&&he.type==="ontology"?He="Raw data mapped to unified schema":re.type==="ontology"&&he.type==="agent"?He="Ontology field consumed by agent":He="Data flow";let Ye=`
      <strong>Data Flow</strong><br>
      <span style="color: #94a3b8; font-size: 10px;">${He}</span><br>
      <div style="margin-top: 4px; padding-top: 4px; border-top: 1px solid #475569;">
        <span style="color: #60a5fa;">From:</span> ${ke}<br>
        <span style="color: #34d399;">To:</span> ${Le}
      </div>
    `;if(re.type==="source_parent"&&he.type==="source"&&oe?.tableFields?.length&&(Ye+=`
        <div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid #475569;">
          <strong style="color: #a78bfa; font-size: 10px;">Table Fields:</strong><br>
          <div style="max-height: 120px; overflow-y: auto; margin-top: 4px;">
      `,oe.tableFields.forEach(gt=>{Ye+=`
          <div style="font-size: 10px; margin: 2px 0; color: #cbd5e1;">
            <span style="color: #60a5fa;"></span> ${gt}
          </div>
        `}),Ye+="</div></div>"),oe?.fieldMappings?.length&&(Ye+=`
        <div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid #475569;">
          <strong style="color: #a78bfa; font-size: 10px;">Field Mappings:</strong><br>
          <div style="max-height: 120px; overflow-y: auto; margin-top: 4px;">
      `,oe.fieldMappings.forEach(gt=>{const lr=gt.source||"N/A",cn=gt.onto_field||"N/A",Nr=gt.confidence?`(${Math.round(gt.confidence*100)}%)`:"";Ye+=`
          <div style="font-size: 10px; margin: 2px 0; color: #cbd5e1;">
            <span style="color: #60a5fa;">${lr}</span>  <span style="color: #34d399;">${cn}</span> <span style="color: #94a3b8;">${Nr}</span>
          </div>
        `}),Ye+="</div></div>"),re.type==="ontology"&&he.type==="agent"&&oe?.entityFields?.length){const gt=oe.entityName||"entity";Ye+=`
        <div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid #475569;">
          <strong style="color: #a78bfa; font-size: 10px;">Unified ${gt.replace("_"," ").toUpperCase()} Fields:</strong><br>
          <div style="max-height: 120px; overflow-y: auto; margin-top: 4px;">
      `,oe.entityFields.forEach(lr=>{Ye+=`
          <div style="font-size: 10px; margin: 2px 0; color: #cbd5e1;">
            <span style="color: #34d399;"></span> ${lr}
          </div>
        `}),Ye+="</div></div>"}return Ye}}const y4="auth_token_expiry";function Av(){const[t,e]=ne.useState(null),[r,i]=ne.useState(!0),[s,o]=ne.useState(null),c=ne.useRef(null),l=ne.useRef(null),h=ne.useRef(0),d=10,p=1e3,m=ne.useCallback(b=>{try{if(!b.data)return;const C={events:b.data.events||[],graph:b.data.graph,llm:{calls:b.data.llmCalls,tokens:b.data.llmTokens},preview:{sources:{},ontology:{},connectionInfo:null},rag:b.data.ragContext,selected_sources:b.data.sources||[],selected_agents:b.data.agents||[],dev_mode:b.data.devMode};e(C),o(null),i(!1)}catch(C){console.error("Error processing WebSocket message:",C),o(C instanceof Error?C:new Error("Failed to process message"))}},[]),x=ne.useCallback(()=>{try{let b;if(yt.BASE_URL&&yt.BASE_URL.match(/^https?:\/\//))b=yt.buildDclUrl("/ws").replace(/^http/,"ws");else{const _=window.location.protocol==="https:"?"wss:":"ws:",S=window.location.host;b=`${_}//${S}/dcl/ws`}console.log("[DCL WebSocket] Connecting to:",b);const C=new WebSocket(b);c.current=C,C.onopen=()=>{console.log("[DCL WebSocket] Connected"),h.current=0;const _=localStorage.getItem(Wn);if(_)try{C.send(JSON.stringify({type:"auth",token:_}))}catch(S){console.error("[DCL WebSocket] Failed to send auth token:",S)}},C.onmessage=_=>{try{const S=JSON.parse(_.data);console.log("[DCL WebSocket] Received message:",S.type),m(S)}catch(S){console.error("[DCL WebSocket] Failed to parse message:",S),console.error("[DCL WebSocket] Raw message data:",_.data?.substring(0,200))}},C.onerror=_=>{console.error("[DCL WebSocket] Error:",_),o(new Error("WebSocket connection error"))},C.onclose=_=>{if(console.log("[DCL WebSocket] Disconnected:",_.code,_.reason),c.current=null,h.current<d){const S=Math.min(p*Math.pow(2,h.current),3e4);console.log(`[DCL WebSocket] Reconnecting in ${S}ms (attempt ${h.current+1}/${d})`),l.current=setTimeout(()=>{h.current++,x()},S)}else console.error("[DCL WebSocket] Max reconnection attempts reached"),o(new Error("WebSocket connection lost. Please refresh the page."))}}catch(b){console.error("[DCL WebSocket] Failed to create WebSocket:",b),o(b instanceof Error?b:new Error("Failed to create WebSocket"))}},[m]),v=ne.useCallback(async()=>{try{const b=localStorage.getItem(Wn),C={};b&&(C.Authorization=`Bearer ${b}`);const _=await fetch(yt.buildDclUrl("/state"),{headers:C});if(!_.ok){if(_.status===401&&b){console.log("[DCL State] 401 Unauthorized - clearing auth state"),localStorage.removeItem(Wn),localStorage.removeItem(y4),window.dispatchEvent(new CustomEvent("auth:unauthorized"));return}throw new Error(`Failed to fetch state: ${_.statusText}`)}const S=await _.json();e(S),o(null),i(!1)}catch(b){o(b instanceof Error?b:new Error("Unknown error")),console.error("Error fetching DCL state:",b)}},[]);return ne.useEffect(()=>(x(),()=>{console.log("[DCL WebSocket] Cleaning up..."),l.current&&(clearTimeout(l.current),l.current=null),c.current&&(c.current.close(),c.current=null)}),[x]),{state:t,loading:r,error:s,refetch:v}}function v4({text:t,speed:e=30}){const[r,i]=ne.useState(""),[s,o]=ne.useState(0);return ne.useEffect(()=>{if(s<t.length){const c=setTimeout(()=>{i(l=>l+t[s]),o(l=>l+1)},e);return()=>clearTimeout(c)}},[s,t,e]),ne.useEffect(()=>{i(""),o(0)},[t]),f.jsx("span",{children:r})}function b4({mappings:t,schemaChanges:e}){const[r,i]=ne.useState("review"),[s,o]=ne.useState(!1),[c,l]=ne.useState(!1),[h,d]=ne.useState(!1),[p,m]=ne.useState(null),{state:x}=Av(),[v,b]=ne.useState([]),[C,_]=ne.useState("gemini-2.5-flash"),[S,N]=ne.useState(0),[M,P]=ne.useState(0),[D,V]=ne.useState(!1),z=()=>v1().join(","),q=()=>b1().join(",");ne.useEffect(()=>{x&&o(x.dev_mode||!1)},[x?.dev_mode]),ne.useEffect(()=>{const F=ee=>{const U=ee.detail?.source;console.log(`[DCL] Received trigger-run event from: ${U}`),c||te()};return window.addEventListener("dcl:trigger-run",F),()=>{window.removeEventListener("dcl:trigger-run",F)}},[c]),ne.useEffect(()=>{if(!x)return;(x.events.length!==v.length||x.events.some((ee,Z)=>v[Z]?.text!==ee))&&(x.events.length===0?b([]):b(x.events.map((ee,Z)=>({text:ee,isTyping:Z===x.events.length-1,key:`${Z}-${ee.substring(0,20)}-${Date.now()}`}))))},[x?.events,v]),ne.useEffect(()=>{if(!x)return;!(x.graph?.nodes&&x.graph.nodes.length>0)&&!c&&(async()=>{l(!0);try{const Z=z(),U=q();await fetch(yt.buildDclUrl(`/connect?sources=${Z}&agents=${U}&llm_model=${C}`)),window.dispatchEvent(new Event("dcl-state-changed"))}catch(Z){console.error("Error auto-running graph:",Z)}finally{setTimeout(()=>l(!1),1500)}})()},[x,c]),ne.useEffect(()=>{let F;return D&&c&&(F=setInterval(()=>{N(ee=>ee+.01)},10)),()=>{F&&clearInterval(F)}},[D,c]),ne.useEffect(()=>{let F;if(c&&h){P(0);let ee=0;F=setInterval(()=>{ee<30?ee+=2:ee<60?ee+=1:ee<90?ee+=.5:ee<95&&(ee+=.2),P(Math.min(ee,95))},100)}else!c&&M>0&&M<100&&P(100);return()=>{F&&clearInterval(F)}},[c,h,M]);const te=async()=>{N(0),P(0),V(!0),l(!0),d(!0);try{const F=z(),ee=q();await(await fetch(yt.buildDclUrl(`/connect?sources=${F}&agents=${ee}&llm_model=${C}`))).json(),window.dispatchEvent(new Event("dcl-state-changed"))}catch(F){console.error("Error running:",F)}finally{setTimeout(()=>{l(!1)},1500)}},Q=async()=>{try{const F=!s,Z=await(await fetch(yt.buildDclUrl(`/toggle_dev_mode?enabled=${F}`))).json();o(Z.dev_mode),window.dispatchEvent(new Event("dcl-state-changed"))}catch(F){console.error("Error toggling dev mode:",F)}};return f.jsxs("div",{id:"dcl-graph-container",className:"bg-gray-900 rounded-xl border border-gray-800 p-2 sm:p-3 -mt-[5px]",children:[h&&f.jsxs("div",{className:"relative -mx-2 sm:-mx-3 -mt-2 sm:-mt-3 mb-3 h-4 bg-gray-800 rounded-t-xl overflow-hidden",children:[f.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 transition-all duration-300 ease-out",style:{width:`${M}%`}}),f.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-transparent via-white/20 to-transparent",style:{width:`${M}%`,animation:"shimmer 1.5s linear infinite",backgroundSize:"200% 100%"}}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("span",{className:"text-white text-[10px] tracking-wide drop-shadow-lg",children:[Math.round(M),"% Complete"]})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h2",{className:"text-lg font-medium text-cyan-400 cursor-help",title:"The Data Connectivity Layer (DCL) links heterogeneous data sources without migrations or ETL. It maps entities to a unified ontology for domain agents to act on.",children:"Data Connection Layer (DCL)"}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Provides persistent, versioned entity mappings so AI Agents can reason with consistent, validated inputs."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-4 lg:gap-6",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"relative w-full bg-gradient-to-br from-blue-900/20 to-purple-900/20 rounded-lg border border-blue-500/30 p-2 sm:p-3 backdrop-blur-sm mb-4",children:[f.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-lg animate-pulse"}),f.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/50 flex-shrink-0",children:f.jsx(Lt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white animate-pulse"})}),f.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-2 sm:gap-3 mb-3 sm:mb-1",children:[f.jsx("h3",{className:"text-sm sm:text-sm font-medium text-white",children:"Intelligent Mapping & Ontology Engine"}),f.jsxs("div",{className:"grid grid-cols-2 sm:flex items-center gap-2 w-full sm:w-auto",children:[f.jsx("button",{onClick:Q,className:`touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 rounded text-xs sm:text-[10px] transition-all ${s?"bg-amber-600/20 border border-amber-500/40 text-amber-300 hover:bg-amber-600/30":"bg-emerald-600/20 border border-emerald-500/40 text-emerald-300 hover:bg-emerald-600/30"}`,title:"Toggle between Production Mode (heuristics only) and Dev Mode (AI + RAG active)",children:f.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-amber-400 animate-pulse":"bg-emerald-400"}`}),f.jsx("span",{className:"whitespace-nowrap",children:s?"Dev Mode":"Prod Mode"})]})}),f.jsxs("select",{onChange:F=>{if(F.target.value==="select")window.dispatchEvent(new CustomEvent("navigate",{detail:{page:"connections"}}));else if(F.target.value==="all"){const ee=["dynamics","salesforce","hubspot","sap","netsuite","legacy_sql","snowflake","supabase","mongodb"],Z=["revops_pilot","finops_pilot"];localStorage.setItem("aos.selectedSources",JSON.stringify(ee)),localStorage.setItem("aos.selectedAgents",JSON.stringify(Z)),console.log("[DCL] All Sources selected - using all sources and all agents"),te()}F.target.value="all"},disabled:c,className:"touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 bg-gray-800 border border-gray-700 rounded text-xs sm:text-[10px] text-white focus:outline-none focus:border-blue-500 hover:border-gray-600 transition-colors disabled:opacity-50 cursor-pointer",title:"Select all data sources and agents",children:[f.jsx("option",{value:"all",children:"All Sources"}),f.jsx("option",{value:"select",children:"Select Sources..."})]}),f.jsxs("select",{value:C,onChange:F=>_(F.target.value),disabled:c,className:"touch-target-h mobile-tap-highlight px-3 py-2 sm:px-2 sm:py-1 bg-gray-800 border border-gray-700 rounded text-xs sm:text-[10px] text-white focus:outline-none focus:border-blue-500 hover:border-gray-600 transition-colors disabled:opacity-50 cursor-pointer",title:"Select LLM model for intelligent mapping",children:[f.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),f.jsx("option",{value:"gpt-5-mini",children:"GPT-5 mini "}),f.jsx("option",{value:"gpt-5-nano",children:"GPT-5 nano "})]}),f.jsx("button",{onClick:te,disabled:c,className:"touch-target-h mobile-tap-highlight flex items-center gap-1.5 px-4 sm:px-2 py-2 sm:py-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-md text-xs sm:text-[10px] text-white shadow-lg shadow-emerald-500/30 transition-all disabled:opacity-50 justify-center",title:"Run mapping with selected configuration",children:c?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-3 sm:w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Processing..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(T1,{className:"w-3 h-3 sm:w-3 sm:h-3"}),f.jsx("span",{children:"Run"})]})})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-[10px] sm:text-[10px] text-blue-300",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s?"bg-purple-400 animate-pulse":"bg-gray-500"}`}),f.jsxs("span",{children:["LLM Calls: ",x?.llm?.calls||0]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Lt,{className:"w-3 h-3 text-blue-400"}),f.jsx("span",{className:"whitespace-nowrap",children:"9 sources  2 agents"})]}),(D||S>0)&&f.jsxs("div",{className:"flex items-center gap-1 bg-blue-900/30 px-2 py-0.5 rounded",children:[f.jsx("svg",{className:"w-3 h-3 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{className:"font-mono",children:[S.toFixed(2),"s"]})]})]})]})]})]}),f.jsx("div",{className:"relative pb-2 md:min-h-[500px]",children:f.jsx(m4,{})})]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs",children:""}),f.jsx("span",{className:"text-white text-sm cursor-help",title:"Chronological event log showing every decision, mapping, and execution step. Functions as a transparent, auditable trail of autonomous system behavior.",children:"Narration"}),f.jsxs("span",{className:"ml-auto text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full",children:[x?.events.length||0," events"]})]}),f.jsx("div",{className:"text-xs space-y-1 overflow-y-auto max-h-[200px]",children:v.length===0?f.jsx("div",{className:"text-gray-500 italic text-[11px]",children:"No events yet. Start mapping to see the narration."}):v.map((F,ee)=>f.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[f.jsxs("span",{className:"text-purple-400 mr-1",children:["[",ee+1,"]"]}),F.isTyping?f.jsx(v4,{text:F.text,speed:30}):F.text]},F.key))})]}),f.jsxs("div",{className:"rounded-lg p-4 bg-gradient-to-br from-teal-950 to-cyan-950 border border-teal-700/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-500 flex items-center justify-center text-white text-xs",children:""}),f.jsx("span",{className:"text-white text-sm cursor-help",title:"Retrieval-Augmented Generation (RAG) component that enriches context for agent reasoning. It stores embeddings, retrieves related knowledge, and continuously self-tunes mappings.",children:"RAG Learning Engine"}),f.jsxs("span",{className:"ml-auto text-xs bg-teal-600 text-white px-2 py-0.5 rounded-full",children:[x?.rag?.total_mappings||0," stored"]})]}),f.jsx("div",{className:"text-xs space-y-2 overflow-y-auto overflow-x-hidden min-h-[150px] max-h-[400px]",children:!x?.rag?.retrievals||x.rag.retrievals.length===0?f.jsx("div",{className:"text-teal-300/70 italic text-[11px]",children:"No context retrieved yet. Connect a source to see RAG retrieve historical mappings."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-white mb-2 text-[11px]",children:["Retrieved ",x.rag.last_retrieval_count," similar mappings:"]}),x.rag.retrievals.map((F,ee)=>f.jsxs("div",{className:"mb-2 pb-2 border-b border-teal-800/30 last:border-0",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("div",{className:"text-white text-[11px]",children:F.source_field}),f.jsxs("div",{className:"text-[10px] text-white",children:[(F.similarity*100).toFixed(0),"%"]})]}),f.jsxs("div",{className:"text-teal-300 text-[10px] mb-1",children:[" ",F.ontology_entity]}),f.jsx("div",{className:"w-full bg-slate-900/50 rounded-sm h-1.5 overflow-hidden mb-1",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-400 transition-all",style:{width:`${(F.similarity*100).toFixed(0)}%`}})}),f.jsxs("div",{className:"text-[9px] text-teal-400/70",children:["from: ",F.source_system||"unknown"]})]},ee))]})})]}),f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-600 flex items-center justify-center text-white text-xs",children:""}),f.jsx("span",{className:"text-white text-sm cursor-help",title:"Aggregates flagged data quality or mapping anomalies for human or agentic review before execution. Supports auto-correction and retraining triggers.",children:"Intelligence Review"})]}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsxs("button",{onClick:()=>i("review"),className:`flex-1 px-2 py-1 text-[11px] font-medium rounded transition-colors ${r==="review"?"bg-orange-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:["Review (",t.length,")"]}),f.jsxs("button",{onClick:()=>i("schema"),className:`flex-1 px-2 py-1 text-[11px] font-medium rounded transition-colors ${r==="schema"?"bg-orange-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:["Schema Log (",e.length,")"]})]}),f.jsx("div",{className:"text-xs space-y-2 overflow-y-auto max-h-[260px]",children:r==="review"?f.jsx("div",{className:"space-y-2",children:t.map(F=>f.jsxs("div",{className:"p-2 bg-gray-900 rounded border border-gray-700",children:[f.jsxs("div",{className:"flex items-start justify-between mb-1",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-blue-400 font-mono text-[10px] truncate",children:F.sourceField}),f.jsxs("div",{className:"text-green-400 font-mono text-[10px] mt-1 truncate",children:[" ",F.unifiedField]})]}),f.jsxs("div",{className:`ml-2 px-1.5 py-0.5 rounded text-[9px] flex-shrink-0 ${F.confidence>=80?"bg-green-500/20 text-green-400":F.confidence>=60?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[F.confidence,"%"]})]}),f.jsx("button",{onClick:()=>m(F),className:"mt-2 w-full px-2 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-[11px] font-medium rounded transition-colors",children:"Review"})]},F.id))}):f.jsx("div",{className:"space-y-2",children:e.map(F=>f.jsxs("div",{className:"p-2 bg-gray-900 rounded border border-gray-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:`px-1.5 py-0.5 rounded text-[9px] font-bold ${F.changeType==="added"?"bg-green-500/20 text-green-400":F.changeType==="modified"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:F.changeType.toUpperCase()}),f.jsx("span",{className:"text-gray-400 text-[10px] font-mono",children:F.source})]}),f.jsx("div",{className:"text-[10px] text-gray-300",children:F.field}),f.jsx("div",{className:"text-[9px] text-gray-500 mt-1",children:new Date(F.timestamp).toLocaleString()})]},F.id))})})]})]})]}),p&&f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-4 sm:p-6 flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Review Mapping"}),f.jsx("button",{onClick:()=>m(null),className:"p-2 sm:p-2 hover:bg-gray-800 rounded-lg transition-colors min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center","aria-label":"Close modal",children:f.jsx(zo,{className:"w-5 h-5 sm:w-5 sm:h-5 text-gray-400"})})]}),f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-400 mb-2 sm:mb-3 uppercase tracking-wider",children:"Source Data Snippet"}),f.jsx("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4 border border-gray-700",children:f.jsx("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto",children:p.sourceSample})}),f.jsxs("div",{className:"mt-3 sm:mt-4",children:[f.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Source Field"}),f.jsx("div",{className:"text-sm sm:text-base text-blue-400 font-mono break-all",children:p.sourceField})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-400 mb-2 sm:mb-3 uppercase tracking-wider",children:"Proposed Unified Mapping"}),f.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4 border border-gray-700 mb-3 sm:mb-4",children:[f.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mb-2",children:"Unified Entity & Field"}),f.jsx("div",{className:"text-base sm:text-lg text-green-400 font-mono break-all",children:p.unifiedField}),f.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-700",children:[f.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Confidence Score"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400",style:{width:`${p.confidence}%`}})}),f.jsxs("span",{className:"text-orange-400 font-semibold",children:[p.confidence,"%"]})]})]})]})]})]}),f.jsxs("div",{className:"mb-4 sm:mb-6",children:[f.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-400 mb-2 sm:mb-3 uppercase tracking-wider",children:"LLM Reasoning"}),f.jsx("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4 border border-gray-700",children:f.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:p.llmReasoning})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[f.jsxs("button",{onClick:()=>{console.log("Approved:",p.id),m(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 sm:py-3 bg-green-600 hover:bg-green-700 active:bg-green-800 text-white font-medium rounded-lg transition-colors min-h-[48px] sm:min-h-0",children:[f.jsx(jo,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm sm:text-base",children:"Approve"})]}),f.jsx("button",{onClick:()=>{console.log("Editing:",p.id)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 sm:py-3 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white font-medium rounded-lg transition-colors min-h-[48px] sm:min-h-0",children:f.jsx("span",{className:"text-sm sm:text-base",children:"Edit Mapping"})}),f.jsxs("button",{onClick:()=>{console.log("Ignored:",p.id),m(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 sm:py-3 bg-gray-700 hover:bg-gray-600 active:bg-gray-800 text-white font-medium rounded-lg transition-colors min-h-[48px] sm:min-h-0",children:[f.jsx(zo,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm sm:text-base",children:"Ignore & Flag"})]})]})]})]})})]})}function w4(){const t=()=>{const e=document.getElementById("dcl-graph-container");e&&e.scrollIntoView({behavior:"smooth",block:"start"})};return f.jsxs("div",{className:"px-4 sm:px-6 py-8 sm:py-12 safe-x",children:[f.jsxs("div",{children:[f.jsx("img",{src:"/assets/autonomos-main-logo.png",alt:"autonomOS - The Operating System for the Intelligent Enterprise",className:"h-16 sm:h-20 md:h-24 object-contain mb-6 sm:mb-8",style:{marginLeft:"-25px"}}),f.jsxs("p",{className:"text-lg sm:text-2xl md:text-3xl font-normal text-gray-200 max-w-3xl leading-snug mt-6 sm:mt-9 mb-6 sm:mb-[40px]",children:[f.jsx("span",{className:"text-cyan-400 font-medium",children:"autonomOS"})," connects, normalizes, maps, and orchestrates your enterprise intelligence ",f.jsx("span",{className:"text-cyan-400 font-medium",children:"automatically"}),"  freeing your teams to focus on insights, not integration."]})]}),f.jsx("div",{className:"mt-4 sm:mt-6",children:f.jsxs("p",{className:"text-xl sm:text-3xl md:text-4xl font-medium leading-tight",children:[f.jsx("span",{className:"text-cyan-400",children:"Stop building pipelines."})," ",f.jsx("span",{className:"text-white",children:"Start delivering outcomes."})]})}),f.jsx("div",{className:"mt-6 sm:mt-8",children:f.jsx("button",{onClick:t,className:"bg-cyan-500 hover:bg-cyan-600 text-white font-medium px-6 sm:px-8 py-3 sm:py-3 rounded-lg transition-colors duration-200 shadow-lg hover:shadow-cyan-500/50 touch-target mobile-tap-highlight text-base sm:text-base",children:"Run Interactive Demo"})})]})}const k4="/assets/autonomos-arrow-BM3mb-le.png",C4=()=>{const t=r=>{const i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"})},e=[{icon:Pr,title:"Enterprise Data",tags:["SaaS Applications","Databases & Warehouses","Legacy Systems","APIs & Files"],linkedTags:[],bgColor:"bg-[#0A2540]",borderColor:"border-[#1E4A6F]",linkTo:null},{icon:Bp,title:"Adaptive API Mesh (AAM)",tags:["Self-Healing Integration","Autonomous Drift Repair","Real-time Schema Normalization","Universal Connectivity","Governed Data Exchange"],linkedTags:[],bgColor:"bg-[#0D2F3F]",borderColor:"border-[#1A4D5E]",linkTo:"adaptive-api-mesh"},{icon:_1,title:"Data Connectivity Layer",tags:["Unified Enterprise Ontology","Semantic Context Engine","Autonomous RAG Indexing","Real-time AI Data Streams","Unified Data Observability"],linkedTags:[],bgColor:"bg-[#1A2F4A]",borderColor:"border-[#2A4A6F]",linkTo:"dcl-graph-container"},{icon:Dp,title:"Custom Domain Agents",tags:["FinOps","RevOps","Productized Domain Expertise","FinOps/RevOps Blueprints","Autonomous Workflow Orchestration","Business Process and Integration Support","Insight to Action at Scale"],linkedTags:["FinOps","RevOps"],tagLinks:{FinOps:"https://finopsagent.onrender.com/",RevOps:"https://autonomos-revops-agent.onrender.com/"},bgColor:"bg-[#2A1F4A]",borderColor:"border-[#3F2F6F]",linkTo:"agent-performance-monitor"}];return f.jsx("div",{className:"w-full bg-[#0A1628] py-12 px-4",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"text-center mb-8",children:f.jsx("div",{className:"inline-block bg-[#0D3A52] text-[#0BCAD9] px-4 py-2 rounded-lg text-sm font-medium mb-4 border border-[#0BCAD9]/30",children:"Agentic Orchestration Architecture (AOA)"})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute -inset-6 bg-gradient-to-br from-[#0BCAD9]/5 via-transparent to-[#0BCAD9]/5 rounded-3xl border-2 border-[#0BCAD9]/20 pointer-events-none",children:f.jsx("div",{className:"absolute -top-3 left-8 bg-[#0A1628] px-3 py-1 text-[#0BCAD9] text-sm font-medium",children:"AutonomOS Orchestration Platform"})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((r,i)=>f.jsxs("div",{className:"relative flex flex-col items-center",children:[f.jsxs("div",{onClick:()=>r.linkTo&&t(r.linkTo),className:`${r.bgColor} ${r.borderColor} border-2 rounded-xl p-5 w-full hover:border-[#0BCAD9] transition-all duration-300 ${r.linkTo?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(r.icon,{className:"w-6 h-6 text-[#0BCAD9]"}),f.jsx("h3",{className:"text-white font-medium text-lg leading-tight",children:r.title}),i===2&&f.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[f.jsx(oT,{className:"w-5 h-5 text-[#0BCAD9]"}),f.jsx("span",{className:"text-sm text-[#0BCAD9] font-medium",children:"Interactive Demo"})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1.5",children:r.tags.map((s,o)=>{const c=r.linkedTags.includes(s),l=r.tagLinks?.[s],h=s.includes("Ontology");return l?f.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-sm px-2 py-1 rounded border bg-[#0BCAD9]/20 text-white border-[#0BCAD9] font-medium shadow-lg shadow-[#0BCAD9]/30 animate-pulse hover:bg-[#0BCAD9]/30 hover:scale-105 transition-all cursor-pointer",children:s},o):f.jsx("span",{className:`text-sm px-2 py-1 rounded border ${h?"bg-[#0BCAD9]/10 text-white border-[#0BCAD9]/30":c?"bg-[#0BCAD9]/20 text-white border-[#0BCAD9] font-medium shadow-lg shadow-[#0BCAD9]/30 animate-pulse":"bg-[#0BCAD9]/10 text-[#0BCAD9] border-[#0BCAD9]/30"}`,children:s},o)})})]}),f.jsxs(f.Fragment,{children:[i<e.length-1&&f.jsx("div",{className:"hidden lg:flex absolute top-1/2 -right-7 transform -translate-y-1/2 z-20",children:f.jsx("div",{className:"bg-[#0BCAD9] rounded-full p-2 shadow-lg shadow-[#0BCAD9]/50",children:f.jsx(Rc,{className:"w-7 h-7 text-[#0A1628] font-bold",strokeWidth:3})})}),i===0&&f.jsx("div",{className:"hidden md:flex lg:hidden absolute top-1/2 -right-7 transform -translate-y-1/2 z-20",children:f.jsx("div",{className:"bg-[#0BCAD9] rounded-full p-2 shadow-lg shadow-[#0BCAD9]/50",children:f.jsx(Rc,{className:"w-7 h-7 text-[#0A1628] font-bold",strokeWidth:3})})}),i===1&&f.jsx("div",{className:"hidden md:flex lg:hidden justify-center py-4",children:f.jsx("div",{className:"bg-[#0BCAD9] rounded-full p-2 shadow-lg shadow-[#0BCAD9]/50",children:f.jsx(mx,{className:"w-7 h-7 text-[#0A1628] font-bold",strokeWidth:3})})}),i===2&&f.jsx("div",{className:"hidden md:flex lg:hidden absolute top-1/2 -right-7 transform -translate-y-1/2 z-20",children:f.jsx("div",{className:"bg-[#0BCAD9] rounded-full p-2 shadow-lg shadow-[#0BCAD9]/50",children:f.jsx(Rc,{className:"w-7 h-7 text-[#0A1628] font-bold",strokeWidth:3})})}),i<e.length-1&&f.jsx("div",{className:"flex md:hidden justify-center py-4",children:f.jsx("div",{className:"bg-[#0BCAD9] rounded-full p-2 shadow-lg shadow-[#0BCAD9]/50 animate-pulse",children:f.jsx(mx,{className:"w-7 h-7 text-[#0A1628] font-bold",strokeWidth:3})})})]})]},i))}),f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("img",{src:k4,alt:"Summary transition",className:"w-32 md:w-48 h-auto opacity-30 hover:opacity-50 transition-opacity duration-300 scale-y-[-1]"})}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{className:"flex items-center gap-3 bg-[#0D2F3F] rounded-xl px-6 py-3 border border-[#0BCAD9]/30",children:[f.jsx(Ou,{className:"w-5 h-5 text-[#0BCAD9]"}),f.jsx("span",{className:"text-white font-medium text-[23px]",children:"Outcomes"}),f.jsx("div",{className:"flex flex-wrap gap-1.5 ml-2",children:["Intent-Driven Operations","Autonomous Execution","Insight-to-Action Acceleration","Guaranteed Data Reliability","Proactive Decision Intelligence"].map((r,i)=>f.jsx("span",{className:"text-[19px] px-2 py-1 rounded bg-[#0BCAD9]/10 text-[#0BCAD9] border border-[#0BCAD9]/30",children:r},i))})]})})]})]})]})})},_4=()=>{const[t,e]=ne.useState({x:10,y:10}),r=ne.useRef(null),[i,s]=ne.useState(!1),[o,c]=ne.useState([{time:"06:34:49",type:"success",message:"SAP connection restored "},{time:"06:34:48",type:"warning",message:"Autonomous remapping initiated for NetSuite..."},{time:"06:34:46",type:"error",message:"NetSuite schema drift detected..."}]),l=ne.useRef(null),h=[{type:"success",message:"SAP connection restored "},{type:"success",message:"Snowflake connection restored "},{type:"success",message:"Salesforce connection restored "},{type:"success",message:"Dynamics connection restored "},{type:"success",message:"HubSpot connection restored "},{type:"warning",message:"Autonomous remapping initiated for SAP..."},{type:"warning",message:"Autonomous remapping initiated for NetSuite..."},{type:"warning",message:"Autonomous remapping initiated for Salesforce..."},{type:"warning",message:"Autonomous remapping initiated for Dynamics..."},{type:"error",message:"SAP schema drift detected..."},{type:"error",message:"NetSuite schema drift detected..."},{type:"error",message:"Salesforce schema drift detected..."},{type:"error",message:"Dynamics schema drift detected..."},{type:"error",message:"Snowflake schema drift detected..."}];ne.useEffect(()=>{const v=setInterval(()=>{const b=new Date,C=`${String(b.getHours()).padStart(2,"0")}:${String(b.getMinutes()).padStart(2,"0")}:${String(b.getSeconds()).padStart(2,"0")}`,_=h[Math.floor(Math.random()*h.length)];c(S=>[...S,{time:C,..._}].slice(-20)),setTimeout(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},50)},2500);return()=>clearInterval(v)},[]);const d=v=>{if(!r.current)return;const b=r.current.getBoundingClientRect(),C=(v.clientX-b.left)/b.width,_=(v.clientY-b.top)/b.height,S=10+(C-.5)*80,N=10+(_-.5)*-40;e({x:N,y:S})},p=v=>{if(!r.current||v.touches.length===0)return;const b=r.current.getBoundingClientRect(),C=v.touches[0],_=(C.clientX-b.left)/b.width,S=(C.clientY-b.top)/b.height,N=10+(_-.5)*80,M=10+(S-.5)*-40;e({x:M,y:N})},m=()=>{s(!1),e({x:10,y:10})},x=()=>{s(!0)};return f.jsxs("div",{id:"adaptive-api-mesh",className:"w-full bg-[#000000] py-16 px-4",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-12 text-center",children:[f.jsx("h2",{className:"text-4xl font-bold text-[#0BCAD9] mb-4",children:"Adaptive API Mesh (AAM)"}),f.jsx("p",{className:"text-gray-400 text-lg max-w-3xl mx-auto",children:"A three-layer architecture combining universal connectivity with proprietary self-healing intelligence"})]}),f.jsx("div",{ref:r,className:"relative flex items-center justify-center min-h-[600px] md:min-h-[600px] perspective-1200 overflow-x-auto md:overflow-hidden cursor-grab active:cursor-grabbing",onMouseMove:d,onMouseEnter:x,onMouseLeave:m,onTouchMove:p,onTouchEnd:m,children:f.jsxs("div",{className:"relative card-container mx-auto md:mx-auto",style:{transformStyle:"preserve-3d",transform:`rotateX(${t.x}deg) rotateY(${t.y}deg)`,transition:i?"transform 0.1s ease-out":"transform 0.5s ease-out"},children:[f.jsx("div",{className:"isometric-layer layer-1",children:f.jsxs("div",{className:"layer-content bg-gradient-to-br from-[#1a2332] to-[#0f1721] border-2 border-gray-600/40",children:[f.jsxs("div",{className:"layer-header",children:[f.jsx(Pr,{className:"w-8 h-8 text-gray-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-300",children:"Execution Plane"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Adopted Infrastructure"})]})]}),f.jsxs("div",{className:"layer-features",children:[f.jsxs("div",{className:"feature-item",children:[f.jsx(Bp,{className:"w-5 h-5 text-gray-400"}),f.jsx("span",{className:"text-gray-400",children:"Universal Connectivity"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(bx,{className:"w-5 h-5 text-gray-400"}),f.jsx("span",{className:"text-gray-400",children:"API Gateway & Security"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(Lt,{className:"w-5 h-5 text-gray-400"}),f.jsx("span",{className:"text-gray-400",children:"Data Synchronization"})]})]})]})}),f.jsx("div",{className:"isometric-layer layer-2",children:f.jsxs("div",{className:"layer-content bg-gradient-to-br from-[#0BCAD9] to-[#0891b2] border-2 border-[#0BCAD9] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[#0BCAD9]/10 backdrop-blur-sm"}),f.jsx("div",{className:"absolute inset-0 animate-pulse-glow"}),f.jsxs("div",{className:"relative z-10 layer-header",children:[f.jsx(Tf,{className:"w-8 h-8 text-white drop-shadow-lg"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-white drop-shadow-md",children:"Adaptive Intelligence Plane"}),f.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Self-Healing Core"})]})]}),f.jsxs("div",{className:"relative z-10 layer-features",children:[f.jsxs("div",{className:"feature-item",children:[f.jsx(Af,{className:"w-5 h-5 text-white"}),f.jsx("span",{className:"text-white font-medium",children:"RAG Engine (Autonomous Repair)"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(Io,{className:"w-5 h-5 text-white"}),f.jsx("span",{className:"text-white font-medium",children:"Real-time Schema Observation"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(E1,{className:"w-5 h-5 text-white"}),f.jsx("span",{className:"text-white font-medium",children:"Drift Detection"})]})]})]})}),f.jsx("div",{className:"isometric-layer layer-3",children:f.jsxs("div",{className:"layer-content bg-gradient-to-br from-[#e0f2fe]/95 to-[#bae6fd]/95 border-2 border-[#0BCAD9]/50 backdrop-blur-md",children:[f.jsxs("div",{className:"layer-header",children:[f.jsx(bx,{className:"w-8 h-8 text-[#0891b2]"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-[#0a4a5e]",children:"Control Plane"}),f.jsx("p",{className:"text-sm text-[#0a4a5e]/70 font-medium",children:"Governance & Monitoring"})]})]}),f.jsxs("div",{className:"layer-features",children:[f.jsxs("div",{className:"feature-item",children:[f.jsx(Lt,{className:"w-5 h-5 text-[#0891b2]"}),f.jsx("span",{className:"text-[#0a4a5e]",children:"AOS Control Center"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(Af,{className:"w-5 h-5 text-[#0891b2]"}),f.jsx("span",{className:"text-[#0a4a5e]",children:"Real-time Alerting"})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx(Io,{className:"w-5 h-5 text-[#0891b2]"}),f.jsx("span",{className:"text-[#0a4a5e]",children:"Human-in-the-Loop (HITL)"})]})]})]})})]})}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx("p",{className:"text-gray-300 text-lg max-w-3xl mx-auto",children:"Connects data, on-prem systems, databases, SaaS platforms, APIs, CSV, and Agents through intelligent, self-healing infrastructure"})}),f.jsxs("div",{className:"mt-16 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-[#0A1628] border border-gray-700/50 rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Lt,{className:"w-5 h-5 text-[#0BCAD9]"}),f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Real-time Connection Monitor"}),f.jsx("div",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),f.jsx("div",{ref:l,className:"bg-[#000000] rounded-md p-4 font-mono text-sm h-64 overflow-y-auto",children:f.jsx("div",{className:"space-y-2",children:o.map((v,b)=>f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500 text-xs",children:v.time}),f.jsx("span",{className:v.type==="success"?"text-green-400":v.type==="warning"?"text-yellow-400":"text-red-400",children:v.type==="success"?"":v.type==="warning"?"":""}),f.jsx("span",{className:v.type==="success"?"text-gray-300":v.type==="warning"?"text-yellow-300":"text-gray-300",children:v.message})]},b))})})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-[#0BCAD9] mb-4",children:"Three-Layer Architecture"}),f.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:"The AAM is built on a robust foundation (Execution), powered by proprietary self-healing intelligence (Adaptive Intelligence), and managed through a unified control interface (AOS Control Center)."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-[#0BCAD9] mb-4",children:"Self-Healing Intelligence"}),f.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:"The centerpiece Adaptive Intelligence layer continuously monitors, detects drift, and autonomously repairs connectionsensuring zero-downtime resilience."})]})]})]})]}),f.jsx("style",{children:`
        .perspective-1200 {
          perspective: 1200px;
          perspective-origin: 50% 50%;
        }

        .card-container {
          transform-style: preserve-3d;
          width: 1050px;
          max-width: 100%;
          height: 375px;
          position: relative;
        }

        .isometric-layer {
          position: absolute;
          width: 360px;
          transition: transform 0.5s ease;
          transform-origin: center center;
          transform-style: preserve-3d;
          left: 50%;
          top: 50%;
          margin-left: -180px;
          margin-top: -112px;
        }

        .layer-1 {
          transform: rotateY(-10deg) translateZ(-112px) translateX(-300px) translateY(22px);
          z-index: 1;
        }

        .layer-2 {
          transform: rotateY(0deg) translateZ(0px) translateX(0px) translateY(0px);
          z-index: 2;
        }

        .layer-3 {
          transform: rotateY(-5deg) translateZ(112px) translateX(300px) translateY(-22px);
          z-index: 3;
        }

        .layer-content {
          padding: 2rem;
          border-radius: 16px;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
          min-height: 200px;
          position: relative;
        }

        .layer-1 .layer-content {
          box-shadow:
            -40px 40px 80px -20px rgba(0, 0, 0, 0.7),
            -20px 20px 40px -10px rgba(0, 0, 0, 0.5),
            inset 0 2px 4px rgba(255, 255, 255, 0.05);
        }

        .layer-2 .layer-content {
          box-shadow:
            0 60px 120px -20px rgba(11, 202, 217, 0.6),
            0 40px 80px -15px rgba(0, 0, 0, 0.6),
            0 20px 40px -10px rgba(0, 0, 0, 0.4),
            inset 0 2px 4px rgba(255, 255, 255, 0.2);
        }

        .layer-3 .layer-content {
          box-shadow:
            40px 40px 100px -15px rgba(11, 202, 217, 0.5),
            30px 30px 80px -15px rgba(11, 202, 217, 0.4),
            20px 20px 60px -10px rgba(0, 0, 0, 0.5),
            inset 0 2px 4px rgba(255, 255, 255, 0.3);
        }

        .layer-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .layer-features {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .feature-item {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.5rem;
          border-radius: 6px;
          background: rgba(0, 0, 0, 0.1);
          font-size: 0.875rem;
        }

        .layer-2 .feature-item {
          background: rgba(255, 255, 255, 0.1);
        }

        .layer-3 .feature-item {
          background: rgba(8, 145, 178, 0.08);
        }

        @keyframes pulse-glow {
          0%, 100% {
            opacity: 0.1;
          }
          50% {
            opacity: 0.2;
          }
        }

        .animate-pulse-glow {
          background: radial-gradient(circle at center, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
          animation: pulse-glow 3s ease-in-out infinite;
        }

        @media (max-width: 1024px) {
          .isometric-layer {
            width: 300px;
          }

          .layer-1 {
            transform: rotateY(-10deg) translateZ(-90px) translateX(-240px) translateY(15px);
          }

          .layer-2 {
            transform: rotateY(0deg) translateZ(0px) translateX(0px) translateY(0px);
          }

          .layer-3 {
            transform: rotateY(-5deg) translateZ(90px) translateX(240px) translateY(-15px);
          }
        }

        @media (max-width: 768px) {
          .perspective-1200 {
            cursor: default !important;
            display: block;
            overflow-x: auto;
            overflow-y: visible;
            -webkit-overflow-scrolling: touch;
            padding: 1rem;
            min-height: auto;
          }

          .card-container {
            display: flex;
            flex-direction: row;
            gap: 1.5rem;
            width: auto;
            height: auto;
            min-width: min-content;
            padding: 0;
          }

          .isometric-layer {
            position: relative;
            width: 280px;
            min-width: 280px;
            flex-shrink: 0;
            margin: 0;
            transform: none !important;
            left: auto;
            top: auto;
            margin-left: 0;
            margin-top: 0;
          }

          .layer-1, .layer-2, .layer-3 {
            position: relative;
            transform: none !important;
            z-index: 1;
          }

          .layer-content {
            min-height: 280px;
          }
        }
      `})]})};function S4(){const{autonomyMode:t}=Ru(),[e,r]=ne.useState({state:"Active",vitals:{agentUptime:Jr.vitals.agentUptime,activeAgents:Jr.vitals.activeAgents,failedSteps24h:Jr.vitals.failedSteps24h,anomalyDetections24h:Jr.vitals.anomalyDetections24h,humanOverrides:Jr.vitals.humanOverrides,triggerCountPerMin:Jr.vitals.triggerCountPerMin,computeLoadAvg:Jr.vitals.computeLoadAvg}});ne.useEffect(()=>{const o=["Active","Planning","Executing","Learning"];let c=0;const l=setInterval(()=>{c=(c+1)%o.length,r(h=>({...h,state:o[c],vitals:{agentUptime:Math.max(95,Math.min(100,h.vitals.agentUptime+(Math.random()-.5)*.5)),activeAgents:{current:Math.max(8,Math.min(15,h.vitals.activeAgents.current+Math.floor(Math.random()*3-1))),total:15},failedSteps24h:Math.max(0,h.vitals.failedSteps24h+Math.floor(Math.random()*3-1)),anomalyDetections24h:Math.max(0,h.vitals.anomalyDetections24h+Math.floor(Math.random()*3-1)),humanOverrides:Math.max(0,h.vitals.humanOverrides+Math.floor(Math.random()*2)),triggerCountPerMin:Math.max(100,h.vitals.triggerCountPerMin+Math.floor(Math.random()*10-5)),computeLoadAvg:Math.max(20,Math.min(85,h.vitals.computeLoadAvg+Math.floor(Math.random()*10-5)))}}))},5e3);return()=>clearInterval(l)},[]);const i=o=>{switch(o){case"Active":return"bg-green-500/20 text-green-400 border-green-500/30";case"Planning":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Executing":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"Learning":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}},s=(o,c)=>{switch(o){case"uptime":return c>=99?"text-green-400":c>=95?"text-yellow-400":"text-red-400";case"failed":return c<=5?"text-green-400":c<=15?"text-yellow-400":"text-red-400";case"anomalies":return c<=10?"text-green-400":c<=25?"text-yellow-400":"text-red-400";case"overrides":return c<=5?"text-green-400":c<=15?"text-yellow-400":"text-red-400";case"load":return c<=60?"text-green-400":c<=80?"text-yellow-400":"text-red-400";default:return"text-cyan-400"}};return f.jsxs("div",{className:"rounded-2xl shadow-md p-6 bg-slate-800/60 border border-slate-700 relative overflow-hidden h-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:f.jsx(Lt,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"cursor-help",title:"AutonomOS Agentic Orchestration Agent (AOA): A persistent, meta-level agent that observes, coordinates, and optimizes the behavior of all other domain agents (FinOps, RevOps, HR, etc.) running on the Data Connectivity Layer (DCL).",children:[f.jsx("h2",{className:"text-xl font-medium text-cyan-400",children:"AutonomOS Orchestration Layer"}),f.jsxs("p",{className:"text-sm text-slate-500",children:["Mode: ",t]})]})]}),f.jsx("div",{className:`px-4 py-2 rounded-lg border ${i(e.state)}`,children:f.jsx("span",{className:"text-sm",children:e.state})})]}),f.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(Lt,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Agent Uptime"}),f.jsxs("div",{className:`text-lg transition-colors ${s("uptime",e.vitals.agentUptime)}`,children:[e.vitals.agentUptime.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(Dp,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Active Agents"}),f.jsxs("div",{className:"text-lg text-cyan-400",children:[e.vitals.activeAgents.current," / ",e.vitals.activeAgents.total]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(L1,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Failed Steps (24h)"}),f.jsx("div",{className:`text-lg transition-colors ${s("failed",e.vitals.failedSteps24h)}`,children:e.vitals.failedSteps24h})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(Pc,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Anomalies (24h)"}),f.jsx("div",{className:`text-lg transition-colors ${s("anomalies",e.vitals.anomalyDetections24h)}`,children:e.vitals.anomalyDetections24h})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(fT,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Human Overrides"}),f.jsx("div",{className:`text-lg transition-colors ${s("overrides",e.vitals.humanOverrides)}`,children:e.vitals.humanOverrides})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(Af,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Triggers/min"}),f.jsx("div",{className:"text-lg text-cyan-400",children:e.vitals.triggerCountPerMin})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-4 py-3 border border-slate-700",children:[f.jsx(rT,{className:"w-4 h-4 text-cyan-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Compute Load"}),f.jsxs("div",{className:`text-lg transition-colors ${s("load",e.vitals.computeLoadAvg)}`,children:[e.vitals.computeLoadAvg,"%"]})]})]})]}),e.state==="Executing"&&f.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-slate-700 overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-cyan-500 animate-pulse"})})]})}function T4(){const[t,e]=ne.useState(Jr.aoaFunctions);ne.useEffect(()=>{const s=setInterval(()=>{e(o=>o.map(c=>{const l=Math.floor(Math.random()*10)-5,h=Math.max(0,Math.min(100,c.metric+l));let d="optimal";return h<c.target-10?d="critical":h<c.target&&(d="warning"),{...c,metric:h,status:d}}))},8e3);return()=>clearInterval(s)},[]);const r=s=>{switch(s){case"optimal":return"bg-green-500/20 text-green-400";case"warning":return"bg-yellow-500/20 text-yellow-400";case"critical":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},i=s=>({discover:{label:"Agent Registry Health",description:"% of known agents responding to heartbeat pings",fullDescription:"Discovers and registers all active domain agents and their capabilities across the organization."},sense:{label:"Event Classification Accuracy",description:"% of incoming events correctly identified and enriched",fullDescription:"Monitors real-time events, anomalies, and trigger patterns across all agents and connected systems."},policy:{label:"Policy Compliance",description:"% of actions executing within guardrails (scope, permissions, SLAs)",fullDescription:"Ensures compliance with internal and external governance rules during orchestration."},plan:{label:"Plan Generation Success",description:"% of triggers converted into executable plans",fullDescription:"Generates, adjusts, and simulates coordination plans based on agent readiness and data flow states."},prioritize:{label:"Conflict Resolution Rate",description:"% of plan conflicts resolved automatically",fullDescription:"Assigns execution order and resource priority across competing agentic workflows."},execute:{label:"Execution Success Rate",description:"% of plan steps completed without errors",fullDescription:"Carries out automated corrective or optimization actions orchestrated by AOA in live environments."},budget:{label:"Guardrail Integrity",description:"% of actions staying within cost/time/risk thresholds",fullDescription:"Manages financial control and cost integrity across autonomous compute and resource allocations."},observe:{label:"Trace Completeness",description:"% of plans producing full observability traces",fullDescription:"Continuously tracks operational signals, telemetry, and feedback loops to evaluate performance."},learn:{label:"Learning Impact",description:"% of recurring plans that improved results",fullDescription:"Continuously refines orchestration policies and mappings through reinforcement learning."},lifecycle:{label:"Agent Health Coverage",description:"% of agents updated and resource-balanced",fullDescription:"Oversees agent onboarding, updates, health, and retirement cycles across the federated network."}})[s]||{label:"Unknown",description:"No description available",fullDescription:"No description available"};return f.jsxs("div",{className:"bg-slate-800/60 rounded-xl border border-slate-700 p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h2",{className:"text-xl font-medium text-cyan-400 mb-1",children:"AOA Functions"}),f.jsx("p",{className:"text-sm text-gray-400",children:"autonomOS Agent metrics"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:t.map(s=>{const{label:o,description:c,fullDescription:l}=i(s.id);return f.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors group cursor-help",title:l,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"text-sm font-medium text-slate-200",children:s.name}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r(s.status)}`,children:s.status})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("div",{className:"flex items-center gap-1 mb-1 group relative",children:[f.jsx("span",{className:"text-xs font-medium text-cyan-400",children:o}),f.jsx(jp,{className:"w-3 h-3 text-slate-500 hover:text-cyan-400 cursor-help"}),f.jsx("div",{className:"absolute left-0 top-full mt-2 w-48 bg-slate-950 border border-slate-700 rounded-lg p-3 text-xs text-slate-300 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 shadow-xl",children:c})]}),f.jsxs("div",{className:"text-3xl text-cyan-400",children:[s.metric,f.jsx("span",{className:"text-lg text-slate-500",children:s.unit})]}),f.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Target: ",s.target,s.unit]})]}),f.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-500 ${s.status==="optimal"?"bg-green-500":s.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.metric}%`}})})]},s.id)})}),f.jsx("div",{className:"mt-4 text-center py-3 px-6 bg-slate-800/30 rounded-lg border border-slate-700",children:f.jsx("p",{className:"text-sm text-slate-400",children:"Each % value represents real-time operational efficiency of that orchestration function vs its target SLO."})})]})}function N4({agents:t}){const e=i=>{switch(i){case"running":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-gray-500"}},r=i=>{i.includes("FinOps")?window.open("https://finopsagent.onrender.com/","_blank"):i.includes("RevOps")&&window.open("https://autonomos-revops-agent.onrender.com","_blank")};return f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-medium text-white cursor-help",title:"Displays real-time operational metrics for each domain agent. Each row represents execution throughput, CPU, and memory usage per active agent.",children:"Active Agent Performance"}),f.jsx("img",{src:"/robot-agents.png",alt:"AI Agents",className:"h-12 object-contain opacity-80 hover:opacity-100 transition-opacity"})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Agent"}),f.jsx("th",{className:"text-center text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Status"}),f.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Exec/hr"}),f.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"CPU"}),f.jsx("th",{className:"text-right text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Memory"})]})}),f.jsx("tbody",{children:t.map(i=>f.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 cursor-pointer transition-colors",onClick:()=>r(i.name),children:[f.jsx("td",{className:"py-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"text-sm font-medium text-white",children:i.name}),(i.name.includes("FinOps")||i.name.includes("RevOps"))&&f.jsx(nT,{className:"w-3.5 h-3.5 text-blue-400"})]})}),f.jsx("td",{className:"py-3",children:f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:`w-2 h-2 rounded-full ${e(i.status)} ${i.status==="running"?"animate-pulse":""}`})})}),f.jsx("td",{className:"py-3 text-right",children:f.jsx("span",{className:"text-sm text-gray-300",children:i.executionsPerHour})}),f.jsx("td",{className:"py-3 text-right",children:f.jsxs("span",{className:`text-sm font-medium ${i.cpuPercent>40?"text-red-400":i.cpuPercent>25?"text-yellow-400":"text-green-400"}`,children:[i.cpuPercent,"%"]})}),f.jsx("td",{className:"py-3 text-right",children:f.jsxs("span",{className:"text-sm text-gray-300",children:[i.memoryMB," MB"]})})]},i.id))})]})})]})}function A4({agents:t}){const[e]=ne.useState(Jr.xaoFunctions),r=s=>({cross_discovery:"Shows the total number of active API endpoints discovered across federated enterprises.",federation_health:"Represents the synchronization and uptime status of federated orchestrations.",trust_score:"Quantifies the inter-enterprise trust, reliability, and data fidelity score of cross-domain exchanges.",data_sovereignty:"Measures compliance with regional data residency and sovereignty requirements.",cost_allocation:"Displays the distribution of compute and resource costs across federated orchestration domains.",sla_compliance:"Tracks the service-level adherence of each orchestrated component relative to enterprise SLAs.",security_posture:"Federated security assessment score across all connected systems.",consensus_rate:"Multi-party agreement rate on orchestration decisions.",latency_p95:"95th percentile latency for cross-enterprise federated operations.",shared_agents:"Number of agents operating across enterprise boundaries.",interop_score:"System compatibility and integration health score.",dispute_resolution:"Average time to resolve orchestration conflicts between systems."})[s]||"",i=s=>{switch(s){case"up":return f.jsx(Ou,{className:"w-4 h-4 text-green-400"});case"down":return f.jsx(A1,{className:"w-4 h-4 text-red-400"});case"stable":return f.jsx(S1,{className:"w-4 h-4 text-gray-400"})}};return f.jsxs("div",{className:"bg-black border-t border-b border-cyan-500/30 py-12 -mx-6 px-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h2",{className:"text-3xl font-medium text-cyan-400 mb-3",children:"Agentic Orchestration at Scale"}),f.jsxs("div",{className:"space-y-1 text-white",children:[f.jsx("p",{className:"text-base font-normal",children:"Orchestrate agents across ecosystems"}),f.jsx("p",{className:"text-base font-normal",children:"Observe every agent interaction in real time"}),f.jsx("p",{className:"text-base font-normal",children:"Govern any agent, built anywhere"})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{id:"agent-performance-monitor",className:"grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-6",children:[f.jsx(S4,{}),f.jsx(N4,{agents:t})]}),f.jsx(T4,{}),f.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-cyan-500/30 p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-2xl font-medium text-cyan-400 mb-2 cursor-help",title:"Cross-Agentic Orchestration (xAO) coordinates multiple autonomOS instances across federated domains.",children:"xAO Metrics"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Cross-agentic orchestration metrics and coordination details"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(s=>f.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-colors cursor-help",title:r(s.id),children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-200",children:s.name}),i(s.trend)]})}),f.jsx("div",{className:"text-right",children:f.jsx("div",{className:"text-xl font-bold text-cyan-400",children:s.value})})]}),f.jsx("p",{className:"text-xs text-slate-500",children:s.description})]},s.id))})]})]})]})}const E4=[{id:"mr1",timestamp:"2025-10-17T14:32:18Z",sourceField:"sf_account.annual_revenue__c",unifiedField:"Account.AnnualRevenue",confidence:76,sourceSample:'{"annual_revenue__c": 2500000, "currency": "USD"}',llmReasoning:"Field name suggests annual revenue metric. Custom field suffix indicates Salesforce custom field. High semantic similarity to unified schema."},{id:"mr2",timestamp:"2025-10-17T14:28:45Z",sourceField:"ns_customer.credit_limit",unifiedField:"Account.CreditLimit",confidence:72,sourceSample:'{"credit_limit": 50000.00, "currency_id": 1}',llmReasoning:"NetSuite credit_limit field maps to Account CreditLimit. Moderate confidence due to currency handling differences."},{id:"mr3",timestamp:"2025-10-17T14:25:12Z",sourceField:"sf_opportunity.close_date_custom__c",unifiedField:"Opportunity.CloseDate",confidence:68,sourceSample:'{"close_date_custom__c": "2025-12-31"}',llmReasoning:"Custom close date field. Lower confidence due to potential for alternative close date fields in source."}],L4=[{id:"sc1",timestamp:"2025-10-17T13:15:00Z",source:"Salesforce Production",changeType:"added",field:"Account.customer_segment__c",description:"New custom field detected"},{id:"sc2",timestamp:"2025-10-17T12:48:00Z",source:"NetSuite ERP",changeType:"modified",field:"Customer.email",description:"Data type changed: VARCHAR(100)  VARCHAR(255)"},{id:"sc3",timestamp:"2025-10-17T11:22:00Z",source:"Snowflake DW",changeType:"removed",field:"Orders.legacy_id",description:"Field no longer present in schema"}],M4=[{id:"ap1",name:"RevOps Agent",status:"running",executionsPerHour:342,cpuPercent:23,memoryMB:512},{id:"ap2",name:"FinOps Agent",status:"running",executionsPerHour:189,cpuPercent:18,memoryMB:448},{id:"ap3",name:"Sales Forecasting",status:"warning",executionsPerHour:67,cpuPercent:45,memoryMB:892},{id:"ap4",name:"Churn Predictor",status:"running",executionsPerHour:124,cpuPercent:31,memoryMB:674},{id:"ap5",name:"Lead Scoring",status:"running",executionsPerHour:298,cpuPercent:19,memoryMB:423}];function Kx(){return f.jsxs("div",{className:"space-y-6",children:[f.jsx(w4,{}),f.jsx(C4,{}),f.jsx(_4,{}),f.jsx(b4,{mappings:E4,schemaChanges:L4}),f.jsx(A4,{agents:M4}),f.jsx(wT,{})]})}function j4(){const[t,e]=ne.useState(""),[r,i]=ne.useState(null),[s,o]=ne.useState(!1);ne.useEffect(()=>{const h=sessionStorage.getItem("lineageSearchQuery");h&&(e(h),o(!0),sessionStorage.removeItem("lineageSearchQuery"))},[]);const c={id:"node1",label:"Annual Revenue",stage:"Unified Ontology",metadata:{"Data Type":"DECIMAL(18,2)",Source:"Salesforce.Account.AnnualRevenue",Transformation:"Currency normalization to USD","Last Updated":"2025-10-17 14:32:18",Owner:"Data Engineering Team","Confidence Score":"94%","Used By":"RevOps Agent, FinOps Agent"}},l=[{id:"sources",label:"Raw Sources",color:"bg-blue-500"},{id:"transform",label:"DCL Transformations",color:"bg-purple-500"},{id:"ontology",label:"Unified Ontology",color:"bg-green-500"},{id:"agent",label:"Agent Consumption",color:"bg-orange-500"},{id:"output",label:"Final Output",color:"bg-pink-500"}];return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-medium text-white mb-2",children:"Data Lineage"}),f.jsx("p",{className:"text-gray-400",children:t?`Tracing lineage for: "${t}"`:"Trace data origins and transformations from source to output"}),!s&&f.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Use the search box on the ",f.jsx("a",{href:"#/connections",className:"text-orange-400 hover:text-orange-300 underline",children:"Connections"})," page to trace data lineage"]})]}),s&&f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-xl font-medium text-white mb-6",children:"Lineage Flow"}),f.jsx("div",{className:"flex items-center justify-between",children:l.map((h,d)=>f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`w-32 h-32 ${h.color} rounded-xl flex items-center justify-center mb-3 shadow-lg cursor-pointer hover:scale-105 transition-transform`,onClick:()=>i(c),children:f.jsx("span",{className:"text-white text-sm px-2 text-center",children:h.label})}),f.jsx("div",{className:"text-xs text-gray-500",children:"Click to explore"})]}),d<l.length-1&&f.jsx(Rc,{className:"w-8 h-8 text-gray-600 mx-4"})]},h.id))})]}),f.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 via-purple-900/20 to-pink-900/20 rounded-xl border border-gray-700 p-6 text-center",children:[f.jsx(C1,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Sankey Diagram Integration Area"}),f.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"This is the designated space for your existing Sankey visualization. The flow diagram will animate from left to right, showing data transformation through each stage. Click any node to view detailed properties in the side panel."})]})]}),r&&f.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-gray-900 border-l border-gray-800 shadow-2xl z-50 overflow-auto animate-in slide-in-from-right",children:[f.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-lg font-medium text-white",children:"Node Properties"}),f.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:f.jsx("span",{className:"text-gray-400 text-xl",children:""})})]}),f.jsx("div",{className:"text-sm text-blue-400",children:r.label}),f.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r.stage})]}),f.jsx("div",{className:"p-6 space-y-4",children:Object.entries(r.metadata).map(([h,d])=>f.jsxs("div",{className:"pb-4 border-b border-gray-800",children:[f.jsx("div",{className:"text-xs text-gray-500 tracking-wider mb-1",children:h}),f.jsx("div",{className:"text-sm text-gray-200",children:d})]},h))})]})]})}const Tc=g1,of=m1;function B4(t){switch(t){case"CRM":return f.jsx(Dp,{className:"w-5 h-5 text-blue-400"});case"ERP":return f.jsx(cT,{className:"w-5 h-5 text-green-400"});case"Database":return f.jsx(Pr,{className:"w-5 h-5 text-red-400"});case"Warehouse":return f.jsx(pT,{className:"w-5 h-5 text-cyan-400"});default:return f.jsx(N1,{className:"w-5 h-5 text-gray-400"})}}function D4(t){switch(t){case"CRM":return"bg-blue-900/30 border-blue-700/50";case"ERP":return"bg-green-900/30 border-green-700/50";case"Database":return"bg-red-900/30 border-red-700/50";case"Warehouse":return"bg-cyan-900/30 border-cyan-700/50";default:return"bg-gray-900/30 border-gray-700/50"}}function $4(){const[t,e]=ne.useState([]),[r,i]=ne.useState([]),[s,o]=ne.useState(!1),[c,l]=ne.useState("idle"),[h,d]=ne.useState(""),{state:p}=Av();ne.useEffect(()=>{e(v1()),i(b1())},[]),ne.useEffect(()=>{t.length>0&&localStorage.setItem("aos.selectedSources",JSON.stringify(t))},[t]),ne.useEffect(()=>{r.length>0&&localStorage.setItem("aos.selectedAgents",JSON.stringify(r))},[r]),ne.useEffect(()=>{s?l("connecting"):p?.selected_sources&&p.selected_sources.length>0?l("completed"):l("idle")},[s,p?.selected_sources]);const m=_=>{e(S=>S.includes(_)?S.filter(N=>N!==_):[...S,_])},x=_=>{i(S=>S.includes(_)?S.filter(N=>N!==_):[...S,_])},v=async()=>{if(t.length===0){alert("Please select at least one data source");return}if(r.length===0){alert("Please select at least one agent");return}o(!0);try{const _=t.join(","),S=r.join(","),N=await fetch(yt.buildDclUrl(`/connect?sources=${_}&agents=${S}`));if(!N.ok)throw new Error(`Connection failed: ${N.statusText}`);window.dispatchEvent(new Event("dcl-state-changed")),window.dispatchEvent(new CustomEvent("dcl:trigger-run",{detail:{source:"connections"}}))}catch(_){console.error("Error connecting:",_),alert("Connection failed. Please try again.")}finally{setTimeout(()=>o(!1),1500)}},b=()=>{e(Tc.map(_=>_.value)),i(of.map(_=>_.value))},C=()=>{h.trim()&&(window.location.hash="#/data-lineage",sessionStorage.setItem("lineageSearchQuery",h))};return f.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Data Connection Layer (DCL)"}),f.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Select data sources and agents to create unified entity mappings"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[f.jsx(Pr,{className:"w-5 h-5 text-blue-400"}),"Data Sources (",t.length,"/",Tc.length,")"]}),f.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:Tc.map(_=>f.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all min-h-[44px] active:opacity-80 ${t.includes(_.value)?"bg-blue-900/40 border-blue-500/50 ring-1 ring-blue-500/30":`${D4(_.type)} hover:border-gray-600`}`,children:[f.jsx("input",{type:"checkbox",checked:t.includes(_.value),onChange:()=>m(_.value),className:"mt-1 w-5 h-5 rounded border-gray-600 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-900"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[B4(_.type),f.jsx("span",{className:"font-semibold text-white text-sm",children:_.name})]}),f.jsx("p",{className:"text-xs text-gray-400 truncate",children:_.description})]})]},_.id))})]}),f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[f.jsx(Nf,{className:"w-5 h-5 text-orange-400"}),"Trace Data Lineage"]}),f.jsxs("div",{className:"relative",children:[f.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Search for KPI, Report, or Unified Entity...",value:h,onChange:_=>d(_.target.value),onKeyDown:_=>_.key==="Enter"&&C(),className:"w-full bg-gray-900 text-gray-200 pl-10 pr-3 py-3 rounded-lg border border-gray-700 focus:outline-none focus:border-orange-500 transition-colors text-sm"})]}),f.jsx("button",{onClick:C,disabled:!h.trim(),className:"mt-3 w-full px-4 py-2.5 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors text-sm",children:"Trace Lineage"})]})]}),f.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[f.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-4 py-3 min-h-[44px] bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 active:from-blue-800 active:to-purple-800 text-white font-semibold rounded-lg shadow-lg shadow-blue-500/30 transition-all",children:[f.jsx(Pr,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm sm:text-base",children:"Select All Sources & Agents"})]}),f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[f.jsx(Lt,{className:"w-5 h-5 text-purple-400"}),"Intelligence Agents (",r.length,"/",of.length,")"]}),f.jsx("div",{className:"space-y-2",children:of.map(_=>f.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all min-h-[44px] active:opacity-80 ${r.includes(_.value)?"bg-purple-900/40 border-purple-500/50 ring-1 ring-purple-500/30":"bg-gray-900/30 border-gray-700/50 hover:border-gray-600"}`,children:[f.jsx("input",{type:"checkbox",checked:r.includes(_.value),onChange:()=>x(_.value),className:"mt-1 w-5 h-5 rounded border-gray-600 text-purple-500 focus:ring-purple-500 focus:ring-offset-gray-900"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"font-semibold text-white text-sm block mb-1",children:_.name}),f.jsx("p",{className:"text-xs text-gray-400",children:_.description})]})]},_.id))})]}),f.jsx("div",{className:"space-y-3",children:f.jsx("button",{onClick:v,disabled:s||t.length===0||r.length===0,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx(T1,{className:"w-5 h-5"}),"Connect Sources"]})})}),f.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-gray-700 rounded-lg p-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[f.jsx(Lt,{className:"w-5 h-5 text-orange-400"}),"Connection Progress"]}),c==="idle"&&f.jsxs("div",{className:"text-center py-6",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gray-700/50 flex items-center justify-center",children:f.jsx(Pr,{className:"w-8 h-8 text-gray-500"})}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Select sources and click Connect to begin"})]}),c==="connecting"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-gray-400",children:"Connecting sources..."}),f.jsx(eu,{className:"w-4 h-4 text-blue-400 animate-spin"})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full animate-pulse",style:{width:"60%"}})}),f.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Processing mappings and creating unified views..."})]}),c==="completed"&&p&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Pr,{className:"w-4 h-4 text-blue-400"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Sources"})]}),f.jsx("div",{className:"text-xl font-bold text-blue-400",children:p.selected_sources?.length||0})]}),f.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Lt,{className:"w-4 h-4 text-purple-400"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Agents"})]}),f.jsx("div",{className:"text-xl font-bold text-purple-400",children:p.selected_agents?.length||0})]})]}),p.graph?.confidence!==null&&p.graph?.confidence!==void 0&&f.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-gray-400",children:"Mapping Confidence"}),f.jsxs("span",{className:"text-lg font-bold text-green-400",children:[Math.round((p.graph.confidence||0)*100),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-full transition-all duration-500",style:{width:`${Math.round((p.graph.confidence||0)*100)}%`}})})]}),f.jsxs("div",{className:"mt-3",children:[f.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Connected Sources:"}),f.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:p.selected_sources?.map(_=>{const S=Tc.find(N=>N.value===_);return f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300 bg-gray-800/50 rounded px-2 py-1.5",children:[f.jsx(jo,{className:"w-3 h-3 text-green-400 flex-shrink-0"}),f.jsx("span",{className:"flex-1",children:S?.name||_})]},_)})})]}),p.graph?.last_updated&&f.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t border-gray-700",children:["Last updated: ",p.graph.last_updated]})]})]}),p&&f.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:f.jsxs("div",{className:"text-sm space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Connected Sources:"}),f.jsx("span",{className:"text-blue-400 font-semibold",children:p.selected_sources?.length||0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Active Agents:"}),f.jsx("span",{className:"text-purple-400 font-semibold",children:p.selected_agents?.length||0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Mode:"}),f.jsx("span",{className:`font-semibold ${p.dev_mode?"text-purple-400":"text-gray-400"}`,children:p.dev_mode?"Dev (AI)":"Prod"})]})]})})]})]})]})}function F4(){const[t,e]=ne.useState(null),[r,i]=ne.useState(!0),[s,o]=ne.useState(null),[c,l]=ne.useState(""),[h,d]=ne.useState(new Set),[p,m]=ne.useState(new Set),[x,v]=ne.useState(new Set),[b,C]=ne.useState("entities");ne.useEffect(()=>{_()},[]);const _=async()=>{i(!0),o(null);try{const q=await fetch(yt.buildDclUrl("/ontology_schema"));if(!q.ok)throw new Error(`Failed to fetch ontology schema: ${q.statusText}`);const te=await q.json();e(te)}catch(q){console.error("Error fetching ontology schema:",q),o(q instanceof Error?q.message:"Failed to load ontology schema")}finally{i(!1)}},S=q=>{d(te=>{const Q=new Set(te);return Q.has(q)?Q.delete(q):Q.add(q),Q})},N=q=>{m(te=>{const Q=new Set(te);return Q.has(q)?Q.delete(q):Q.add(q),Q})},M=q=>{v(te=>{const Q=new Set(te);return Q.has(q)?Q.delete(q):Q.add(q),Q})},D=(()=>{const q={};return t&&Object.values(t).forEach(te=>{te.source_mappings.forEach(Q=>{const{source_system:F,source_table:ee,source_fields:Z}=Q;q[F]||(q[F]={}),q[F][ee]||(q[F][ee]=[]),Z.forEach(U=>{q[F][ee].includes(U)||q[F][ee].push(U)})})}),q})(),V=t?Object.entries(t).filter(([q])=>q.toLowerCase().includes(c.toLowerCase())):[],z=Object.entries(D).filter(([q])=>q.toLowerCase().includes(c.toLowerCase()));return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"px-6 py-4 space-y-1",children:[f.jsx("h1",{className:"text-2xl font-medium text-white",children:"Ontology Schema"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Define the canonical entities and their structure for unified data mapping"})]}),f.jsx("div",{className:"px-6",children:f.jsxs("div",{className:"flex gap-2 border-b border-gray-700",children:[f.jsx("button",{onClick:()=>C("entities"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${b==="entities"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_1,{className:"w-4 h-4"}),"Unified Entities View"]})}),f.jsx("button",{onClick:()=>C("universe"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${b==="universe"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yx,{className:"w-4 h-4"}),"Data Source Universe (Raw Materials)"]})})]})}),f.jsx("div",{className:"px-6",children:f.jsxs("div",{className:"relative",children:[f.jsx(Nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:b==="entities"?"Search entities...":"Search data sources...",value:c,onChange:q=>l(q.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50"})]})}),f.jsxs("div",{className:"px-6",children:[r&&f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-12 text-center",children:[f.jsx(eu,{className:"w-12 h-12 text-blue-400 animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading ontology schema..."})]}),s&&f.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-6 text-center",children:[f.jsx(KS,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),f.jsx("p",{className:"text-red-400 font-semibold mb-2",children:"Error Loading Schema"}),f.jsx("p",{className:"text-gray-400 text-sm",children:s}),f.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Retry"})]}),!r&&!s&&t&&b==="entities"&&f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-900/50 border-b border-gray-700",children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Entity Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Primary Key"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Unified Fields"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Data Sources"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Source Tables"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-400 tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-700",children:V.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[f.jsx(k1,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-400",children:c?"No entities match your search":"No entities defined in ontology"})]})}):V.map(([q,te])=>{const Q=h.has(q),F=[...new Set(te.source_mappings.map(Z=>Z.source_system))],ee=te.source_mappings.map(Z=>`${Z.source_system}/${Z.source_table}`);return f.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pr,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),f.jsx("span",{className:"text-white",children:q})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("code",{className:"px-2 py-1 bg-gray-900/50 border border-gray-600 rounded text-sm text-cyan-400",children:te.pk})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-purple-900/30 border border-purple-500/30 text-purple-400",children:[te.fields.length," ",te.fields.length===1?"field":"fields"]})}),f.jsx("td",{className:"px-6 py-4",children:F.length>0?f.jsx("div",{className:"flex flex-wrap gap-1",children:F.map(Z=>f.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-900/30 border border-green-500/30 text-green-400",children:Z},Z))}):f.jsx("span",{className:"text-gray-500 text-sm",children:"No sources"})}),f.jsx("td",{className:"px-6 py-4",children:ee.length>0?f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-900/30 border border-blue-500/30 text-blue-400",children:[ee.length," ",ee.length===1?"table":"tables"]}):f.jsx("span",{className:"text-gray-500 text-sm",children:"No tables"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("button",{onClick:()=>S(q),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-lg text-sm text-gray-300 transition-colors",children:Q?f.jsxs(f.Fragment,{children:[f.jsx(Bo,{className:"w-4 h-4"}),"Collapse"]}):f.jsxs(f.Fragment,{children:[f.jsx(ef,{className:"w-4 h-4"}),"Expand"]})})})]},q)})})]})}),V.map(([q,te])=>h.has(q)?f.jsxs("div",{className:"border-t border-gray-700 bg-gray-900/30 px-6 py-4 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:["Unified Fields for ",f.jsx("span",{className:"text-white",children:q}),":"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:te.fields.map(F=>f.jsx("code",{className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300",children:F},F))})]}),te.source_mappings.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Source Mappings (Raw Data Tables & Fields):"}),f.jsx("div",{className:"space-y-3",children:te.source_mappings.map((F,ee)=>f.jsxs("div",{className:"bg-gray-800/50 border border-gray-600 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-900/30 border border-green-500/30 text-green-400",children:F.source_system}),f.jsx("span",{className:"text-gray-400",children:"/"}),f.jsx("code",{className:"px-2 py-1 bg-gray-900/50 border border-gray-600 rounded text-xs text-blue-400",children:F.source_table}),f.jsxs("span",{className:"text-gray-500 text-xs ml-auto",children:[F.field_count," ",F.field_count===1?"field mapping":"field mappings"]})]}),F.source_fields.length>0&&f.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:F.source_fields.map((Z,U)=>f.jsx("code",{className:"px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs text-gray-400",children:Z},U))})]},ee))})]})]},`${q}-details`):null)]}),!r&&!s&&t&&b==="universe"&&f.jsx("div",{className:"space-y-4",children:z.length===0?f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-12 text-center",children:[f.jsx(yx,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-400",children:c?"No data sources match your search":"No data sources available"})]}):z.map(([q,te])=>{const Q=p.has(q),F=Object.keys(te).length,ee=Object.values(te).reduce((Z,U)=>Z+U.length,0);return f.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden",children:[f.jsx("div",{onClick:()=>N(q),className:"px-6 py-4 bg-gray-900/30 hover:bg-gray-900/50 cursor-pointer transition-colors",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[Q?f.jsx(Bo,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):f.jsx(ef,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),f.jsx(Pr,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),f.jsx("h3",{className:"text-lg font-medium text-white",children:q})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-blue-900/30 border border-blue-500/30 text-blue-400",children:[F," ",F===1?"table":"tables"]}),f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-purple-900/30 border border-purple-500/30 text-purple-400",children:[ee," ",ee===1?"field":"fields"]})]})]})}),Q&&f.jsx("div",{className:"px-6 py-4 space-y-3",children:Object.entries(te).map(([Z,U])=>{const j=`${q}__${Z}`,$=x.has(j);return f.jsxs("div",{className:"bg-gray-900/30 border border-gray-600 rounded-lg overflow-hidden",children:[f.jsx("div",{onClick:()=>M(j),className:"px-4 py-3 hover:bg-gray-700/30 cursor-pointer transition-colors",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[$?f.jsx(Bo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):f.jsx(ef,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),f.jsx(hT,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),f.jsx("code",{className:"text-sm font-medium text-blue-400",children:Z})]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[U.length," ",U.length===1?"field":"fields"]})]})}),$&&f.jsx("div",{className:"px-4 py-3 border-t border-gray-700 bg-gray-800/50",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:U.sort().map((O,E)=>f.jsx("code",{className:"px-3 py-1.5 bg-gray-900 border border-gray-600 rounded text-xs text-gray-300",children:O},E))})})]},j)})})]},q)})}),!r&&!s&&t&&f.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-400",children:[f.jsx("span",{children:b==="entities"?f.jsxs(f.Fragment,{children:["Showing ",V.length," of ",Object.keys(t).length," ",Object.keys(t).length===1?"entity":"entities"]}):f.jsxs(f.Fragment,{children:["Showing ",z.length," of ",Object.keys(D).length," ",Object.keys(D).length===1?"data source":"data sources"]})}),c&&f.jsx("button",{onClick:()=>l(""),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Clear search"})]})]})]})}function P4(){const[t,e]=ne.useState(0),r=s=>{e(t===s?null:s)},i=[{question:"What is AutonomOS?",answer:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-gray-300",children:["AutonomOS is an AI-native, ",f.jsx("strong",{className:"text-white",children:"enterprise-grade"})," platform that turns your scattered company data into action."]}),f.jsxs("p",{className:"text-gray-300",children:["It autonomously connects to all your apps, databases, and files, learning how they fit together to create a single, unified enterprise ",f.jsx("strong",{className:"text-white",children:"ontology"}),". This allows our specialized AI agents to reason, act, and get work done."]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-3",children:"The Problem"}),f.jsx("p",{className:"text-gray-300",children:`Most companies are data-rich but action-poor. They can't bridge the "Insight-to-Action Gap" between their data and their business goals, leading to inefficiency and inaction.`})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-3",children:"Our Solution"}),f.jsxs("p",{className:"text-gray-300",children:["AutonomOS bridges this gap. It not only unifies your data but empowers pre-built AI agents to execute complex workflows. You remain in control with Human-in-the-Loop (HITL) guardrails. We deliver a complete, ",f.jsx("strong",{className:"text-white",children:"secure"}),", and scalable solutioncombining technology with the domain expertise to ensure you get results, not just another proof-of-concept (POC)."]})]})]})},{question:"What are your security standards?",answer:f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{children:[f.jsx("h4",{className:"text-[#0BCAD9] font-medium text-lg mb-4",children:"Security & Compliance Roadmap"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full border-collapse",children:[f.jsxs("thead",{children:[f.jsxs("tr",{className:"bg-[#0D2F3F]",children:[f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 0: Secure Core (Today)"}),f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 1: Enterprise Readiness (06 Months)"}),f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-3 text-left text-white font-medium",children:"Phase 2: Continuous Compliance (618 Months)"})]}),f.jsxs("tr",{className:"bg-[#0A2540]",children:[f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Status: Implemented"}),f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Goal: Pass Enterprise Security Assessments"}),f.jsx("th",{className:"border border-[#1A4D5E] px-4 py-2 text-left text-[#0BCAD9] font-normal text-sm",children:"Goal: Operate with Automated Trust at Scale"})]})]}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Zero Data Retention Model"})," (Ephemeral in-memory processing)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"SOC 2 Type I Certification"})," (Fast-tracked)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"SOC 2 Type II + ISO 27001"})})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Robust Multi-Tenant Isolation"})," (DB-level, tenant-scoped queries)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"3rd-Party Penetration Test"})})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"Bring Your Own Key (BYOK)"})})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Zero-Trust Infrastructure"})," (VPC, TLS 1.3, Secrets Mgmt)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Single Sign-On (SSO)"})," (Okta, Azure AD)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"Customer-Managed RBAC"})})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Secure API & Software Lifecycle"})," (Pydantic validation, CI/CD scans)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Private Connectivity"})," (AWS PrivateLink)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"Regional Data Residency Controls"})})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-white",children:"Immutable Audit Trail"})," (Metadata-only logging)"]})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"Public Trust Portal & Incident Response Plan"})})]})}),f.jsx("td",{className:"border border-[#1A4D5E] px-4 py-3 text-gray-300 align-top",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{children:f.jsx("strong",{className:"text-white",children:"AI-Driven Threat Detection"})})]})})]})]})]})})]})})},{question:"What is the Adaptive API Mesh (AAM)?",answer:"The Adaptive API Mesh is an intelligent connectivity layer that uses AI to automatically build, maintain, and repair connections between disparate enterprise systems. It provides self-healing integration capabilities that adapt to changes in your data sources and APIs, ensuring your workflows remain resilient and operational without manual intervention."},{question:"How does the Data Connectivity Layer (DCL) work?",answer:"The DCL is the core data intelligence engine that autonomously maps disparate data sets into a Unified Enterprise Ontology. It uses AI to understand your data semantics, create contextual relationships, and generate AI-ready data streams. The DCL feeds a Contextual RAG engine that continuously learns from your data patterns, enabling intelligent agents to make informed decisions."},{question:"What are Prebuilt Domain Agents?",answer:"Prebuilt Domain Agents are productized domain expertise packages designed for specific business functions like FinOps and RevOps. These agents leverage the AI-prepared data fabric to autonomously execute complex, end-to-end business workflows. They use advanced LLM capabilities (supporting multiple providers like Gemini and OpenAI) to reason about your data, learn from patterns, and take intelligent actions."},{question:"Can I customize the agents and workflows?",answer:"Yes, while we provide Prebuilt Domain Agents for common use cases, the platform supports custom agent deployment. You can leverage our AI-prepared data fabric and orchestration capabilities to build agents tailored to your specific business needs. The LLM service abstraction allows you to choose the best model for each task."}];return f.jsx("div",{className:"min-h-screen bg-[#0A1628] py-8 px-4 safe-area",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-medium text-white mb-4",children:"Frequently Asked Questions"}),f.jsx("p",{className:"text-gray-400 text-lg",children:"Learn more about AutonomOS and its AI-native capabilities"})]}),f.jsx("div",{className:"space-y-4",children:i.map((s,o)=>f.jsxs("div",{className:"bg-[#0D2F3F] border border-[#1A4D5E] rounded-xl overflow-hidden",children:[f.jsxs("button",{onClick:()=>r(o),className:"w-full px-6 py-5 flex items-center justify-between text-left hover:bg-[#0F3A4F] transition-colors",children:[f.jsx("h3",{className:"text-lg font-medium text-white pr-4",children:s.question}),t===o?f.jsx(eT,{className:"w-5 h-5 text-[#0BCAD9] flex-shrink-0"}):f.jsx(Bo,{className:"w-5 h-5 text-[#0BCAD9] flex-shrink-0"})]}),t===o&&f.jsx("div",{className:"px-6 py-5 border-t border-[#1A4D5E] bg-[#0A2540]",children:typeof s.answer=="string"?f.jsx("p",{className:"text-gray-300 leading-relaxed",children:s.answer}):s.answer})]},o))}),f.jsx("div",{className:"mt-12 text-center",children:f.jsxs("div",{className:"bg-[#0D2F3F] border border-[#0BCAD9]/30 rounded-xl p-8",children:[f.jsx("h3",{className:"text-xl font-medium text-white mb-3",children:"Still have questions?"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Our team is here to help you understand how AutonomOS can transform your enterprise intelligence."}),f.jsx("button",{className:"px-6 py-3 bg-[#0BCAD9] hover:bg-[#0AA5B3] text-white rounded-lg font-medium transition-colors",children:"Contact Support"})]})})]})})}function R4(){const t=ne.useContext(w1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function O4({isOpen:t,onClose:e,initialMode:r="login"}){const[i,s]=ne.useState(r==="signup"?"register":"login"),[o,c]=ne.useState(!1),[l,h]=ne.useState(""),[d,p]=ne.useState(!1),[m,x]=ne.useState(""),[v,b]=ne.useState(""),[C,_]=ne.useState(""),[S,N]=ne.useState(""),[M,P]=ne.useState(""),{login:D,register:V}=R4(),z=ne.useRef(null);if(ne.useEffect(()=>{t&&z.current&&setTimeout(()=>z.current?.focus(),100)},[t,i]),ne.useEffect(()=>{h("")},[i]),!t)return null;const q=async Q=>{Q.preventDefault(),h(""),c(!0);try{await D(m,v),e()}catch(F){h(F.message||"Invalid credentials")}finally{c(!1)}},te=async Q=>{Q.preventDefault(),h(""),c(!0);try{await V(C,S,M),e()}catch(F){h(F.message||"Registration failed")}finally{c(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-fadeIn",children:f.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl w-full max-w-md mx-4 animate-slideUp",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-white",children:"Welcome to autonomOS"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Sign in to continue"})]})]}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",disabled:o,children:f.jsx(zo,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("button",{onClick:()=>s("login"),className:`flex-1 py-2.5 rounded-lg font-medium transition-all ${i==="login"?"bg-cyan-600 text-white shadow-lg shadow-cyan-600/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,disabled:o,children:"Login"}),f.jsx("button",{onClick:()=>s("register"),className:`flex-1 py-2.5 rounded-lg font-medium transition-all ${i==="register"?"bg-cyan-600 text-white shadow-lg shadow-cyan-600/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,disabled:o,children:"Register"})]}),l&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-400",children:l})}),i==="login"?f.jsxs("form",{onSubmit:q,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),f.jsx("input",{ref:z,type:"email",value:m,onChange:Q=>x(Q.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"your@email.com",required:!0,disabled:o})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:d?"text":"password",value:v,onChange:Q=>b(Q.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12",placeholder:"",required:!0,disabled:o}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:o,children:d?f.jsx(xx,{className:"w-5 h-5"}):f.jsx(Io,{className:"w-5 h-5"})})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-semibold rounded-lg transition-all shadow-lg shadow-cyan-600/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?f.jsxs(f.Fragment,{children:[f.jsx(eu,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Log In"})]}):f.jsxs("form",{onSubmit:te,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),f.jsx("input",{ref:z,type:"text",value:C,onChange:Q=>_(Q.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"Your Name",required:!0,disabled:o})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:S,onChange:Q=>N(Q.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"your@email.com",required:!0,disabled:o})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:d?"text":"password",value:M,onChange:Q=>P(Q.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors pr-12",placeholder:"",required:!0,minLength:6,disabled:o}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:o,children:d?f.jsx(xx,{className:"w-5 h-5"}):f.jsx(Io,{className:"w-5 h-5"})})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),f.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-semibold rounded-lg transition-all shadow-lg shadow-cyan-600/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?f.jsxs(f.Fragment,{children:[f.jsx(eu,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]})]})})})}function I4(){const[t,e]=ne.useState([]),[r,i]=ne.useState(null),[s,o]=ne.useState([]),[c,l]=ne.useState([]),[h,d]=ne.useState(!0),[p,m]=ne.useState(null),x=ne.useRef(null),[v,b]=ne.useState(null),[C,_]=ne.useState(null),[S,N]=ne.useState(null),[M,P]=ne.useState(null),[D,V]=ne.useState(!0),[z,q]=ne.useState(null),te=async()=>{try{const L=await fetch(yt.buildApiUrl("/aam/status"));if(!L.ok)throw new Error("Failed to fetch AAM status");const H=await L.json();e(H.services||[])}catch(L){console.error("Error fetching AAM status:",L)}},Q=async()=>{try{const L=await fetch(yt.buildApiUrl("/aam/metrics"));if(!L.ok)throw new Error("Failed to fetch AAM metrics");const H=await L.json();i(H)}catch(L){console.error("Error fetching AAM metrics:",L),m("Failed to load metrics")}},F=async()=>{try{const L=await fetch(yt.buildApiUrl("/aam/connections"));if(!L.ok)throw new Error("Failed to fetch AAM connections");const H=await L.json();o(H.connections||[])}catch(L){console.error("Error fetching AAM connections:",L)}},ee=async()=>{try{const L=await fetch(yt.buildApiUrl("/aam/events?limit=50"));if(!L.ok)throw new Error("Failed to fetch AAM events");const H=await L.json();l(H.events||[])}catch(L){console.error("Error fetching AAM events:",L)}},Z=async()=>{V(!0),q(null);try{const[L,H,A,G]=await Promise.all([fetch(yt.buildApiUrl("/aam/intelligence/mappings")).then(ie=>ie.json()),fetch(yt.buildApiUrl("/aam/intelligence/drift_events_24h")).then(ie=>ie.json()),fetch(yt.buildApiUrl("/aam/intelligence/rag_queue")).then(ie=>ie.json()),fetch(yt.buildApiUrl("/aam/intelligence/repair_metrics")).then(ie=>ie.json())]);b(L),_(H),N(A),P(G)}catch(L){console.error("Error fetching intelligence data:",L),q("Failed to load intelligence data")}finally{V(!1)}},U=async()=>{d(!0),await Promise.all([te(),Q(),F(),ee(),Z()]),d(!1)};ne.useEffect(()=>{U()},[]);const j=L=>{const H={running:"bg-green-500/10 text-green-500 border-green-500/20",active:"bg-green-500/10 text-green-500 border-green-500/20",healing:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",pending:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",stopped:"bg-red-500/10 text-red-500 border-red-500/20",failed:"bg-red-500/10 text-red-500 border-red-500/20",error:"bg-red-500/10 text-red-500 border-red-500/20",inactive:"bg-gray-500/10 text-gray-500 border-gray-500/20"},A=H[L.toLowerCase()]||H.inactive;return f.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${A}`,children:L.toUpperCase()})},$=L=>{switch(L){case"drift_detected":return f.jsx(Pc,{className:"w-4 h-4 text-yellow-500"});case"repair_success":return f.jsx(jo,{className:"w-4 h-4 text-green-500"});case"sync_completed":return f.jsx(jo,{className:"w-4 h-4 text-blue-500"});case"sync_running":return f.jsx(Lt,{className:"w-4 h-4 text-blue-500 animate-pulse"});default:return f.jsx(Lt,{className:"w-4 h-4 text-gray-500"})}},O=L=>L?new Date(L).toLocaleString():"N/A",E=L=>{if(L<60)return`${L.toFixed(1)}s`;const H=Math.floor(L/60),A=L%60;return`${H}m ${A.toFixed(0)}s`};return h&&!r?f.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Lt,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading AAM Dashboard..."})]})}):f.jsxs("div",{className:"space-y-6 pb-8",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"AAM Monitoring Dashboard"}),f.jsx("p",{className:"text-gray-400",children:"Real-time monitoring of Adaptive API Mesh services and connections"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:U,disabled:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 text-white rounded-lg transition-colors",children:[f.jsx(lT,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Manual Refresh"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Manual refresh required"})]})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(N1,{className:"w-5 h-5 text-blue-400"}),f.jsx("h2",{className:"text-lg font-medium text-white",children:"Service Status"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(L=>f.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[L.name.includes("Schema")&&f.jsx(Io,{className:"w-4 h-4 text-purple-400"}),L.name.includes("RAG")&&f.jsx(Tf,{className:"w-4 h-4 text-cyan-400"}),L.name.includes("Drift")&&f.jsx(E1,{className:"w-4 h-4 text-orange-400"}),L.name.includes("Orchestrator")&&f.jsx(Pr,{className:"w-4 h-4 text-green-400"}),f.jsx("span",{className:"text-sm font-medium text-white",children:L.name})]}),f.jsx("div",{className:`w-2 h-2 rounded-full ${L.status==="running"?"bg-green-500 animate-pulse":"bg-red-500"}`})]}),f.jsxs("div",{className:"text-xs text-gray-400",children:["Port: ",L.port]}),j(L.status)]},L.name))})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sT,{className:"w-5 h-5 text-purple-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Mappings"})]}),D&&f.jsx(Lt,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),f.jsx("div",{className:"text-3xl font-bold text-white",children:D?"...":v?.total||0}),f.jsxs("div",{className:"text-sm text-gray-500 mt-2 space-y-1",children:[f.jsxs("div",{children:["Autofix: ",D?"...":`${v?.autofix_pct||0}%`]}),f.jsxs("div",{children:["HITL: ",D?"...":`${v?.hitl_pct||0}%`]})]}),z&&f.jsx("div",{className:"text-xs text-red-400 mt-2",children:z})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pc,{className:"w-5 h-5 text-orange-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Drift Events (24h)"})]}),D&&f.jsx(Lt,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),f.jsx("div",{className:"text-3xl font-bold text-white",children:D?"...":C?.total||0}),f.jsx("div",{className:"text-sm text-gray-500 mt-2",children:D?"Loading...":C&&Object.keys(C.by_source).length>0?f.jsx("div",{className:"space-y-1",children:Object.entries(C.by_source).map(([L,H])=>f.jsxs("div",{children:[L,": ",H]},L))}):"No sources detected"}),z&&f.jsx("div",{className:"text-xs text-red-400 mt-2",children:z})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tf,{className:"w-5 h-5 text-cyan-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"RAG Suggestions"})]}),D&&f.jsx(Lt,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),f.jsx("div",{className:"text-3xl font-bold text-white",children:D?"...":S?.pending||0}),f.jsxs("div",{className:"text-sm text-gray-500 mt-2 space-y-1",children:[f.jsxs("div",{children:["Pending: ",D?"...":S?.pending||0]}),f.jsxs("div",{children:["Accepted: ",D?"...":S?.accepted||0," | Rejected: ",D?"...":S?.rejected||0]})]}),z&&f.jsx("div",{className:"text-xs text-red-400 mt-2",children:z})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(dT,{className:"w-5 h-5 text-green-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Repair Confidence"})]}),D&&f.jsx(Lt,{className:"w-4 h-4 text-gray-400 animate-spin"})]}),f.jsx("div",{className:"text-3xl font-bold text-white",children:D?"...":`${((M?.avg_confidence||0)*100).toFixed(0)}%`}),f.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Test Pass Rate: ",D?"...":`${((M?.test_pass_rate||0)*100).toFixed(0)}%`]}),z&&f.jsx("div",{className:"text-xs text-red-400 mt-2",children:z})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pr,{className:"w-5 h-5 text-blue-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Connections"})]})}),f.jsx("div",{className:"text-3xl font-bold text-white",children:r?.total_connections||0}),r?.active_connections!==void 0&&f.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.active_connections," active"]})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pc,{className:"w-5 h-5 text-yellow-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Drift Detections (24h)"})]})}),f.jsx("div",{className:"text-3xl font-bold text-white",children:r?.active_drift_detections_24h||0})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(jo,{className:"w-5 h-5 text-green-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Successful Repairs (24h)"})]})}),f.jsx("div",{className:"text-3xl font-bold text-white",children:r?.successful_repairs_24h||0})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(L1,{className:"w-5 h-5 text-red-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Manual Reviews (24h)"})]})}),f.jsx("div",{className:"text-3xl font-bold text-white",children:r?.manual_reviews_required_24h||0})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ou,{className:"w-5 h-5 text-cyan-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Avg Confidence Score"})]})}),f.jsxs("div",{className:"text-3xl font-bold text-white",children:[((r?.average_confidence_score||0)*100).toFixed(0),"%"]})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tT,{className:"w-5 h-5 text-purple-400"}),f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Avg Repair Time"})]})}),f.jsx("div",{className:"text-3xl font-bold text-white",children:E(r?.average_repair_time_seconds||0)})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Pr,{className:"w-5 h-5 text-green-400"}),f.jsx("h2",{className:"text-lg font-medium text-white",children:"Connection Health"})]}),f.jsx("div",{className:"overflow-auto max-h-[400px]",children:s.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500",children:"No connections found"}):f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"sticky top-0 bg-gray-900",children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Connection"}),f.jsx("th",{className:"text-left text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Source"}),f.jsx("th",{className:"text-center text-xs font-medium text-gray-500 tracking-wider pb-3",children:"Status"})]})}),f.jsx("tbody",{children:s.map(L=>f.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 transition-colors",children:[f.jsxs("td",{className:"py-3",children:[f.jsx("div",{className:"text-sm font-medium text-white",children:L.name}),f.jsx("div",{className:"text-xs text-gray-500",children:new Date(L.updated_at).toLocaleDateString()})]}),f.jsx("td",{className:"py-3",children:f.jsx("div",{className:"text-sm text-gray-300",children:L.source_type})}),f.jsx("td",{className:"py-3 text-center",children:j(L.status)})]},L.id))})]})})]}),f.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Lt,{className:"w-5 h-5 text-blue-400"}),f.jsx("h2",{className:"text-lg font-medium text-white",children:"Recent Events"})]}),f.jsx("div",{ref:x,className:"overflow-auto max-h-[400px] space-y-2",children:c.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent events"}):c.map(L=>f.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700 hover:border-gray-600 transition-colors",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-0.5",children:$(L.event_type)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[f.jsx("span",{className:"text-sm font-medium text-white truncate",children:L.connection_name}),f.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:O(L.started_at||L.timestamp)})]}),f.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:[L.event_type.replace(/_/g," ").toUpperCase(),L.source_type&&`  ${L.source_type}`]}),L.error_message&&f.jsx("div",{className:"text-xs text-red-400 mt-1",children:L.error_message}),L.message&&f.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.message})]})]})},L.id))})]})]}),r?.data_source&&f.jsxs("div",{className:"text-center text-xs text-gray-600",children:["Data source: ",r.data_source,"  Last updated: ",O(r.timestamp)]})]})}const z4="modulepreload",W4=function(t){return"/"+t},Zx={},it=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=h(r.map(d=>{if(d=W4(d),d in Zx)return;Zx[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":z4,p||(x.as="script"),x.crossOrigin="",x.href=d,l&&x.setAttribute("nonce",l),document.head.appendChild(x),p)return new Promise((v,b)=>{x.addEventListener("load",v),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var Jx={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Hc={exports:{}},H4=Hc.exports,ey;function q4(){return ey||(ey=1,(function(t,e){(function(r,i){t.exports=i()})(H4,(function(){var r=1e3,i=6e4,s=36e5,o="millisecond",c="second",l="minute",h="hour",d="day",p="week",m="month",x="quarter",v="year",b="date",C="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var j=["th","st","nd","rd"],$=U%100;return"["+U+(j[($-20)%10]||j[$]||j[0])+"]"}},M=function(U,j,$){var O=String(U);return!O||O.length>=j?U:""+Array(j+1-O.length).join($)+U},P={s:M,z:function(U){var j=-U.utcOffset(),$=Math.abs(j),O=Math.floor($/60),E=$%60;return(j<=0?"+":"-")+M(O,2,"0")+":"+M(E,2,"0")},m:function U(j,$){if(j.date()<$.date())return-U($,j);var O=12*($.year()-j.year())+($.month()-j.month()),E=j.clone().add(O,m),L=$-E<0,H=j.clone().add(O+(L?-1:1),m);return+(-(O+($-E)/(L?E-H:H-E))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:m,y:v,w:p,d,D:b,h,m:l,s:c,ms:o,Q:x}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},D="en",V={};V[D]=N;var z="$isDayjsObject",q=function(U){return U instanceof ee||!(!U||!U[z])},te=function U(j,$,O){var E;if(!j)return D;if(typeof j=="string"){var L=j.toLowerCase();V[L]&&(E=L),$&&(V[L]=$,E=L);var H=j.split("-");if(!E&&H.length>1)return U(H[0])}else{var A=j.name;V[A]=j,E=A}return!O&&E&&(D=E),E||!O&&D},Q=function(U,j){if(q(U))return U.clone();var $=typeof j=="object"?j:{};return $.date=U,$.args=arguments,new ee($)},F=P;F.l=te,F.i=q,F.w=function(U,j){return Q(U,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var ee=(function(){function U($){this.$L=te($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[z]=!0}var j=U.prototype;return j.parse=function($){this.$d=(function(O){var E=O.date,L=O.utc;if(E===null)return new Date(NaN);if(F.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var H=E.match(_);if(H){var A=H[2]-1||0,G=(H[7]||"0").substring(0,3);return L?new Date(Date.UTC(H[1],A,H[3]||1,H[4]||0,H[5]||0,H[6]||0,G)):new Date(H[1],A,H[3]||1,H[4]||0,H[5]||0,H[6]||0,G)}}return new Date(E)})($),this.init()},j.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},j.$utils=function(){return F},j.isValid=function(){return this.$d.toString()!==C},j.isSame=function($,O){var E=Q($);return this.startOf(O)<=E&&E<=this.endOf(O)},j.isAfter=function($,O){return Q($)<this.startOf(O)},j.isBefore=function($,O){return this.endOf(O)<Q($)},j.$g=function($,O,E){return F.u($)?this[O]:this.set(E,$)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function($,O){var E=this,L=!!F.u(O)||O,H=F.p($),A=function(Ve,Ge){var Ct=F.w(E.$u?Date.UTC(E.$y,Ge,Ve):new Date(E.$y,Ge,Ve),E);return L?Ct:Ct.endOf(d)},G=function(Ve,Ge){return F.w(E.toDate()[Ve].apply(E.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(Ge)),E)},ie=this.$W,pe=this.$M,de=this.$D,Ae="set"+(this.$u?"UTC":"");switch(H){case v:return L?A(1,0):A(31,11);case m:return L?A(1,pe):A(0,pe+1);case p:var Be=this.$locale().weekStart||0,ze=(ie<Be?ie+7:ie)-Be;return A(L?de-ze:de+(6-ze),pe);case d:case b:return G(Ae+"Hours",0);case h:return G(Ae+"Minutes",1);case l:return G(Ae+"Seconds",2);case c:return G(Ae+"Milliseconds",3);default:return this.clone()}},j.endOf=function($){return this.startOf($,!1)},j.$set=function($,O){var E,L=F.p($),H="set"+(this.$u?"UTC":""),A=(E={},E[d]=H+"Date",E[b]=H+"Date",E[m]=H+"Month",E[v]=H+"FullYear",E[h]=H+"Hours",E[l]=H+"Minutes",E[c]=H+"Seconds",E[o]=H+"Milliseconds",E)[L],G=L===d?this.$D+(O-this.$W):O;if(L===m||L===v){var ie=this.clone().set(b,1);ie.$d[A](G),ie.init(),this.$d=ie.set(b,Math.min(this.$D,ie.daysInMonth())).$d}else A&&this.$d[A](G);return this.init(),this},j.set=function($,O){return this.clone().$set($,O)},j.get=function($){return this[F.p($)]()},j.add=function($,O){var E,L=this;$=Number($);var H=F.p(O),A=function(pe){var de=Q(L);return F.w(de.date(de.date()+Math.round(pe*$)),L)};if(H===m)return this.set(m,this.$M+$);if(H===v)return this.set(v,this.$y+$);if(H===d)return A(1);if(H===p)return A(7);var G=(E={},E[l]=i,E[h]=s,E[c]=r,E)[H]||1,ie=this.$d.getTime()+$*G;return F.w(ie,this)},j.subtract=function($,O){return this.add(-1*$,O)},j.format=function($){var O=this,E=this.$locale();if(!this.isValid())return E.invalidDate||C;var L=$||"YYYY-MM-DDTHH:mm:ssZ",H=F.z(this),A=this.$H,G=this.$m,ie=this.$M,pe=E.weekdays,de=E.months,Ae=E.meridiem,Be=function(Ge,Ct,Jt,vt){return Ge&&(Ge[Ct]||Ge(O,L))||Jt[Ct].slice(0,vt)},ze=function(Ge){return F.s(A%12||12,Ge,"0")},Ve=Ae||function(Ge,Ct,Jt){var vt=Ge<12?"AM":"PM";return Jt?vt.toLowerCase():vt};return L.replace(S,(function(Ge,Ct){return Ct||(function(Jt){switch(Jt){case"YY":return String(O.$y).slice(-2);case"YYYY":return F.s(O.$y,4,"0");case"M":return ie+1;case"MM":return F.s(ie+1,2,"0");case"MMM":return Be(E.monthsShort,ie,de,3);case"MMMM":return Be(de,ie);case"D":return O.$D;case"DD":return F.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return Be(E.weekdaysMin,O.$W,pe,2);case"ddd":return Be(E.weekdaysShort,O.$W,pe,3);case"dddd":return pe[O.$W];case"H":return String(A);case"HH":return F.s(A,2,"0");case"h":return ze(1);case"hh":return ze(2);case"a":return Ve(A,G,!0);case"A":return Ve(A,G,!1);case"m":return String(G);case"mm":return F.s(G,2,"0");case"s":return String(O.$s);case"ss":return F.s(O.$s,2,"0");case"SSS":return F.s(O.$ms,3,"0");case"Z":return H}return null})(Ge)||H.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function($,O,E){var L,H=this,A=F.p(O),G=Q($),ie=(G.utcOffset()-this.utcOffset())*i,pe=this-G,de=function(){return F.m(H,G)};switch(A){case v:L=de()/12;break;case m:L=de();break;case x:L=de()/3;break;case p:L=(pe-ie)/6048e5;break;case d:L=(pe-ie)/864e5;break;case h:L=pe/s;break;case l:L=pe/i;break;case c:L=pe/r;break;default:L=pe}return E?L:F.a(L)},j.daysInMonth=function(){return this.endOf(m).$D},j.$locale=function(){return V[this.$L]},j.locale=function($,O){if(!$)return this.$L;var E=this.clone(),L=te($,O,!0);return L&&(E.$L=L),E},j.clone=function(){return F.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},U})(),Z=ee.prototype;return Q.prototype=Z,[["$ms",o],["$s",c],["$m",l],["$H",h],["$W",d],["$M",m],["$y",v],["$D",b]].forEach((function(U){Z[U[1]]=function(j){return this.$g(j,U[0],U[1])}})),Q.extend=function(U,j){return U.$i||(U(j,ee,Q),U.$i=!0),Q},Q.locale=te,Q.isDayjs=q,Q.unix=function(U){return Q(1e3*U)},Q.en=V[D],Q.Ls=V,Q.p={},Q}))})(Hc)),Hc.exports}var U4=q4();const Y4=PS(U4);var Ev=Object.defineProperty,k=(t,e)=>Ev(t,"name",{value:e,configurable:!0}),V4=(t,e)=>{for(var r in e)Ev(t,r,{get:e[r],enumerable:!0})},Rn={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},se={trace:k((...t)=>{},"trace"),debug:k((...t)=>{},"debug"),info:k((...t)=>{},"info"),warn:k((...t)=>{},"warn"),error:k((...t)=>{},"error"),fatal:k((...t)=>{},"fatal")},Vp=k(function(t="fatal"){let e=Rn.fatal;typeof t=="string"?t.toLowerCase()in Rn&&(e=Rn[t]):typeof t=="number"&&(e=t),se.trace=()=>{},se.debug=()=>{},se.info=()=>{},se.warn=()=>{},se.error=()=>{},se.fatal=()=>{},e<=Rn.fatal&&(se.fatal=console.error?console.error.bind(console,Fr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Fr("FATAL"))),e<=Rn.error&&(se.error=console.error?console.error.bind(console,Fr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Fr("ERROR"))),e<=Rn.warn&&(se.warn=console.warn?console.warn.bind(console,Fr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Fr("WARN"))),e<=Rn.info&&(se.info=console.info?console.info.bind(console,Fr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Fr("INFO"))),e<=Rn.debug&&(se.debug=console.debug?console.debug.bind(console,Fr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fr("DEBUG"))),e<=Rn.trace&&(se.trace=console.debug?console.debug.bind(console,Fr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fr("TRACE")))},"setLogLevel"),Fr=k(t=>`%c${Y4().format("ss.SSS")} : ${t} : `,"format");const qc={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},i)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const s=r<.5?r*(1+e):r+e-r*e,o=2*r-s;switch(i){case"r":return qc.hue2rgb(o,s,t+1/3)*255;case"g":return qc.hue2rgb(o,s,t)*255;case"b":return qc.hue2rgb(o,s,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},i)=>{t/=255,e/=255,r/=255;const s=Math.max(t,e,r),o=Math.min(t,e,r),c=(s+o)/2;if(i==="l")return c*100;if(s===o)return 0;const l=s-o,h=c>.5?l/(2-s-o):l/(s+o);if(i==="s")return h*100;switch(s){case t:return((e-r)/l+(e<r?6:0))*60;case e:return((r-t)/l+2)*60;case r:return((t-e)/l+4)*60;default:return-1}}},G4={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},X4={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Ue={channel:qc,lang:G4,unit:X4},vi={};for(let t=0;t<=255;t++)vi[t]=Ue.unit.dec2hex(t);const Vt={ALL:0,RGB:1,HSL:2};class Q4{constructor(){this.type=Vt.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Vt.ALL}is(e){return this.type===e}}class K4{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Q4}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=Vt.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:i,l:s}=e;r===void 0&&(e.h=Ue.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=Ue.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=Ue.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:i,b:s}=e;r===void 0&&(e.r=Ue.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=Ue.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=Ue.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(Vt.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(Vt.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(Vt.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(Vt.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(Vt.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(Vt.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Vt.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Vt.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Vt.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Vt.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Vt.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Vt.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Uu=new K4({r:0,g:0,b:0,a:0},"transparent"),Qs={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Qs.re);if(!e)return;const r=e[1],i=parseInt(r,16),s=r.length,o=s%4===0,c=s>4,l=c?1:17,h=c?8:4,d=o?0:-1,p=c?255:15;return Uu.set({r:(i>>h*(d+3)&p)*l,g:(i>>h*(d+2)&p)*l,b:(i>>h*(d+1)&p)*l,a:o?(i&p)*l/255:1},t)},stringify:t=>{const{r:e,g:r,b:i,a:s}=t;return s<1?`#${vi[Math.round(e)]}${vi[Math.round(r)]}${vi[Math.round(i)]}${vi[Math.round(s*255)]}`:`#${vi[Math.round(e)]}${vi[Math.round(r)]}${vi[Math.round(i)]}`}},rs={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(rs.hueRe);if(e){const[,r,i]=e;switch(i){case"grad":return Ue.channel.clamp.h(parseFloat(r)*.9);case"rad":return Ue.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Ue.channel.clamp.h(parseFloat(r)*360)}}return Ue.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(rs.re);if(!r)return;const[,i,s,o,c,l]=r;return Uu.set({h:rs._hue2deg(i),s:Ue.channel.clamp.s(parseFloat(s)),l:Ue.channel.clamp.l(parseFloat(o)),a:c?Ue.channel.clamp.a(l?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{h:e,s:r,l:i,a:s}=t;return s<1?`hsla(${Ue.lang.round(e)}, ${Ue.lang.round(r)}%, ${Ue.lang.round(i)}%, ${s})`:`hsl(${Ue.lang.round(e)}, ${Ue.lang.round(r)}%, ${Ue.lang.round(i)}%)`}},Do={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Do.colors[t];if(e)return Qs.parse(e)},stringify:t=>{const e=Qs.stringify(t);for(const r in Do.colors)if(Do.colors[r]===e)return r}},To={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(To.re);if(!r)return;const[,i,s,o,c,l,h,d,p]=r;return Uu.set({r:Ue.channel.clamp.r(s?parseFloat(i)*2.55:parseFloat(i)),g:Ue.channel.clamp.g(c?parseFloat(o)*2.55:parseFloat(o)),b:Ue.channel.clamp.b(h?parseFloat(l)*2.55:parseFloat(l)),a:d?Ue.channel.clamp.a(p?parseFloat(d)/100:parseFloat(d)):1},t)},stringify:t=>{const{r:e,g:r,b:i,a:s}=t;return s<1?`rgba(${Ue.lang.round(e)}, ${Ue.lang.round(r)}, ${Ue.lang.round(i)}, ${Ue.lang.round(s)})`:`rgb(${Ue.lang.round(e)}, ${Ue.lang.round(r)}, ${Ue.lang.round(i)})`}},kn={format:{keyword:Do,hex:Qs,rgb:To,rgba:To,hsl:rs,hsla:rs},parse:t=>{if(typeof t!="string")return t;const e=Qs.parse(t)||To.parse(t)||rs.parse(t)||Do.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Vt.HSL)||t.data.r===void 0?rs.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?To.stringify(t):Qs.stringify(t)},Lv=(t,e)=>{const r=kn.parse(t);for(const i in e)r[i]=Ue.channel.clamp[i](e[i]);return kn.stringify(r)},$o=(t,e,r=0,i=1)=>{if(typeof t!="number")return Lv(t,{a:e});const s=Uu.set({r:Ue.channel.clamp.r(t),g:Ue.channel.clamp.g(e),b:Ue.channel.clamp.b(r),a:Ue.channel.clamp.a(i)});return kn.stringify(s)},Z4=t=>{const{r:e,g:r,b:i}=kn.parse(t),s=.2126*Ue.channel.toLinear(e)+.7152*Ue.channel.toLinear(r)+.0722*Ue.channel.toLinear(i);return Ue.lang.round(s)},J4=t=>Z4(t)>=.5,nl=t=>!J4(t),Mv=(t,e,r)=>{const i=kn.parse(t),s=i[e],o=Ue.channel.clamp[e](s+r);return s!==o&&(i[e]=o),kn.stringify(i)},be=(t,e)=>Mv(t,"l",e),De=(t,e)=>Mv(t,"l",-e),Y=(t,e)=>{const r=kn.parse(t),i={};for(const s in e)e[s]&&(i[s]=r[s]+e[s]);return Lv(t,i)},eA=(t,e,r=50)=>{const{r:i,g:s,b:o,a:c}=kn.parse(t),{r:l,g:h,b:d,a:p}=kn.parse(e),m=r/100,x=m*2-1,v=c-p,C=((x*v===-1?x:(x+v)/(1+x*v))+1)/2,_=1-C,S=i*C+l*_,N=s*C+h*_,M=o*C+d*_,P=c*m+p*(1-m);return $o(S,N,M,P)},ge=(t,e=100)=>{const r=kn.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,eA(r,t,e)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:jv,setPrototypeOf:ty,isFrozen:tA,getPrototypeOf:rA,getOwnPropertyDescriptor:nA}=Object;let{freeze:ar,seal:Rr,create:zf}=Object,{apply:Wf,construct:Hf}=typeof Reflect<"u"&&Reflect;ar||(ar=function(e){return e});Rr||(Rr=function(e){return e});Wf||(Wf=function(e,r){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return e.apply(r,s)});Hf||(Hf=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return new e(...i)});const Nc=or(Array.prototype.forEach),iA=or(Array.prototype.lastIndexOf),ry=or(Array.prototype.pop),ho=or(Array.prototype.push),sA=or(Array.prototype.splice),Uc=or(String.prototype.toLowerCase),lf=or(String.prototype.toString),cf=or(String.prototype.match),fo=or(String.prototype.replace),aA=or(String.prototype.indexOf),oA=or(String.prototype.trim),Zr=or(Object.prototype.hasOwnProperty),rr=or(RegExp.prototype.test),po=lA(TypeError);function or(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return Wf(t,e,i)}}function lA(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Hf(t,r)}}function Ke(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uc;ty&&ty(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const o=r(s);o!==s&&(tA(e)||(e[i]=o),s=o)}t[s]=!0}return t}function cA(t){for(let e=0;e<t.length;e++)Zr(t,e)||(t[e]=null);return t}function On(t){const e=zf(null);for(const[r,i]of jv(t))Zr(t,r)&&(Array.isArray(i)?e[r]=cA(i):i&&typeof i=="object"&&i.constructor===Object?e[r]=On(i):e[r]=i);return e}function go(t,e){for(;t!==null;){const i=nA(t,e);if(i){if(i.get)return or(i.get);if(typeof i.value=="function")return or(i.value)}t=rA(t)}function r(){return null}return r}const ny=ar(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uf=ar(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hf=ar(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uA=ar(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),df=ar(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hA=ar(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),iy=ar(["#text"]),sy=ar(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ff=ar(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ay=ar(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ac=ar(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dA=Rr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fA=Rr(/<%[\w\W]*|[\w\W]*%>/gm),pA=Rr(/\$\{[\w\W]*/gm),gA=Rr(/^data-[\-\w.\u00B7-\uFFFF]+$/),mA=Rr(/^aria-[\-\w]+$/),Bv=Rr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xA=Rr(/^(?:\w+script|data):/i),yA=Rr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Dv=Rr(/^html$/i),vA=Rr(/^[a-z][.\w]*(-[.\w]+)+$/i);var oy=Object.freeze({__proto__:null,ARIA_ATTR:mA,ATTR_WHITESPACE:yA,CUSTOM_ELEMENT:vA,DATA_ATTR:gA,DOCTYPE_NAME:Dv,ERB_EXPR:fA,IS_ALLOWED_URI:Bv,IS_SCRIPT_OR_DATA:xA,MUSTACHE_EXPR:dA,TMPLIT_EXPR:pA});const mo={element:1,text:3,progressingInstruction:7,comment:8,document:9},bA=function(){return typeof window>"u"?null:window},wA=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(i=r.getAttribute(s));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},ly=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $v(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bA();const e=Me=>$v(Me);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==mo.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const i=r,s=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:c,Node:l,Element:h,NodeFilter:d,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:x,trustedTypes:v}=t,b=h.prototype,C=go(b,"cloneNode"),_=go(b,"remove"),S=go(b,"nextSibling"),N=go(b,"childNodes"),M=go(b,"parentNode");if(typeof c=="function"){const Me=r.createElement("template");Me.content&&Me.content.ownerDocument&&(r=Me.content.ownerDocument)}let P,D="";const{implementation:V,createNodeIterator:z,createDocumentFragment:q,getElementsByTagName:te}=r,{importNode:Q}=i;let F=ly();e.isSupported=typeof jv=="function"&&typeof M=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ee,ERB_EXPR:Z,TMPLIT_EXPR:U,DATA_ATTR:j,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:L}=oy;let{IS_ALLOWED_URI:H}=oy,A=null;const G=Ke({},[...ny,...uf,...hf,...df,...iy]);let ie=null;const pe=Ke({},[...sy,...ff,...ay,...Ac]);let de=Object.seal(zf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Be=null;const ze=Object.seal(zf(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ve=!0,Ge=!0,Ct=!1,Jt=!0,vt=!1,ln=!0,re=!1,he=!1,oe=!1,ke=!1,Le=!1,He=!1,Ye=!0,gt=!1;const lr="user-content-";let cn=!0,Nr=!1,cr={},un=null;const Mi=Ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wa=null;const Xn=Ke({},["audio","video","img","source","image","track"]);let Tn=null;const hl=Ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ji="http://www.w3.org/1998/Math/MathML",Bi="http://www.w3.org/2000/svg",zr="http://www.w3.org/1999/xhtml";let hn=zr,Di=!1,$i=null;const ka=Ke({},[ji,Bi,zr],lf);let Qn=Ke({},["mi","mo","mn","ms","mtext"]),Wr=Ke({},["annotation-xml"]);const Kn=Ke({},["title","style","font","a","script"]);let Zn=null;const dl=["application/xhtml+xml","text/html"],fl="text/html";let bt=null,Nn=null;const Ca=r.createElement("form"),_a=function(I){return I instanceof RegExp||I instanceof Function},An=function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Nn&&Nn===I)){if((!I||typeof I!="object")&&(I={}),I=On(I),Zn=dl.indexOf(I.PARSER_MEDIA_TYPE)===-1?fl:I.PARSER_MEDIA_TYPE,bt=Zn==="application/xhtml+xml"?lf:Uc,A=Zr(I,"ALLOWED_TAGS")?Ke({},I.ALLOWED_TAGS,bt):G,ie=Zr(I,"ALLOWED_ATTR")?Ke({},I.ALLOWED_ATTR,bt):pe,$i=Zr(I,"ALLOWED_NAMESPACES")?Ke({},I.ALLOWED_NAMESPACES,lf):ka,Tn=Zr(I,"ADD_URI_SAFE_ATTR")?Ke(On(hl),I.ADD_URI_SAFE_ATTR,bt):hl,wa=Zr(I,"ADD_DATA_URI_TAGS")?Ke(On(Xn),I.ADD_DATA_URI_TAGS,bt):Xn,un=Zr(I,"FORBID_CONTENTS")?Ke({},I.FORBID_CONTENTS,bt):Mi,Ae=Zr(I,"FORBID_TAGS")?Ke({},I.FORBID_TAGS,bt):On({}),Be=Zr(I,"FORBID_ATTR")?Ke({},I.FORBID_ATTR,bt):On({}),cr=Zr(I,"USE_PROFILES")?I.USE_PROFILES:!1,Ve=I.ALLOW_ARIA_ATTR!==!1,Ge=I.ALLOW_DATA_ATTR!==!1,Ct=I.ALLOW_UNKNOWN_PROTOCOLS||!1,Jt=I.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vt=I.SAFE_FOR_TEMPLATES||!1,ln=I.SAFE_FOR_XML!==!1,re=I.WHOLE_DOCUMENT||!1,ke=I.RETURN_DOM||!1,Le=I.RETURN_DOM_FRAGMENT||!1,He=I.RETURN_TRUSTED_TYPE||!1,oe=I.FORCE_BODY||!1,Ye=I.SANITIZE_DOM!==!1,gt=I.SANITIZE_NAMED_PROPS||!1,cn=I.KEEP_CONTENT!==!1,Nr=I.IN_PLACE||!1,H=I.ALLOWED_URI_REGEXP||Bv,hn=I.NAMESPACE||zr,Qn=I.MATHML_TEXT_INTEGRATION_POINTS||Qn,Wr=I.HTML_INTEGRATION_POINTS||Wr,de=I.CUSTOM_ELEMENT_HANDLING||{},I.CUSTOM_ELEMENT_HANDLING&&_a(I.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=I.CUSTOM_ELEMENT_HANDLING.tagNameCheck),I.CUSTOM_ELEMENT_HANDLING&&_a(I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),I.CUSTOM_ELEMENT_HANDLING&&typeof I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vt&&(Ge=!1),Le&&(ke=!0),cr&&(A=Ke({},iy),ie=[],cr.html===!0&&(Ke(A,ny),Ke(ie,sy)),cr.svg===!0&&(Ke(A,uf),Ke(ie,ff),Ke(ie,Ac)),cr.svgFilters===!0&&(Ke(A,hf),Ke(ie,ff),Ke(ie,Ac)),cr.mathMl===!0&&(Ke(A,df),Ke(ie,ay),Ke(ie,Ac))),I.ADD_TAGS&&(typeof I.ADD_TAGS=="function"?ze.tagCheck=I.ADD_TAGS:(A===G&&(A=On(A)),Ke(A,I.ADD_TAGS,bt))),I.ADD_ATTR&&(typeof I.ADD_ATTR=="function"?ze.attributeCheck=I.ADD_ATTR:(ie===pe&&(ie=On(ie)),Ke(ie,I.ADD_ATTR,bt))),I.ADD_URI_SAFE_ATTR&&Ke(Tn,I.ADD_URI_SAFE_ATTR,bt),I.FORBID_CONTENTS&&(un===Mi&&(un=On(un)),Ke(un,I.FORBID_CONTENTS,bt)),cn&&(A["#text"]=!0),re&&Ke(A,["html","head","body"]),A.table&&(Ke(A,["tbody"]),delete Ae.tbody),I.TRUSTED_TYPES_POLICY){if(typeof I.TRUSTED_TYPES_POLICY.createHTML!="function")throw po('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof I.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw po('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=I.TRUSTED_TYPES_POLICY,D=P.createHTML("")}else P===void 0&&(P=wA(v,s)),P!==null&&typeof D=="string"&&(D=P.createHTML(""));ar&&ar(I),Nn=I}},bs=Ke({},[...uf,...hf,...uA]),Jn=Ke({},[...df,...hA]),fh=function(I){let ue=M(I);(!ue||!ue.tagName)&&(ue={namespaceURI:hn,tagName:"template"});const Ce=Uc(I.tagName),at=Uc(ue.tagName);return $i[I.namespaceURI]?I.namespaceURI===Bi?ue.namespaceURI===zr?Ce==="svg":ue.namespaceURI===ji?Ce==="svg"&&(at==="annotation-xml"||Qn[at]):!!bs[Ce]:I.namespaceURI===ji?ue.namespaceURI===zr?Ce==="math":ue.namespaceURI===Bi?Ce==="math"&&Wr[at]:!!Jn[Ce]:I.namespaceURI===zr?ue.namespaceURI===Bi&&!Wr[at]||ue.namespaceURI===ji&&!Qn[at]?!1:!Jn[Ce]&&(Kn[Ce]||!bs[Ce]):!!(Zn==="application/xhtml+xml"&&$i[I.namespaceURI]):!1},Wt=function(I){ho(e.removed,{element:I});try{M(I).removeChild(I)}catch{_(I)}},Ar=function(I,ue){try{ho(e.removed,{attribute:ue.getAttributeNode(I),from:ue})}catch{ho(e.removed,{attribute:null,from:ue})}if(ue.removeAttribute(I),I==="is")if(ke||Le)try{Wt(ue)}catch{}else try{ue.setAttribute(I,"")}catch{}},Fi=function(I){let ue=null,Ce=null;if(oe)I="<remove></remove>"+I;else{const mt=cf(I,/^[\r\n\t ]+/);Ce=mt&&mt[0]}Zn==="application/xhtml+xml"&&hn===zr&&(I='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+I+"</body></html>");const at=P?P.createHTML(I):I;if(hn===zr)try{ue=new x().parseFromString(at,Zn)}catch{}if(!ue||!ue.documentElement){ue=V.createDocument(hn,"template",null);try{ue.documentElement.innerHTML=Di?D:at}catch{}}const Xe=ue.body||ue.documentElement;return I&&Ce&&Xe.insertBefore(r.createTextNode(Ce),Xe.childNodes[0]||null),hn===zr?te.call(ue,re?"html":"body")[0]:re?ue.documentElement:Xe},ws=function(I){return z.call(I.ownerDocument||I,I,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Sa=function(I){return I instanceof m&&(typeof I.nodeName!="string"||typeof I.textContent!="string"||typeof I.removeChild!="function"||!(I.attributes instanceof p)||typeof I.removeAttribute!="function"||typeof I.setAttribute!="function"||typeof I.namespaceURI!="string"||typeof I.insertBefore!="function"||typeof I.hasChildNodes!="function")},pl=function(I){return typeof l=="function"&&I instanceof l};function Hr(Me,I,ue){Nc(Me,Ce=>{Ce.call(e,I,ue,Nn)})}const dn=function(I){let ue=null;if(Hr(F.beforeSanitizeElements,I,null),Sa(I))return Wt(I),!0;const Ce=bt(I.nodeName);if(Hr(F.uponSanitizeElement,I,{tagName:Ce,allowedTags:A}),ln&&I.hasChildNodes()&&!pl(I.firstElementChild)&&rr(/<[/\w!]/g,I.innerHTML)&&rr(/<[/\w!]/g,I.textContent)||I.nodeType===mo.progressingInstruction||ln&&I.nodeType===mo.comment&&rr(/<[/\w]/g,I.data))return Wt(I),!0;if(!(ze.tagCheck instanceof Function&&ze.tagCheck(Ce))&&(!A[Ce]||Ae[Ce])){if(!Ae[Ce]&&Na(Ce)&&(de.tagNameCheck instanceof RegExp&&rr(de.tagNameCheck,Ce)||de.tagNameCheck instanceof Function&&de.tagNameCheck(Ce)))return!1;if(cn&&!un[Ce]){const at=M(I)||I.parentNode,Xe=N(I)||I.childNodes;if(Xe&&at){const mt=Xe.length;for(let Dt=mt-1;Dt>=0;--Dt){const Er=C(Xe[Dt],!0);Er.__removalCount=(I.__removalCount||0)+1,at.insertBefore(Er,S(I))}}}return Wt(I),!0}return I instanceof h&&!fh(I)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&rr(/<\/no(script|embed|frames)/i,I.innerHTML)?(Wt(I),!0):(vt&&I.nodeType===mo.text&&(ue=I.textContent,Nc([ee,Z,U],at=>{ue=fo(ue,at," ")}),I.textContent!==ue&&(ho(e.removed,{element:I.cloneNode()}),I.textContent=ue)),Hr(F.afterSanitizeElements,I,null),!1)},Ta=function(I,ue,Ce){if(Ye&&(ue==="id"||ue==="name")&&(Ce in r||Ce in Ca))return!1;if(!(Ge&&!Be[ue]&&rr(j,ue))){if(!(Ve&&rr($,ue))){if(!(ze.attributeCheck instanceof Function&&ze.attributeCheck(ue,I))){if(!ie[ue]||Be[ue]){if(!(Na(I)&&(de.tagNameCheck instanceof RegExp&&rr(de.tagNameCheck,I)||de.tagNameCheck instanceof Function&&de.tagNameCheck(I))&&(de.attributeNameCheck instanceof RegExp&&rr(de.attributeNameCheck,ue)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(ue,I))||ue==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&rr(de.tagNameCheck,Ce)||de.tagNameCheck instanceof Function&&de.tagNameCheck(Ce))))return!1}else if(!Tn[ue]){if(!rr(H,fo(Ce,E,""))){if(!((ue==="src"||ue==="xlink:href"||ue==="href")&&I!=="script"&&aA(Ce,"data:")===0&&wa[I])){if(!(Ct&&!rr(O,fo(Ce,E,"")))){if(Ce)return!1}}}}}}}return!0},Na=function(I){return I!=="annotation-xml"&&cf(I,L)},gl=function(I){Hr(F.beforeSanitizeAttributes,I,null);const{attributes:ue}=I;if(!ue||Sa(I))return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let at=ue.length;for(;at--;){const Xe=ue[at],{name:mt,namespaceURI:Dt,value:Er}=Xe,qr=bt(mt),Aa=Er;let _t=mt==="value"?Aa:oA(Aa);if(Ce.attrName=qr,Ce.attrValue=_t,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,Hr(F.uponSanitizeAttribute,I,Ce),_t=Ce.attrValue,gt&&(qr==="id"||qr==="name")&&(Ar(mt,I),_t=lr+_t),ln&&rr(/((--!?|])>)|<\/(style|title|textarea)/i,_t)){Ar(mt,I);continue}if(qr==="attributename"&&cf(_t,"href")){Ar(mt,I);continue}if(Ce.forceKeepAttr)continue;if(!Ce.keepAttr){Ar(mt,I);continue}if(!Jt&&rr(/\/>/i,_t)){Ar(mt,I);continue}vt&&Nc([ee,Z,U],br=>{_t=fo(_t,br," ")});const Pi=bt(I.nodeName);if(!Ta(Pi,qr,_t)){Ar(mt,I);continue}if(P&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Dt)switch(v.getAttributeType(Pi,qr)){case"TrustedHTML":{_t=P.createHTML(_t);break}case"TrustedScriptURL":{_t=P.createScriptURL(_t);break}}if(_t!==Aa)try{Dt?I.setAttributeNS(Dt,mt,_t):I.setAttribute(mt,_t),Sa(I)?Wt(I):ry(e.removed)}catch{Ar(mt,I)}}Hr(F.afterSanitizeAttributes,I,null)},ml=function Me(I){let ue=null;const Ce=ws(I);for(Hr(F.beforeSanitizeShadowDOM,I,null);ue=Ce.nextNode();)Hr(F.uponSanitizeShadowNode,ue,null),dn(ue),gl(ue),ue.content instanceof o&&Me(ue.content);Hr(F.afterSanitizeShadowDOM,I,null)};return e.sanitize=function(Me){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=null,Ce=null,at=null,Xe=null;if(Di=!Me,Di&&(Me="<!-->"),typeof Me!="string"&&!pl(Me))if(typeof Me.toString=="function"){if(Me=Me.toString(),typeof Me!="string")throw po("dirty is not a string, aborting")}else throw po("toString is not a function");if(!e.isSupported)return Me;if(he||An(I),e.removed=[],typeof Me=="string"&&(Nr=!1),Nr){if(Me.nodeName){const Er=bt(Me.nodeName);if(!A[Er]||Ae[Er])throw po("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof l)ue=Fi("<!---->"),Ce=ue.ownerDocument.importNode(Me,!0),Ce.nodeType===mo.element&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?ue=Ce:ue.appendChild(Ce);else{if(!ke&&!vt&&!re&&Me.indexOf("<")===-1)return P&&He?P.createHTML(Me):Me;if(ue=Fi(Me),!ue)return ke?null:He?D:""}ue&&oe&&Wt(ue.firstChild);const mt=ws(Nr?Me:ue);for(;at=mt.nextNode();)dn(at),gl(at),at.content instanceof o&&ml(at.content);if(Nr)return Me;if(ke){if(Le)for(Xe=q.call(ue.ownerDocument);ue.firstChild;)Xe.appendChild(ue.firstChild);else Xe=ue;return(ie.shadowroot||ie.shadowrootmode)&&(Xe=Q.call(i,Xe,!0)),Xe}let Dt=re?ue.outerHTML:ue.innerHTML;return re&&A["!doctype"]&&ue.ownerDocument&&ue.ownerDocument.doctype&&ue.ownerDocument.doctype.name&&rr(Dv,ue.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+ue.ownerDocument.doctype.name+`>
`+Dt),vt&&Nc([ee,Z,U],Er=>{Dt=fo(Dt,Er," ")}),P&&He?P.createHTML(Dt):Dt},e.setConfig=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};An(Me),he=!0},e.clearConfig=function(){Nn=null,he=!1},e.isValidAttribute=function(Me,I,ue){Nn||An({});const Ce=bt(Me),at=bt(I);return Ta(Ce,at,ue)},e.addHook=function(Me,I){typeof I=="function"&&ho(F[Me],I)},e.removeHook=function(Me,I){if(I!==void 0){const ue=iA(F[Me],I);return ue===-1?void 0:sA(F[Me],ue,1)[0]}return ry(F[Me])},e.removeHooks=function(Me){F[Me]=[]},e.removeAllHooks=function(){F=ly()},e}var la=$v(),Fv=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Fo=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,kA=/\s*%%.*\n/gm,Zs,Pv=(Zs=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},k(Zs,"UnknownDiagramError"),Zs),cs={},Gp=k(function(t,e){t=t.replace(Fv,"").replace(Fo,"").replace(kA,`
`);for(const[r,{detector:i}]of Object.entries(cs))if(i(t,e))return r;throw new Pv(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),qf=k((...t)=>{for(const{id:e,detector:r,loader:i}of t)Rv(e,r,i)},"registerLazyLoadedDiagrams"),Rv=k((t,e,r)=>{cs[t]&&se.warn(`Detector with key ${t} already exists. Overwriting.`),cs[t]={detector:e,loader:r},se.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),CA=k(t=>cs[t].loader,"getDiagramLoader"),Uf=k((t,e,{depth:r=2,clobber:i=!1}={})=>{const s={depth:r,clobber:i};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>Uf(t,o,s)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]=="object"&&(t[o]===void 0||typeof t[o]=="object")?(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=Uf(t[o],e[o],{depth:r-1,clobber:i})):(i||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o])}),t)},"assignWithDepth"),Mt=Uf,Yu="#ffffff",Vu="#f2f2f2",nr=k((t,e)=>e?Y(t,{s:-40,l:10}):Y(t,{s:-40,l:-10}),"mkBorder"),Js,_A=(Js=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Y(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Y(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||nr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||nr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ge(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ge(this.tertiaryColor),this.lineColor=this.lineColor||ge(this.background),this.arrowheadColor=this.arrowheadColor||ge(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?De(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||De(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ge(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||be(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||De(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||De(this.mainBkg,10)):(this.rowOdd=this.rowOdd||be(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||be(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=De(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=De(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||ge(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||be(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||De(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||Y(this.mainBkg,{h:180,s:-15,l:e*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||Y(this.mainBkg,{h:180,s:-15,l:e*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Y(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Y(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Y(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Y(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Y(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||nl(this.quadrant1Fill)?be(this.quadrant1Fill):De(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?De(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)):(this.git0=De(this.git0,25),this.git1=De(this.git1,25),this.git2=De(this.git2,25),this.git3=De(this.git3,25),this.git4=De(this.git4,25),this.git5=De(this.git5,25),this.git6=De(this.git6,25),this.git7=De(this.git7,25)),this.gitInv0=this.gitInv0||ge(this.git0),this.gitInv1=this.gitInv1||ge(this.git1),this.gitInv2=this.gitInv2||ge(this.git2),this.gitInv3=this.gitInv3||ge(this.git3),this.gitInv4=this.gitInv4||ge(this.git4),this.gitInv5=this.gitInv5||ge(this.git5),this.gitInv6=this.gitInv6||ge(this.git6),this.gitInv7=this.gitInv7||ge(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Yu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Vu}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},k(Js,"Theme"),Js),SA=k(t=>{const e=new _A;return e.calculate(t),e},"getThemeVariables"),ea,TA=(ea=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=be(this.primaryColor,16),this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=ge(this.background),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ge(this.primaryColor),this.secondaryTextColor=ge(this.secondaryColor),this.tertiaryTextColor=ge(this.tertiaryColor),this.lineColor=ge(this.background),this.textColor=ge(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=be(ge("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=$o(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=De("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=De(this.sectionBkgColor,10),this.taskBorderColor=$o(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=$o(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||be(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||De(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=be(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=be(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=be(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ge(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Y(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Y(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||nl(this.quadrant1Fill)?be(this.quadrant1Fill):De(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?De(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=be(this.secondaryColor,20),this.git1=be(this.pie2||this.secondaryColor,20),this.git2=be(this.pie3||this.tertiaryColor,20),this.git3=be(this.pie4||Y(this.primaryColor,{h:-30}),20),this.git4=be(this.pie5||Y(this.primaryColor,{h:-60}),20),this.git5=be(this.pie6||Y(this.primaryColor,{h:-90}),10),this.git6=be(this.pie7||Y(this.primaryColor,{h:60}),10),this.git7=be(this.pie8||Y(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ge(this.git0),this.gitInv1=this.gitInv1||ge(this.git1),this.gitInv2=this.gitInv2||ge(this.git2),this.gitInv3=this.gitInv3||ge(this.git3),this.gitInv4=this.gitInv4||ge(this.git4),this.gitInv5=this.gitInv5||ge(this.git5),this.gitInv6=this.gitInv6||ge(this.git6),this.gitInv7=this.gitInv7||ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||be(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||be(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},k(ea,"Theme"),ea),NA=k(t=>{const e=new TA;return e.calculate(t),e},"getThemeVariables"),ta,AA=(ta=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Y(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ge(this.primaryColor),this.secondaryTextColor=ge(this.secondaryColor),this.tertiaryTextColor=ge(this.tertiaryColor),this.lineColor=ge(this.background),this.textColor=ge(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=$o(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||De(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||De(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=De(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||De(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Y(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Y(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Y(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ge(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ge(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=be(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||be(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||be(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Y(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Y(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||nl(this.quadrant1Fill)?be(this.quadrant1Fill):De(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)):(this.git0=De(this.git0,25),this.git1=De(this.git1,25),this.git2=De(this.git2,25),this.git3=De(this.git3,25),this.git4=De(this.git4,25),this.git5=De(this.git5,25),this.git6=De(this.git6,25),this.git7=De(this.git7,25)),this.gitInv0=this.gitInv0||De(ge(this.git0),25),this.gitInv1=this.gitInv1||ge(this.git1),this.gitInv2=this.gitInv2||ge(this.git2),this.gitInv3=this.gitInv3||ge(this.git3),this.gitInv4=this.gitInv4||ge(this.git4),this.gitInv5=this.gitInv5||ge(this.git5),this.gitInv6=this.gitInv6||ge(this.git6),this.gitInv7=this.gitInv7||ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Yu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Vu}calculate(e){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},k(ta,"Theme"),ta),EA=k(t=>{const e=new AA;return e.calculate(t),e},"getThemeVariables"),ra,LA=(ra=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=be("#cde498",10),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ge(this.primaryColor),this.secondaryTextColor=ge(this.secondaryColor),this.tertiaryTextColor=ge(this.primaryColor),this.lineColor=ge(this.background),this.textColor=ge(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=De(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||De(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||De(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=De(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||De(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Y(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Y(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Y(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||be(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||be(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-30}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||nl(this.quadrant1Fill)?be(this.quadrant1Fill):De(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)):(this.git0=De(this.git0,25),this.git1=De(this.git1,25),this.git2=De(this.git2,25),this.git3=De(this.git3,25),this.git4=De(this.git4,25),this.git5=De(this.git5,25),this.git6=De(this.git6,25),this.git7=De(this.git7,25)),this.gitInv0=this.gitInv0||ge(this.git0),this.gitInv1=this.gitInv1||ge(this.git1),this.gitInv2=this.gitInv2||ge(this.git2),this.gitInv3=this.gitInv3||ge(this.git3),this.gitInv4=this.gitInv4||ge(this.git4),this.gitInv5=this.gitInv5||ge(this.git5),this.gitInv6=this.gitInv6||ge(this.git6),this.gitInv7=this.gitInv7||ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Yu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Vu}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},k(ra,"Theme"),ra),MA=k(t=>{const e=new LA;return e.calculate(t),e},"getThemeVariables"),na,jA=(na=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=be(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ge(this.primaryColor),this.secondaryTextColor=ge(this.secondaryColor),this.tertiaryTextColor=ge(this.tertiaryColor),this.lineColor=ge(this.background),this.textColor=ge(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||be(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=be(this.contrast,55),this.border2=this.contrast,this.actorBorder=be(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ge(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||De(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Y(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Y(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=be(this.contrast,30),this.sectionBkgColor2=be(this.contrast,30),this.taskBorderColor=De(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=be(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=De(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||nl(this.quadrant1Fill)?be(this.quadrant1Fill):De(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=De(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Y(this.primaryColor,{h:-30}),this.git4=this.pie5||Y(this.primaryColor,{h:-60}),this.git5=this.pie6||Y(this.primaryColor,{h:-90}),this.git6=this.pie7||Y(this.primaryColor,{h:60}),this.git7=this.pie8||Y(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ge(this.git0),this.gitInv1=this.gitInv1||ge(this.git1),this.gitInv2=this.gitInv2||ge(this.git2),this.gitInv3=this.gitInv3||ge(this.git3),this.gitInv4=this.gitInv4||ge(this.git4),this.gitInv5=this.gitInv5||ge(this.git5),this.gitInv6=this.gitInv6||ge(this.git6),this.gitInv7=this.gitInv7||ge(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Yu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Vu}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},k(na,"Theme"),na),BA=k(t=>{const e=new jA;return e.calculate(t),e},"getThemeVariables"),Hn={base:{getThemeVariables:SA},dark:{getThemeVariables:NA},default:{getThemeVariables:EA},forest:{getThemeVariables:MA},neutral:{getThemeVariables:BA}},xn={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Ov={...xn,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Hn.default.getThemeVariables(),sequence:{...xn.sequence,messageFont:k(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:k(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:k(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...xn.gantt,tickInterval:void 0,useWidth:void 0},c4:{...xn.c4,useWidth:void 0,personFont:k(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...xn.flowchart,inheritDir:!1},external_personFont:k(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:k(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:k(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:k(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:k(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:k(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:k(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:k(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:k(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:k(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:k(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:k(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:k(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:k(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:k(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:k(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:k(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:k(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:k(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:k(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:k(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...xn.pie,useWidth:984},xyChart:{...xn.xyChart,useWidth:void 0},requirement:{...xn.requirement,useWidth:void 0},packet:{...xn.packet},radar:{...xn.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Iv=k((t,e="")=>Object.keys(t).reduce((r,i)=>Array.isArray(t[i])?r:typeof t[i]=="object"&&t[i]!==null?[...r,e+i,...Iv(t[i],"")]:[...r,e+i],[]),"keyify"),DA=new Set(Iv(Ov,"")),zv=Ov,du=k(t=>{if(se.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>du(e));return}for(const e of Object.keys(t)){if(se.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!DA.has(e)||t[e]==null){se.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){se.debug("sanitizing object",e),du(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)e.includes(i)&&(se.debug("sanitizing css option",e),t[e]=$A(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}se.debug("After sanitization",t)}},"sanitizeDirective"),$A=k(t=>{let e=0,r=0;for(const i of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),ca=Object.freeze(zv),xr=Mt({},ca),fu,us=[],Po=Mt({},ca),Gu=k((t,e)=>{let r=Mt({},t),i={};for(const s of e)qv(s),i=Mt(i,s);if(r=Mt(r,i),i.theme&&i.theme in Hn){const s=Mt({},fu),o=Mt(s.themeVariables||{},i.themeVariables);r.theme&&r.theme in Hn&&(r.themeVariables=Hn[r.theme].getThemeVariables(o))}return Po=r,Uv(Po),Po},"updateCurrentConfig"),FA=k(t=>(xr=Mt({},ca),xr=Mt(xr,t),t.theme&&Hn[t.theme]&&(xr.themeVariables=Hn[t.theme].getThemeVariables(t.themeVariables)),Gu(xr,us),xr),"setSiteConfig"),PA=k(t=>{fu=Mt({},t)},"saveConfigFromInitialize"),RA=k(t=>(xr=Mt(xr,t),Gu(xr,us),xr),"updateSiteConfig"),Wv=k(()=>Mt({},xr),"getSiteConfig"),Hv=k(t=>(Uv(t),Mt(Po,t),Xt()),"setConfig"),Xt=k(()=>Mt({},Po),"getConfig"),qv=k(t=>{t&&(["secure",...xr.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(se.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&qv(t[e])}))},"sanitize"),OA=k(t=>{du(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),us.push(t),Gu(xr,us)},"addDirective"),pu=k((t=xr)=>{us=[],Gu(t,us)},"reset"),IA={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},cy={},zA=k(t=>{cy[t]||(se.warn(IA[t]),cy[t]=!0)},"issueWarning"),Uv=k(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&zA("LAZY_LOAD_DEPRECATED")},"checkConfig"),NR=k(()=>{let t={};fu&&(t=Mt(t,fu));for(const e of us)t=Mt(t,e);return t},"getUserDefinedConfig"),il=/<br\s*\/?>/gi,WA=k(t=>t?Gv(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),HA=(()=>{let t=!1;return()=>{t||(Yv(),t=!0)}})();function Yv(){const t="data-temp-href-target";la.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),la.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}k(Yv,"setupDompurifyHooks");var Vv=k(t=>(HA(),la.sanitize(t)),"removeScript"),uy=k((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=Vv(t):r!=="loose"&&(t=Gv(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=VA(t))}return t},"sanitizeMore"),Or=k((t,e)=>t&&(e.dompurifyConfig?t=la.sanitize(uy(t,e),e.dompurifyConfig).toString():t=la.sanitize(uy(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),qA=k((t,e)=>typeof t=="string"?Or(t,e):t.flat().map(r=>Or(r,e)),"sanitizeTextOrArray"),UA=k(t=>il.test(t),"hasBreaks"),YA=k(t=>t.split(il),"splitBreaks"),VA=k(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Gv=k(t=>t.replace(il,"#br#"),"breakToPlaceholder"),GA=k(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Bt=k(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),XA=k(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),QA=k(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),hy=k(function(t){const e=t.split(/(,)/),r=[];for(let i=0;i<e.length;i++){let s=e[i];if(s===","&&i>0&&i+1<e.length){const o=e[i-1],c=e[i+1];KA(o,c)&&(s=o+","+c,i++,r.pop())}r.push(ZA(s))}return r.join("")},"parseGenericTypes"),Yf=k((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),KA=k((t,e)=>{const r=Yf(t,"~"),i=Yf(e,"~");return r===1&&i===1},"shouldCombineSets"),ZA=k(t=>{const e=Yf(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const i=[...t];let s=i.indexOf("~"),o=i.lastIndexOf("~");for(;s!==-1&&o!==-1&&s!==o;)i[s]="<",i[o]=">",s=i.indexOf("~"),o=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),dy=k(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Vf=/\$\$(.*)\$\$/g,ua=k(t=>(t.match(Vf)?.length??0)>0,"hasKatex"),AR=k(async(t,e)=>{const r=document.createElement("div");r.innerHTML=await Xp(t,e),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const s={width:r.clientWidth,height:r.clientHeight};return r.remove(),s},"calculateMathMLDimensions"),JA=k(async(t,e)=>{if(!ua(t))return t;if(!(dy()||e.legacyMathML||e.forceLegacyMathML))return t.replace(Vf,"MathML is unsupported in this environment.");{const{default:r}=await it(async()=>{const{default:s}=await import("./katex-qrhCpa0F.js");return{default:s}},[]),i=e.forceLegacyMathML||!dy()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(il).map(s=>ua(s)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${s}</div>`:`<div>${s}</div>`).join("").replace(Vf,(s,o)=>r.renderToString(o,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Xp=k(async(t,e)=>Or(await JA(t,e),e),"renderKatexSanitized"),ga={getRows:WA,sanitizeText:Or,sanitizeTextOrArray:qA,hasBreaks:UA,splitBreaks:YA,lineBreakRegex:il,removeScript:Vv,getUrl:GA,evaluate:Bt,getMax:XA,getMin:QA},eE=k(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),tE=k(function(t,e,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},"calculateSvgSizeAttrs"),Xv=k(function(t,e,r,i){const s=tE(e,r,i);eE(t,s)},"configureSvgSize"),rE=k(function(t,e,r,i){const s=e.node().getBBox(),o=s.width,c=s.height;se.info(`SVG bounds: ${o}x${c}`,s);let l=0,h=0;se.info(`Graph bounds: ${l}x${h}`,t),l=o+r*2,h=c+r*2,se.info(`Calculated bounds: ${l}x${h}`),Xv(e,h,l,i);const d=`${s.x-r} ${s.y-r} ${s.width+2*r} ${s.height+2*r}`;e.attr("viewBox",d)},"setupGraphViewbox"),Yc={},nE=k((t,e,r)=>{let i="";return t in Yc&&Yc[t]?i=Yc[t](r):se.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${e}
`},"getStyles"),iE=k((t,e)=>{e!==void 0&&(Yc[t]=e)},"addStylesForDiagram"),sE=nE,Qv={};V4(Qv,{clear:()=>aE,getAccDescription:()=>uE,getAccTitle:()=>lE,getDiagramTitle:()=>dE,setAccDescription:()=>cE,setAccTitle:()=>oE,setDiagramTitle:()=>hE});var Qp="",Kp="",Zp="",Jp=k(t=>Or(t,Xt()),"sanitizeText"),aE=k(()=>{Qp="",Zp="",Kp=""},"clear"),oE=k(t=>{Qp=Jp(t).replace(/^\s+/g,"")},"setAccTitle"),lE=k(()=>Qp,"getAccTitle"),cE=k(t=>{Zp=Jp(t).replace(/\n\s+/g,`
`)},"setAccDescription"),uE=k(()=>Zp,"getAccDescription"),hE=k(t=>{Kp=Jp(t)},"setDiagramTitle"),dE=k(()=>Kp,"getDiagramTitle"),fy=se,fE=Vp,rt=Xt,ER=Hv,LR=ca,eg=k(t=>Or(t,rt()),"sanitizeText"),pE=rE,gE=k(()=>Qv,"getCommonDb"),gu={},mu=k((t,e,r)=>{gu[t]&&fy.warn(`Diagram with id ${t} already registered. Overwriting.`),gu[t]=e,r&&Rv(t,r),iE(t,e.styles),e.injectUtils?.(fy,fE,rt,eg,pE,gE(),()=>{})},"registerDiagram"),Gf=k(t=>{if(t in gu)return gu[t];throw new mE(t)},"getDiagram"),ia,mE=(ia=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},k(ia,"DiagramNotFoundError"),ia),xE=k(t=>{const{securityLevel:e}=rt();let r=$e("body");if(e==="sandbox"){const o=$e(`#i${t}`).node()?.contentDocument??document;r=$e(o.body)}return r.select(`#${t}`)},"selectSvgElement");function tg(t){return typeof t>"u"||t===null}k(tg,"isNothing");function Kv(t){return typeof t=="object"&&t!==null}k(Kv,"isObject");function Zv(t){return Array.isArray(t)?t:tg(t)?[]:[t]}k(Zv,"toArray");function Jv(t,e){var r,i,s,o;if(e)for(o=Object.keys(e),r=0,i=o.length;r<i;r+=1)s=o[r],t[s]=e[s];return t}k(Jv,"extend");function eb(t,e){var r="",i;for(i=0;i<e;i+=1)r+=t;return r}k(eb,"repeat");function tb(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}k(tb,"isNegativeZero");var yE=tg,vE=Kv,bE=Zv,wE=eb,kE=tb,CE=Jv,jt={isNothing:yE,isObject:vE,toArray:bE,repeat:wE,isNegativeZero:kE,extend:CE};function rg(t,e){var r="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),i+" "+r):i}k(rg,"formatError");function ha(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=rg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}k(ha,"YAMLException$1");ha.prototype=Object.create(Error.prototype);ha.prototype.constructor=ha;ha.prototype.toString=k(function(e){return this.name+": "+rg(this,e)},"toString");var yr=ha;function Vc(t,e,r,i,s){var o="",c="",l=Math.floor(s/2)-1;return i-e>l&&(o=" ... ",e=i-l+o.length),r-i>l&&(c=" ...",r=i+l-c.length),{str:o+t.slice(e,r).replace(/\t/g,"")+c,pos:i-e+o.length}}k(Vc,"getLine");function Gc(t,e){return jt.repeat(" ",e-t.length)+t}k(Gc,"padStart");function rb(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],s=[],o,c=-1;o=r.exec(t.buffer);)s.push(o.index),i.push(o.index+o[0].length),t.position<=o.index&&c<0&&(c=i.length-2);c<0&&(c=i.length-1);var l="",h,d,p=Math.min(t.line+e.linesAfter,s.length).toString().length,m=e.maxLength-(e.indent+p+3);for(h=1;h<=e.linesBefore&&!(c-h<0);h++)d=Vc(t.buffer,i[c-h],s[c-h],t.position-(i[c]-i[c-h]),m),l=jt.repeat(" ",e.indent)+Gc((t.line-h+1).toString(),p)+" | "+d.str+`
`+l;for(d=Vc(t.buffer,i[c],s[c],t.position,m),l+=jt.repeat(" ",e.indent)+Gc((t.line+1).toString(),p)+" | "+d.str+`
`,l+=jt.repeat("-",e.indent+p+3+d.pos)+`^
`,h=1;h<=e.linesAfter&&!(c+h>=s.length);h++)d=Vc(t.buffer,i[c+h],s[c+h],t.position-(i[c]-i[c+h]),m),l+=jt.repeat(" ",e.indent)+Gc((t.line+h+1).toString(),p)+" | "+d.str+`
`;return l.replace(/\n$/,"")}k(rb,"makeSnippet");var _E=rb,SE=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],TE=["scalar","sequence","mapping"];function nb(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(i){e[String(i)]=r})}),e}k(nb,"compileStyleAliases");function ib(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(SE.indexOf(r)===-1)throw new yr('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=nb(e.styleAliases||null),TE.indexOf(this.kind)===-1)throw new yr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}k(ib,"Type$1");var Qt=ib;function Xf(t,e){var r=[];return t[e].forEach(function(i){var s=r.length;r.forEach(function(o,c){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(s=c)}),r[s]=i}),r}k(Xf,"compileList");function sb(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function i(s){s.multi?(t.multi[s.kind].push(s),t.multi.fallback.push(s)):t[s.kind][s.tag]=t.fallback[s.tag]=s}for(k(i,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(i);return t}k(sb,"compileMap");function xu(t){return this.extend(t)}k(xu,"Schema$1");xu.prototype.extend=k(function(e){var r=[],i=[];if(e instanceof Qt)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new yr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Qt))throw new yr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new yr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new yr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof Qt))throw new yr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(xu.prototype);return s.implicit=(this.implicit||[]).concat(r),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=Xf(s,"implicit"),s.compiledExplicit=Xf(s,"explicit"),s.compiledTypeMap=sb(s.compiledImplicit,s.compiledExplicit),s},"extend");var NE=xu,AE=new Qt("tag:yaml.org,2002:str",{kind:"scalar",construct:k(function(t){return t!==null?t:""},"construct")}),EE=new Qt("tag:yaml.org,2002:seq",{kind:"sequence",construct:k(function(t){return t!==null?t:[]},"construct")}),LE=new Qt("tag:yaml.org,2002:map",{kind:"mapping",construct:k(function(t){return t!==null?t:{}},"construct")}),ME=new NE({explicit:[AE,EE,LE]});function ab(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}k(ab,"resolveYamlNull");function ob(){return null}k(ob,"constructYamlNull");function lb(t){return t===null}k(lb,"isNull");var jE=new Qt("tag:yaml.org,2002:null",{kind:"scalar",resolve:ab,construct:ob,predicate:lb,represent:{canonical:k(function(){return"~"},"canonical"),lowercase:k(function(){return"null"},"lowercase"),uppercase:k(function(){return"NULL"},"uppercase"),camelcase:k(function(){return"Null"},"camelcase"),empty:k(function(){return""},"empty")},defaultStyle:"lowercase"});function cb(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}k(cb,"resolveYamlBoolean");function ub(t){return t==="true"||t==="True"||t==="TRUE"}k(ub,"constructYamlBoolean");function hb(t){return Object.prototype.toString.call(t)==="[object Boolean]"}k(hb,"isBoolean");var BE=new Qt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cb,construct:ub,predicate:hb,represent:{lowercase:k(function(t){return t?"true":"false"},"lowercase"),uppercase:k(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:k(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function db(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}k(db,"isHexCode");function fb(t){return 48<=t&&t<=55}k(fb,"isOctCode");function pb(t){return 48<=t&&t<=57}k(pb,"isDecCode");function gb(t){if(t===null)return!1;var e=t.length,r=0,i=!1,s;if(!e)return!1;if(s=t[r],(s==="-"||s==="+")&&(s=t[++r]),s==="0"){if(r+1===e)return!0;if(s=t[++r],s==="b"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(!db(t.charCodeAt(r)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(!fb(t.charCodeAt(r)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;r<e;r++)if(s=t[r],s!=="_"){if(!pb(t.charCodeAt(r)))return!1;i=!0}return!(!i||s==="_")}k(gb,"resolveYamlInteger");function mb(t){var e=t,r=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}k(mb,"constructYamlInteger");function xb(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!jt.isNegativeZero(t)}k(xb,"isInteger");var DE=new Qt("tag:yaml.org,2002:int",{kind:"scalar",resolve:gb,construct:mb,predicate:xb,represent:{binary:k(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:k(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:k(function(t){return t.toString(10)},"decimal"),hexadecimal:k(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),$E=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function yb(t){return!(t===null||!$E.test(t)||t[t.length-1]==="_")}k(yb,"resolveYamlFloat");function vb(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}k(vb,"constructYamlFloat");var FE=/^[-+]?[0-9]+e/;function bb(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(jt.isNegativeZero(t))return"-0.0";return r=t.toString(10),FE.test(r)?r.replace("e",".e"):r}k(bb,"representYamlFloat");function wb(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||jt.isNegativeZero(t))}k(wb,"isFloat");var PE=new Qt("tag:yaml.org,2002:float",{kind:"scalar",resolve:yb,construct:vb,predicate:wb,represent:bb,defaultStyle:"lowercase"}),kb=ME.extend({implicit:[jE,BE,DE,PE]}),RE=kb,Cb=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),_b=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Sb(t){return t===null?!1:Cb.exec(t)!==null||_b.exec(t)!==null}k(Sb,"resolveYamlTimestamp");function Tb(t){var e,r,i,s,o,c,l,h=0,d=null,p,m,x;if(e=Cb.exec(t),e===null&&(e=_b.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(r,i,s));if(o=+e[4],c=+e[5],l=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(p=+e[10],m=+(e[11]||0),d=(p*60+m)*6e4,e[9]==="-"&&(d=-d)),x=new Date(Date.UTC(r,i,s,o,c,l,h)),d&&x.setTime(x.getTime()-d),x}k(Tb,"constructYamlTimestamp");function Nb(t){return t.toISOString()}k(Nb,"representYamlTimestamp");var OE=new Qt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Sb,construct:Tb,instanceOf:Date,represent:Nb});function Ab(t){return t==="<<"||t===null}k(Ab,"resolveYamlMerge");var IE=new Qt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ab}),ng=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Eb(t){if(t===null)return!1;var e,r,i=0,s=t.length,o=ng;for(r=0;r<s;r++)if(e=o.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}k(Eb,"resolveYamlBinary");function Lb(t){var e,r,i=t.replace(/[\r\n=]/g,""),s=i.length,o=ng,c=0,l=[];for(e=0;e<s;e++)e%4===0&&e&&(l.push(c>>16&255),l.push(c>>8&255),l.push(c&255)),c=c<<6|o.indexOf(i.charAt(e));return r=s%4*6,r===0?(l.push(c>>16&255),l.push(c>>8&255),l.push(c&255)):r===18?(l.push(c>>10&255),l.push(c>>2&255)):r===12&&l.push(c>>4&255),new Uint8Array(l)}k(Lb,"constructYamlBinary");function Mb(t){var e="",r=0,i,s,o=t.length,c=ng;for(i=0;i<o;i++)i%3===0&&i&&(e+=c[r>>18&63],e+=c[r>>12&63],e+=c[r>>6&63],e+=c[r&63]),r=(r<<8)+t[i];return s=o%3,s===0?(e+=c[r>>18&63],e+=c[r>>12&63],e+=c[r>>6&63],e+=c[r&63]):s===2?(e+=c[r>>10&63],e+=c[r>>4&63],e+=c[r<<2&63],e+=c[64]):s===1&&(e+=c[r>>2&63],e+=c[r<<4&63],e+=c[64],e+=c[64]),e}k(Mb,"representYamlBinary");function jb(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}k(jb,"isBinary");var zE=new Qt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Eb,construct:Lb,predicate:jb,represent:Mb}),WE=Object.prototype.hasOwnProperty,HE=Object.prototype.toString;function Bb(t){if(t===null)return!0;var e=[],r,i,s,o,c,l=t;for(r=0,i=l.length;r<i;r+=1){if(s=l[r],c=!1,HE.call(s)!=="[object Object]")return!1;for(o in s)if(WE.call(s,o))if(!c)c=!0;else return!1;if(!c)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}k(Bb,"resolveYamlOmap");function Db(t){return t!==null?t:[]}k(Db,"constructYamlOmap");var qE=new Qt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Bb,construct:Db}),UE=Object.prototype.toString;function $b(t){if(t===null)return!0;var e,r,i,s,o,c=t;for(o=new Array(c.length),e=0,r=c.length;e<r;e+=1){if(i=c[e],UE.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;o[e]=[s[0],i[s[0]]]}return!0}k($b,"resolveYamlPairs");function Fb(t){if(t===null)return[];var e,r,i,s,o,c=t;for(o=new Array(c.length),e=0,r=c.length;e<r;e+=1)i=c[e],s=Object.keys(i),o[e]=[s[0],i[s[0]]];return o}k(Fb,"constructYamlPairs");var YE=new Qt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$b,construct:Fb}),VE=Object.prototype.hasOwnProperty;function Pb(t){if(t===null)return!0;var e,r=t;for(e in r)if(VE.call(r,e)&&r[e]!==null)return!1;return!0}k(Pb,"resolveYamlSet");function Rb(t){return t!==null?t:{}}k(Rb,"constructYamlSet");var GE=new Qt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Pb,construct:Rb}),Ob=RE.extend({implicit:[OE,IE],explicit:[zE,qE,YE,GE]}),_i=Object.prototype.hasOwnProperty,yu=1,Ib=2,zb=3,vu=4,pf=1,XE=2,py=3,QE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KE=/[\x85\u2028\u2029]/,ZE=/[,\[\]\{\}]/,Wb=/^(?:!|!!|![a-z\-]+!)$/i,Hb=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Qf(t){return Object.prototype.toString.call(t)}k(Qf,"_class");function sn(t){return t===10||t===13}k(sn,"is_EOL");function ki(t){return t===9||t===32}k(ki,"is_WHITE_SPACE");function ir(t){return t===9||t===32||t===10||t===13}k(ir,"is_WS_OR_EOL");function ns(t){return t===44||t===91||t===93||t===123||t===125}k(ns,"is_FLOW_INDICATOR");function qb(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}k(qb,"fromHexCode");function Ub(t){return t===120?2:t===117?4:t===85?8:0}k(Ub,"escapedHexLen");function Yb(t){return 48<=t&&t<=57?t-48:-1}k(Yb,"fromDecimalCode");function Kf(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}k(Kf,"simpleEscapeSequence");function Vb(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}k(Vb,"charFromCodepoint");var Gb=new Array(256),Xb=new Array(256);for(Qi=0;Qi<256;Qi++)Gb[Qi]=Kf(Qi)?1:0,Xb[Qi]=Kf(Qi);var Qi;function Qb(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Ob,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}k(Qb,"State$1");function ig(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=_E(r),new yr(e,r)}k(ig,"generateError");function je(t,e){throw ig(t,e)}k(je,"throwError");function Yo(t,e){t.onWarning&&t.onWarning.call(null,ig(t,e))}k(Yo,"throwWarning");var gy={YAML:k(function(e,r,i){var s,o,c;e.version!==null&&je(e,"duplication of %YAML directive"),i.length!==1&&je(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&je(e,"ill-formed argument of the YAML directive"),o=parseInt(s[1],10),c=parseInt(s[2],10),o!==1&&je(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=c<2,c!==1&&c!==2&&Yo(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:k(function(e,r,i){var s,o;i.length!==2&&je(e,"TAG directive accepts exactly two arguments"),s=i[0],o=i[1],Wb.test(s)||je(e,"ill-formed tag handle (first argument) of the TAG directive"),_i.call(e.tagMap,s)&&je(e,'there is a previously declared suffix for "'+s+'" tag handle'),Hb.test(o)||je(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{je(e,"tag prefix is malformed: "+o)}e.tagMap[s]=o},"handleTagDirective")};function qn(t,e,r,i){var s,o,c,l;if(e<r){if(l=t.input.slice(e,r),i)for(s=0,o=l.length;s<o;s+=1)c=l.charCodeAt(s),c===9||32<=c&&c<=1114111||je(t,"expected valid JSON character");else QE.test(l)&&je(t,"the stream contains non-printable characters");t.result+=l}}k(qn,"captureSegment");function Zf(t,e,r,i){var s,o,c,l;for(jt.isObject(r)||je(t,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(r),c=0,l=s.length;c<l;c+=1)o=s[c],_i.call(e,o)||(e[o]=r[o],i[o]=!0)}k(Zf,"mergeMappings");function is(t,e,r,i,s,o,c,l,h){var d,p;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),d=0,p=s.length;d<p;d+=1)Array.isArray(s[d])&&je(t,"nested arrays are not supported inside keys"),typeof s=="object"&&Qf(s[d])==="[object Object]"&&(s[d]="[object Object]");if(typeof s=="object"&&Qf(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(d=0,p=o.length;d<p;d+=1)Zf(t,e,o[d],r);else Zf(t,e,o,r);else!t.json&&!_i.call(r,s)&&_i.call(e,s)&&(t.line=c||t.line,t.lineStart=l||t.lineStart,t.position=h||t.position,je(t,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[s]=o,delete r[s];return e}k(is,"storeMappingPair");function Xu(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):je(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}k(Xu,"readLineBreak");function kt(t,e,r){for(var i=0,s=t.input.charCodeAt(t.position);s!==0;){for(;ki(s);)s===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),s=t.input.charCodeAt(++t.position);if(e&&s===35)do s=t.input.charCodeAt(++t.position);while(s!==10&&s!==13&&s!==0);if(sn(s))for(Xu(t),s=t.input.charCodeAt(t.position),i++,t.lineIndent=0;s===32;)t.lineIndent++,s=t.input.charCodeAt(++t.position);else break}return r!==-1&&i!==0&&t.lineIndent<r&&Yo(t,"deficient indentation"),i}k(kt,"skipSeparationSpace");function sl(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||ir(r)))}k(sl,"testDocumentSeparator");function Qu(t,e){e===1?t.result+=" ":e>1&&(t.result+=jt.repeat(`
`,e-1))}k(Qu,"writeFoldedLines");function Kb(t,e,r){var i,s,o,c,l,h,d,p,m=t.kind,x=t.result,v;if(v=t.input.charCodeAt(t.position),ir(v)||ns(v)||v===35||v===38||v===42||v===33||v===124||v===62||v===39||v===34||v===37||v===64||v===96||(v===63||v===45)&&(s=t.input.charCodeAt(t.position+1),ir(s)||r&&ns(s)))return!1;for(t.kind="scalar",t.result="",o=c=t.position,l=!1;v!==0;){if(v===58){if(s=t.input.charCodeAt(t.position+1),ir(s)||r&&ns(s))break}else if(v===35){if(i=t.input.charCodeAt(t.position-1),ir(i))break}else{if(t.position===t.lineStart&&sl(t)||r&&ns(v))break;if(sn(v))if(h=t.line,d=t.lineStart,p=t.lineIndent,kt(t,!1,-1),t.lineIndent>=e){l=!0,v=t.input.charCodeAt(t.position);continue}else{t.position=c,t.line=h,t.lineStart=d,t.lineIndent=p;break}}l&&(qn(t,o,c,!1),Qu(t,t.line-h),o=c=t.position,l=!1),ki(v)||(c=t.position+1),v=t.input.charCodeAt(++t.position)}return qn(t,o,c,!1),t.result?!0:(t.kind=m,t.result=x,!1)}k(Kb,"readPlainScalar");function Zb(t,e){var r,i,s;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(qn(t,i,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)i=t.position,t.position++,s=t.position;else return!0;else sn(r)?(qn(t,i,s,!0),Qu(t,kt(t,!1,e)),i=s=t.position):t.position===t.lineStart&&sl(t)?je(t,"unexpected end of the document within a single quoted scalar"):(t.position++,s=t.position);je(t,"unexpected end of the stream within a single quoted scalar")}k(Zb,"readSingleQuotedScalar");function Jb(t,e){var r,i,s,o,c,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return qn(t,r,t.position,!0),t.position++,!0;if(l===92){if(qn(t,r,t.position,!0),l=t.input.charCodeAt(++t.position),sn(l))kt(t,!1,e);else if(l<256&&Gb[l])t.result+=Xb[l],t.position++;else if((c=Ub(l))>0){for(s=c,o=0;s>0;s--)l=t.input.charCodeAt(++t.position),(c=qb(l))>=0?o=(o<<4)+c:je(t,"expected hexadecimal character");t.result+=Vb(o),t.position++}else je(t,"unknown escape sequence");r=i=t.position}else sn(l)?(qn(t,r,i,!0),Qu(t,kt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&sl(t)?je(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}je(t,"unexpected end of the stream within a double quoted scalar")}k(Jb,"readDoubleQuotedScalar");function e2(t,e){var r=!0,i,s,o,c=t.tag,l,h=t.anchor,d,p,m,x,v,b=Object.create(null),C,_,S,N;if(N=t.input.charCodeAt(t.position),N===91)p=93,v=!1,l=[];else if(N===123)p=125,v=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),N=t.input.charCodeAt(++t.position);N!==0;){if(kt(t,!0,e),N=t.input.charCodeAt(t.position),N===p)return t.position++,t.tag=c,t.anchor=h,t.kind=v?"mapping":"sequence",t.result=l,!0;r?N===44&&je(t,"expected the node content, but found ','"):je(t,"missed comma between flow collection entries"),_=C=S=null,m=x=!1,N===63&&(d=t.input.charCodeAt(t.position+1),ir(d)&&(m=x=!0,t.position++,kt(t,!0,e))),i=t.line,s=t.lineStart,o=t.position,hs(t,e,yu,!1,!0),_=t.tag,C=t.result,kt(t,!0,e),N=t.input.charCodeAt(t.position),(x||t.line===i)&&N===58&&(m=!0,N=t.input.charCodeAt(++t.position),kt(t,!0,e),hs(t,e,yu,!1,!0),S=t.result),v?is(t,l,b,_,C,S,i,s,o):m?l.push(is(t,null,b,_,C,S,i,s,o)):l.push(C),kt(t,!0,e),N=t.input.charCodeAt(t.position),N===44?(r=!0,N=t.input.charCodeAt(++t.position)):r=!1}je(t,"unexpected end of the stream within a flow collection")}k(e2,"readFlowCollection");function t2(t,e){var r,i,s=pf,o=!1,c=!1,l=e,h=0,d=!1,p,m;if(m=t.input.charCodeAt(t.position),m===124)i=!1;else if(m===62)i=!0;else return!1;for(t.kind="scalar",t.result="";m!==0;)if(m=t.input.charCodeAt(++t.position),m===43||m===45)pf===s?s=m===43?py:XE:je(t,"repeat of a chomping mode identifier");else if((p=Yb(m))>=0)p===0?je(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?je(t,"repeat of an indentation width identifier"):(l=e+p-1,c=!0);else break;if(ki(m)){do m=t.input.charCodeAt(++t.position);while(ki(m));if(m===35)do m=t.input.charCodeAt(++t.position);while(!sn(m)&&m!==0)}for(;m!==0;){for(Xu(t),t.lineIndent=0,m=t.input.charCodeAt(t.position);(!c||t.lineIndent<l)&&m===32;)t.lineIndent++,m=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>l&&(l=t.lineIndent),sn(m)){h++;continue}if(t.lineIndent<l){s===py?t.result+=jt.repeat(`
`,o?1+h:h):s===pf&&o&&(t.result+=`
`);break}for(i?ki(m)?(d=!0,t.result+=jt.repeat(`
`,o?1+h:h)):d?(d=!1,t.result+=jt.repeat(`
`,h+1)):h===0?o&&(t.result+=" "):t.result+=jt.repeat(`
`,h):t.result+=jt.repeat(`
`,o?1+h:h),o=!0,c=!0,h=0,r=t.position;!sn(m)&&m!==0;)m=t.input.charCodeAt(++t.position);qn(t,r,t.position,!1)}return!0}k(t2,"readBlockScalar");function Jf(t,e){var r,i=t.tag,s=t.anchor,o=[],c,l=!1,h;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),h=t.input.charCodeAt(t.position);h!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,je(t,"tab characters must not be used in indentation")),!(h!==45||(c=t.input.charCodeAt(t.position+1),!ir(c))));){if(l=!0,t.position++,kt(t,!0,-1)&&t.lineIndent<=e){o.push(null),h=t.input.charCodeAt(t.position);continue}if(r=t.line,hs(t,e,zb,!1,!0),o.push(t.result),kt(t,!0,-1),h=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&h!==0)je(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=i,t.anchor=s,t.kind="sequence",t.result=o,!0):!1}k(Jf,"readBlockSequence");function r2(t,e,r){var i,s,o,c,l,h,d=t.tag,p=t.anchor,m={},x=Object.create(null),v=null,b=null,C=null,_=!1,S=!1,N;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),N=t.input.charCodeAt(t.position);N!==0;){if(!_&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,je(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,(N===63||N===58)&&ir(i))N===63?(_&&(is(t,m,x,v,b,null,c,l,h),v=b=C=null),S=!0,_=!0,s=!0):_?(_=!1,s=!0):je(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,N=i;else{if(c=t.line,l=t.lineStart,h=t.position,!hs(t,r,Ib,!1,!0))break;if(t.line===o){for(N=t.input.charCodeAt(t.position);ki(N);)N=t.input.charCodeAt(++t.position);if(N===58)N=t.input.charCodeAt(++t.position),ir(N)||je(t,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(is(t,m,x,v,b,null,c,l,h),v=b=C=null),S=!0,_=!1,s=!1,v=t.tag,b=t.result;else if(S)je(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=p,!0}else if(S)je(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=p,!0}if((t.line===o||t.lineIndent>e)&&(_&&(c=t.line,l=t.lineStart,h=t.position),hs(t,e,vu,!0,s)&&(_?b=t.result:C=t.result),_||(is(t,m,x,v,b,C,c,l,h),v=b=C=null),kt(t,!0,-1),N=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&N!==0)je(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return _&&is(t,m,x,v,b,null,c,l,h),S&&(t.tag=d,t.anchor=p,t.kind="mapping",t.result=m),S}k(r2,"readBlockMapping");function n2(t){var e,r=!1,i=!1,s,o,c;if(c=t.input.charCodeAt(t.position),c!==33)return!1;if(t.tag!==null&&je(t,"duplication of a tag property"),c=t.input.charCodeAt(++t.position),c===60?(r=!0,c=t.input.charCodeAt(++t.position)):c===33?(i=!0,s="!!",c=t.input.charCodeAt(++t.position)):s="!",e=t.position,r){do c=t.input.charCodeAt(++t.position);while(c!==0&&c!==62);t.position<t.length?(o=t.input.slice(e,t.position),c=t.input.charCodeAt(++t.position)):je(t,"unexpected end of the stream within a verbatim tag")}else{for(;c!==0&&!ir(c);)c===33&&(i?je(t,"tag suffix cannot contain exclamation marks"):(s=t.input.slice(e-1,t.position+1),Wb.test(s)||je(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),c=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),ZE.test(o)&&je(t,"tag suffix cannot contain flow indicator characters")}o&&!Hb.test(o)&&je(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{je(t,"tag name is malformed: "+o)}return r?t.tag=o:_i.call(t.tagMap,s)?t.tag=t.tagMap[s]+o:s==="!"?t.tag="!"+o:s==="!!"?t.tag="tag:yaml.org,2002:"+o:je(t,'undeclared tag handle "'+s+'"'),!0}k(n2,"readTagProperty");function i2(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&je(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ir(r)&&!ns(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&je(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}k(i2,"readAnchorProperty");function s2(t){var e,r,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!ir(i)&&!ns(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&je(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),_i.call(t.anchorMap,r)||je(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],kt(t,!0,-1),!0}k(s2,"readAlias");function hs(t,e,r,i,s){var o,c,l,h=1,d=!1,p=!1,m,x,v,b,C,_;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=c=l=vu===r||zb===r,i&&kt(t,!0,-1)&&(d=!0,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)),h===1)for(;n2(t)||i2(t);)kt(t,!0,-1)?(d=!0,l=o,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)):l=!1;if(l&&(l=d||s),(h===1||vu===r)&&(yu===r||Ib===r?C=e:C=e+1,_=t.position-t.lineStart,h===1?l&&(Jf(t,_)||r2(t,_,C))||e2(t,C)?p=!0:(c&&t2(t,C)||Zb(t,C)||Jb(t,C)?p=!0:s2(t)?(p=!0,(t.tag!==null||t.anchor!==null)&&je(t,"alias node should not have any properties")):Kb(t,C,yu===r)&&(p=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):h===0&&(p=l&&Jf(t,_))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&je(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),m=0,x=t.implicitTypes.length;m<x;m+=1)if(b=t.implicitTypes[m],b.resolve(t.result)){t.result=b.construct(t.result),t.tag=b.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(_i.call(t.typeMap[t.kind||"fallback"],t.tag))b=t.typeMap[t.kind||"fallback"][t.tag];else for(b=null,v=t.typeMap.multi[t.kind||"fallback"],m=0,x=v.length;m<x;m+=1)if(t.tag.slice(0,v[m].tag.length)===v[m].tag){b=v[m];break}b||je(t,"unknown tag !<"+t.tag+">"),t.result!==null&&b.kind!==t.kind&&je(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+b.kind+'", not "'+t.kind+'"'),b.resolve(t.result,t.tag)?(t.result=b.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):je(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||p}k(hs,"composeNode");function a2(t){var e=t.position,r,i,s,o=!1,c;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(c=t.input.charCodeAt(t.position))!==0&&(kt(t,!0,-1),c=t.input.charCodeAt(t.position),!(t.lineIndent>0||c!==37));){for(o=!0,c=t.input.charCodeAt(++t.position),r=t.position;c!==0&&!ir(c);)c=t.input.charCodeAt(++t.position);for(i=t.input.slice(r,t.position),s=[],i.length<1&&je(t,"directive name must not be less than one character in length");c!==0;){for(;ki(c);)c=t.input.charCodeAt(++t.position);if(c===35){do c=t.input.charCodeAt(++t.position);while(c!==0&&!sn(c));break}if(sn(c))break;for(r=t.position;c!==0&&!ir(c);)c=t.input.charCodeAt(++t.position);s.push(t.input.slice(r,t.position))}c!==0&&Xu(t),_i.call(gy,i)?gy[i](t,i,s):Yo(t,'unknown document directive "'+i+'"')}if(kt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,kt(t,!0,-1)):o&&je(t,"directives end mark is expected"),hs(t,t.lineIndent-1,vu,!1,!0),kt(t,!0,-1),t.checkLineBreaks&&KE.test(t.input.slice(e,t.position))&&Yo(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&sl(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,kt(t,!0,-1));return}if(t.position<t.length-1)je(t,"end of the stream or a document separator is expected");else return}k(a2,"readDocument");function sg(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Qb(t,e),i=t.indexOf("\0");for(i!==-1&&(r.position=i,je(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)a2(r);return r.documents}k(sg,"loadDocuments");function JE(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var i=sg(t,r);if(typeof e!="function")return i;for(var s=0,o=i.length;s<o;s+=1)e(i[s])}k(JE,"loadAll$1");function o2(t,e){var r=sg(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new yr("expected a single document in the stream, but found more")}}k(o2,"load$1");var eL=o2,tL={load:eL},l2=Object.prototype.toString,c2=Object.prototype.hasOwnProperty,ag=65279,rL=9,Vo=10,nL=13,iL=32,sL=33,aL=34,ep=35,oL=37,lL=38,cL=39,uL=42,u2=44,hL=45,bu=58,dL=61,fL=62,pL=63,gL=64,h2=91,d2=93,mL=96,f2=123,xL=124,p2=125,Zt={};Zt[0]="\\0";Zt[7]="\\a";Zt[8]="\\b";Zt[9]="\\t";Zt[10]="\\n";Zt[11]="\\v";Zt[12]="\\f";Zt[13]="\\r";Zt[27]="\\e";Zt[34]='\\"';Zt[92]="\\\\";Zt[133]="\\N";Zt[160]="\\_";Zt[8232]="\\L";Zt[8233]="\\P";var yL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],vL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function g2(t,e){var r,i,s,o,c,l,h;if(e===null)return{};for(r={},i=Object.keys(e),s=0,o=i.length;s<o;s+=1)c=i[s],l=String(e[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),h=t.compiledTypeMap.fallback[c],h&&c2.call(h.styleAliases,l)&&(l=h.styleAliases[l]),r[c]=l;return r}k(g2,"compileStyleMap");function m2(t){var e,r,i;if(e=t.toString(16).toUpperCase(),t<=255)r="x",i=2;else if(t<=65535)r="u",i=4;else if(t<=4294967295)r="U",i=8;else throw new yr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+jt.repeat("0",i-e.length)+e}k(m2,"encodeHex");var bL=1,Go=2;function x2(t){this.schema=t.schema||Ob,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=jt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=g2(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Go:bL,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}k(x2,"State");function tp(t,e){for(var r=jt.repeat(" ",e),i=0,s=-1,o="",c,l=t.length;i<l;)s=t.indexOf(`
`,i),s===-1?(c=t.slice(i),i=l):(c=t.slice(i,s+1),i=s+1),c.length&&c!==`
`&&(o+=r),o+=c;return o}k(tp,"indentString");function wu(t,e){return`
`+jt.repeat(" ",t.indent*e)}k(wu,"generateNextLine");function y2(t,e){var r,i,s;for(r=0,i=t.implicitTypes.length;r<i;r+=1)if(s=t.implicitTypes[r],s.resolve(e))return!0;return!1}k(y2,"testImplicitResolving");function Xo(t){return t===iL||t===rL}k(Xo,"isWhitespace");function da(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ag||65536<=t&&t<=1114111}k(da,"isPrintable");function rp(t){return da(t)&&t!==ag&&t!==nL&&t!==Vo}k(rp,"isNsCharOrWhitespace");function np(t,e,r){var i=rp(t),s=i&&!Xo(t);return(r?i:i&&t!==u2&&t!==h2&&t!==d2&&t!==f2&&t!==p2)&&t!==ep&&!(e===bu&&!s)||rp(e)&&!Xo(e)&&t===ep||e===bu&&s}k(np,"isPlainSafe");function v2(t){return da(t)&&t!==ag&&!Xo(t)&&t!==hL&&t!==pL&&t!==bu&&t!==u2&&t!==h2&&t!==d2&&t!==f2&&t!==p2&&t!==ep&&t!==lL&&t!==uL&&t!==sL&&t!==xL&&t!==dL&&t!==fL&&t!==cL&&t!==aL&&t!==oL&&t!==gL&&t!==mL}k(v2,"isPlainSafeFirst");function b2(t){return!Xo(t)&&t!==bu}k(b2,"isPlainSafeLast");function Gs(t,e){var r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}k(Gs,"codePointAt");function og(t){var e=/^\n* /;return e.test(t)}k(og,"needIndentIndicator");var w2=1,ip=2,k2=3,C2=4,Ys=5;function _2(t,e,r,i,s,o,c,l){var h,d=0,p=null,m=!1,x=!1,v=i!==-1,b=-1,C=v2(Gs(t,0))&&b2(Gs(t,t.length-1));if(e||c)for(h=0;h<t.length;d>=65536?h+=2:h++){if(d=Gs(t,h),!da(d))return Ys;C=C&&np(d,p,l),p=d}else{for(h=0;h<t.length;d>=65536?h+=2:h++){if(d=Gs(t,h),d===Vo)m=!0,v&&(x=x||h-b-1>i&&t[b+1]!==" ",b=h);else if(!da(d))return Ys;C=C&&np(d,p,l),p=d}x=x||v&&h-b-1>i&&t[b+1]!==" "}return!m&&!x?C&&!c&&!s(t)?w2:o===Go?Ys:ip:r>9&&og(t)?Ys:c?o===Go?Ys:ip:x?C2:k2}k(_2,"chooseScalarStyle");function S2(t,e,r,i,s){t.dump=(function(){if(e.length===0)return t.quotingType===Go?'""':"''";if(!t.noCompatMode&&(yL.indexOf(e)!==-1||vL.test(e)))return t.quotingType===Go?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,r),c=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),l=i||t.flowLevel>-1&&r>=t.flowLevel;function h(d){return y2(t,d)}switch(k(h,"testAmbiguity"),_2(e,l,t.indent,c,h,t.quotingType,t.forceQuotes&&!i,s)){case w2:return e;case ip:return"'"+e.replace(/'/g,"''")+"'";case k2:return"|"+sp(e,t.indent)+ap(tp(e,o));case C2:return">"+sp(e,t.indent)+ap(tp(T2(e,c),o));case Ys:return'"'+N2(e)+'"';default:throw new yr("impossible error: invalid scalar style")}})()}k(S2,"writeScalar");function sp(t,e){var r=og(t)?String(e):"",i=t[t.length-1]===`
`,s=i&&(t[t.length-2]===`
`||t===`
`),o=s?"+":i?"":"-";return r+o+`
`}k(sp,"blockHeader");function ap(t){return t[t.length-1]===`
`?t.slice(0,-1):t}k(ap,"dropEndingNewline");function T2(t,e){for(var r=/(\n+)([^\n]*)/g,i=(function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,r.lastIndex=d,op(t.slice(0,d),e)})(),s=t[0]===`
`||t[0]===" ",o,c;c=r.exec(t);){var l=c[1],h=c[2];o=h[0]===" ",i+=l+(!s&&!o&&h!==""?`
`:"")+op(h,e),s=o}return i}k(T2,"foldString");function op(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,i,s=0,o,c=0,l=0,h="";i=r.exec(t);)l=i.index,l-s>e&&(o=c>s?c:l,h+=`
`+t.slice(s,o),s=o+1),c=l;return h+=`
`,t.length-s>e&&c>s?h+=t.slice(s,c)+`
`+t.slice(c+1):h+=t.slice(s),h.slice(1)}k(op,"foldLine");function N2(t){for(var e="",r=0,i,s=0;s<t.length;r>=65536?s+=2:s++)r=Gs(t,s),i=Zt[r],!i&&da(r)?(e+=t[s],r>=65536&&(e+=t[s+1])):e+=i||m2(r);return e}k(N2,"escapeString");function A2(t,e,r){var i="",s=t.tag,o,c,l;for(o=0,c=r.length;o<c;o+=1)l=r[o],t.replacer&&(l=t.replacer.call(r,String(o),l)),(Cn(t,e,l,!1,!1)||typeof l>"u"&&Cn(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=s,t.dump="["+i+"]"}k(A2,"writeFlowSequence");function lp(t,e,r,i){var s="",o=t.tag,c,l,h;for(c=0,l=r.length;c<l;c+=1)h=r[c],t.replacer&&(h=t.replacer.call(r,String(c),h)),(Cn(t,e+1,h,!0,!0,!1,!0)||typeof h>"u"&&Cn(t,e+1,null,!0,!0,!1,!0))&&((!i||s!=="")&&(s+=wu(t,e)),t.dump&&Vo===t.dump.charCodeAt(0)?s+="-":s+="- ",s+=t.dump);t.tag=o,t.dump=s||"[]"}k(lp,"writeBlockSequence");function E2(t,e,r){var i="",s=t.tag,o=Object.keys(r),c,l,h,d,p;for(c=0,l=o.length;c<l;c+=1)p="",i!==""&&(p+=", "),t.condenseFlow&&(p+='"'),h=o[c],d=r[h],t.replacer&&(d=t.replacer.call(r,h,d)),Cn(t,e,h,!1,!1)&&(t.dump.length>1024&&(p+="? "),p+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Cn(t,e,d,!1,!1)&&(p+=t.dump,i+=p));t.tag=s,t.dump="{"+i+"}"}k(E2,"writeFlowMapping");function L2(t,e,r,i){var s="",o=t.tag,c=Object.keys(r),l,h,d,p,m,x;if(t.sortKeys===!0)c.sort();else if(typeof t.sortKeys=="function")c.sort(t.sortKeys);else if(t.sortKeys)throw new yr("sortKeys must be a boolean or a function");for(l=0,h=c.length;l<h;l+=1)x="",(!i||s!=="")&&(x+=wu(t,e)),d=c[l],p=r[d],t.replacer&&(p=t.replacer.call(r,d,p)),Cn(t,e+1,d,!0,!0,!0)&&(m=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,m&&(t.dump&&Vo===t.dump.charCodeAt(0)?x+="?":x+="? "),x+=t.dump,m&&(x+=wu(t,e)),Cn(t,e+1,p,!0,m)&&(t.dump&&Vo===t.dump.charCodeAt(0)?x+=":":x+=": ",x+=t.dump,s+=x));t.tag=o,t.dump=s||"{}"}k(L2,"writeBlockMapping");function cp(t,e,r){var i,s,o,c,l,h;for(s=r?t.explicitTypes:t.implicitTypes,o=0,c=s.length;o<c;o+=1)if(l=s[o],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(r?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(h=t.styleMap[l.tag]||l.defaultStyle,l2.call(l.represent)==="[object Function]")i=l.represent(e,h);else if(c2.call(l.represent,h))i=l.represent[h](e,h);else throw new yr("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');t.dump=i}return!0}return!1}k(cp,"detectType");function Cn(t,e,r,i,s,o,c){t.tag=null,t.dump=r,cp(t,r,!1)||cp(t,r,!0);var l=l2.call(t.dump),h=i,d;i&&(i=t.flowLevel<0||t.flowLevel>e);var p=l==="[object Object]"||l==="[object Array]",m,x;if(p&&(m=t.duplicates.indexOf(r),x=m!==-1),(t.tag!==null&&t.tag!=="?"||x||t.indent!==2&&e>0)&&(s=!1),x&&t.usedDuplicates[m])t.dump="*ref_"+m;else{if(p&&x&&!t.usedDuplicates[m]&&(t.usedDuplicates[m]=!0),l==="[object Object]")i&&Object.keys(t.dump).length!==0?(L2(t,e,t.dump,s),x&&(t.dump="&ref_"+m+t.dump)):(E2(t,e,t.dump),x&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!c&&e>0?lp(t,e-1,t.dump,s):lp(t,e,t.dump,s),x&&(t.dump="&ref_"+m+t.dump)):(A2(t,e,t.dump),x&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&S2(t,t.dump,e,o,h);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new yr("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}k(Cn,"writeNode");function M2(t,e){var r=[],i=[],s,o;for(ku(t,r,i),s=0,o=i.length;s<o;s+=1)e.duplicates.push(r[i[s]]);e.usedDuplicates=new Array(o)}k(M2,"getDuplicateReferences");function ku(t,e,r){var i,s,o;if(t!==null&&typeof t=="object")if(s=e.indexOf(t),s!==-1)r.indexOf(s)===-1&&r.push(s);else if(e.push(t),Array.isArray(t))for(s=0,o=t.length;s<o;s+=1)ku(t[s],e,r);else for(i=Object.keys(t),s=0,o=i.length;s<o;s+=1)ku(t[i[s]],e,r)}k(ku,"inspectNode");function wL(t,e){e=e||{};var r=new x2(e);r.noRefs||M2(t,r);var i=t;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Cn(r,0,i,!0,!0)?r.dump+`
`:""}k(wL,"dump$1");function kL(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}k(kL,"renamed");var CL=kb,_L=tL.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Gt={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},my={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function No(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=dt(t),e=dt(e);const[r,i]=[t.x,t.y],[s,o]=[e.x,e.y],c=s-r,l=o-i;return{angle:Math.atan(l/c),deltaX:c,deltaY:l}}k(No,"calculateDeltaAndAngle");var dt=k(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),SL=k(t=>({x:k(function(e,r,i){let s=0;const o=dt(i[0]).x<dt(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Gt,t.arrowTypeStart)){const{angle:v,deltaX:b}=No(i[0],i[1]);s=Gt[t.arrowTypeStart]*Math.cos(v)*(b>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Gt,t.arrowTypeEnd)){const{angle:v,deltaX:b}=No(i[i.length-1],i[i.length-2]);s=Gt[t.arrowTypeEnd]*Math.cos(v)*(b>=0?1:-1)}const c=Math.abs(dt(e).x-dt(i[i.length-1]).x),l=Math.abs(dt(e).y-dt(i[i.length-1]).y),h=Math.abs(dt(e).x-dt(i[0]).x),d=Math.abs(dt(e).y-dt(i[0]).y),p=Gt[t.arrowTypeStart],m=Gt[t.arrowTypeEnd],x=1;if(c<m&&c>0&&l<m){let v=m+x-c;v*=o==="right"?-1:1,s-=v}if(h<p&&h>0&&d<p){let v=p+x-h;v*=o==="right"?-1:1,s+=v}return dt(e).x+s},"x"),y:k(function(e,r,i){let s=0;const o=dt(i[0]).y<dt(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Gt,t.arrowTypeStart)){const{angle:v,deltaY:b}=No(i[0],i[1]);s=Gt[t.arrowTypeStart]*Math.abs(Math.sin(v))*(b>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Gt,t.arrowTypeEnd)){const{angle:v,deltaY:b}=No(i[i.length-1],i[i.length-2]);s=Gt[t.arrowTypeEnd]*Math.abs(Math.sin(v))*(b>=0?1:-1)}const c=Math.abs(dt(e).y-dt(i[i.length-1]).y),l=Math.abs(dt(e).x-dt(i[i.length-1]).x),h=Math.abs(dt(e).y-dt(i[0]).y),d=Math.abs(dt(e).x-dt(i[0]).x),p=Gt[t.arrowTypeStart],m=Gt[t.arrowTypeEnd],x=1;if(c<m&&c>0&&l<m){let v=m+x-c;v*=o==="up"?-1:1,s-=v}if(h<p&&h>0&&d<p){let v=p+x-h;v*=o==="up"?-1:1,s+=v}return dt(e).y+s},"y")}),"getLineFunctionsWithOffset"),lg=k(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0,i=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),TL=k(t=>{const{handDrawnSeed:e}=rt();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),ma=k(t=>{const e=NL([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),NL=k(t=>{const e=new Map;return t.forEach(r=>{const[i,s]=r.split(":");e.set(i.trim(),s?.trim())}),e},"styles2Map"),j2=k(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Se=k(t=>{const{stylesArray:e}=ma(t),r=[],i=[],s=[],o=[];return e.forEach(c=>{const l=c[0];j2(l)?r.push(c.join(":")+" !important"):(i.push(c.join(":")+" !important"),l.includes("stroke")&&s.push(c.join(":")+" !important"),l==="fill"&&o.push(c.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:e,borderStyles:s,backgroundStyles:o}},"styles2String"),_e=k((t,e)=>{const{themeVariables:r,handDrawnSeed:i}=rt(),{nodeBorder:s,mainBkg:o}=r,{stylesMap:c}=ma(t);return Object.assign({roughness:.7,fill:c.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:c.get("stroke")||s,seed:i,strokeWidth:c.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:AL(c.get("stroke-dasharray"))},e)},"userNodeOverrides"),AL=k(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const s=isNaN(e[0])?0:e[0];return[s,s]}const r=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1];return[r,i]},"getStrokeDashArray"),xo={},Et={},xy;function EL(){return xy||(xy=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.BLANK_URL=Et.relativeFirstCharacters=Et.whitespaceEscapeCharsRegex=Et.urlSchemeRegex=Et.ctrlCharactersRegex=Et.htmlCtrlEntityRegex=Et.htmlEntitiesRegex=Et.invalidProtocolRegex=void 0,Et.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Et.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Et.htmlCtrlEntityRegex=/&(newline|tab);/gi,Et.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Et.urlSchemeRegex=/^.+(:|&colon;)/gim,Et.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Et.relativeFirstCharacters=[".","/"],Et.BLANK_URL="about:blank"),Et}var yy;function LL(){if(yy)return xo;yy=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.sanitizeUrl=void 0;var t=EL();function e(c){return t.relativeFirstCharacters.indexOf(c[0])>-1}function r(c){var l=c.replace(t.ctrlCharactersRegex,"");return l.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}function i(c){return URL.canParse(c)}function s(c){try{return decodeURIComponent(c)}catch{return c}}function o(c){if(!c)return t.BLANK_URL;var l,h=s(c.trim());do h=r(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=s(h),l=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(l&&l.length>0);var d=h;if(!d)return t.BLANK_URL;if(e(d))return d;var p=d.trimStart(),m=p.match(t.urlSchemeRegex);if(!m)return d;var x=m[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(x))return t.BLANK_URL;var v=p.replace(/\\/g,"/");if(x==="mailto:"||x.includes("://"))return v;if(x==="http:"||x==="https:"){if(!i(v))return t.BLANK_URL;var b=new URL(v);return b.protocol=b.protocol.toLowerCase(),b.hostname=b.hostname.toLowerCase(),b.toString()}return v}return xo.sanitizeUrl=o,xo}var ML=LL(),B2=typeof global=="object"&&global&&global.Object===Object&&global,jL=typeof self=="object"&&self&&self.Object===Object&&self,Sn=B2||jL||Function("return this")(),Cu=Sn.Symbol,D2=Object.prototype,BL=D2.hasOwnProperty,DL=D2.toString,yo=Cu?Cu.toStringTag:void 0;function $L(t){var e=BL.call(t,yo),r=t[yo];try{t[yo]=void 0;var i=!0}catch{}var s=DL.call(t);return i&&(e?t[yo]=r:delete t[yo]),s}var FL=Object.prototype,PL=FL.toString;function RL(t){return PL.call(t)}var OL="[object Null]",IL="[object Undefined]",vy=Cu?Cu.toStringTag:void 0;function xa(t){return t==null?t===void 0?IL:OL:vy&&vy in Object(t)?$L(t):RL(t)}function gs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zL="[object AsyncFunction]",WL="[object Function]",HL="[object GeneratorFunction]",qL="[object Proxy]";function cg(t){if(!gs(t))return!1;var e=xa(t);return e==WL||e==HL||e==zL||e==qL}var gf=Sn["__core-js_shared__"],by=(function(){var t=/[^.]+$/.exec(gf&&gf.keys&&gf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function UL(t){return!!by&&by in t}var YL=Function.prototype,VL=YL.toString;function ms(t){if(t!=null){try{return VL.call(t)}catch{}try{return t+""}catch{}}return""}var GL=/[\\^$.*+?()[\]{}|]/g,XL=/^\[object .+?Constructor\]$/,QL=Function.prototype,KL=Object.prototype,ZL=QL.toString,JL=KL.hasOwnProperty,eM=RegExp("^"+ZL.call(JL).replace(GL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tM(t){if(!gs(t)||UL(t))return!1;var e=cg(t)?eM:XL;return e.test(ms(t))}function rM(t,e){return t?.[e]}function xs(t,e){var r=rM(t,e);return tM(r)?r:void 0}var Qo=xs(Object,"create");function nM(){this.__data__=Qo?Qo(null):{},this.size=0}function iM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sM="__lodash_hash_undefined__",aM=Object.prototype,oM=aM.hasOwnProperty;function lM(t){var e=this.__data__;if(Qo){var r=e[t];return r===sM?void 0:r}return oM.call(e,t)?e[t]:void 0}var cM=Object.prototype,uM=cM.hasOwnProperty;function hM(t){var e=this.__data__;return Qo?e[t]!==void 0:uM.call(e,t)}var dM="__lodash_hash_undefined__";function fM(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qo&&e===void 0?dM:e,this}function ds(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ds.prototype.clear=nM;ds.prototype.delete=iM;ds.prototype.get=lM;ds.prototype.has=hM;ds.prototype.set=fM;function pM(){this.__data__=[],this.size=0}function Ku(t,e){return t===e||t!==t&&e!==e}function Zu(t,e){for(var r=t.length;r--;)if(Ku(t[r][0],e))return r;return-1}var gM=Array.prototype,mM=gM.splice;function xM(t){var e=this.__data__,r=Zu(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():mM.call(e,r,1),--this.size,!0}function yM(t){var e=this.__data__,r=Zu(e,t);return r<0?void 0:e[r][1]}function vM(t){return Zu(this.__data__,t)>-1}function bM(t,e){var r=this.__data__,i=Zu(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Gn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Gn.prototype.clear=pM;Gn.prototype.delete=xM;Gn.prototype.get=yM;Gn.prototype.has=vM;Gn.prototype.set=bM;var Ko=xs(Sn,"Map");function wM(){this.size=0,this.__data__={hash:new ds,map:new(Ko||Gn),string:new ds}}function kM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ju(t,e){var r=t.__data__;return kM(e)?r[typeof e=="string"?"string":"hash"]:r.map}function CM(t){var e=Ju(this,t).delete(t);return this.size-=e?1:0,e}function _M(t){return Ju(this,t).get(t)}function SM(t){return Ju(this,t).has(t)}function TM(t,e){var r=Ju(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function Ni(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ni.prototype.clear=wM;Ni.prototype.delete=CM;Ni.prototype.get=_M;Ni.prototype.has=SM;Ni.prototype.set=TM;var NM="Expected a function";function al(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NM);var r=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=r.cache;if(o.has(s))return o.get(s);var c=t.apply(this,i);return r.cache=o.set(s,c)||o,c};return r.cache=new(al.Cache||Ni),r}al.Cache=Ni;function AM(){this.__data__=new Gn,this.size=0}function EM(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function LM(t){return this.__data__.get(t)}function MM(t){return this.__data__.has(t)}var jM=200;function BM(t,e){var r=this.__data__;if(r instanceof Gn){var i=r.__data__;if(!Ko||i.length<jM-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ni(i)}return r.set(t,e),this.size=r.size,this}function ya(t){var e=this.__data__=new Gn(t);this.size=e.size}ya.prototype.clear=AM;ya.prototype.delete=EM;ya.prototype.get=LM;ya.prototype.has=MM;ya.prototype.set=BM;var _u=(function(){try{var t=xs(Object,"defineProperty");return t({},"",{}),t}catch{}})();function ug(t,e,r){e=="__proto__"&&_u?_u(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function up(t,e,r){(r!==void 0&&!Ku(t[e],r)||r===void 0&&!(e in t))&&ug(t,e,r)}function DM(t){return function(e,r,i){for(var s=-1,o=Object(e),c=i(e),l=c.length;l--;){var h=c[++s];if(r(o[h],h,o)===!1)break}return e}}var $M=DM(),$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wy=$2&&typeof module=="object"&&module&&!module.nodeType&&module,FM=wy&&wy.exports===$2,ky=FM?Sn.Buffer:void 0,Cy=ky?ky.allocUnsafe:void 0;function PM(t,e){if(e)return t.slice();var r=t.length,i=Cy?Cy(r):new t.constructor(r);return t.copy(i),i}var _y=Sn.Uint8Array;function RM(t){var e=new t.constructor(t.byteLength);return new _y(e).set(new _y(t)),e}function OM(t,e){var r=e?RM(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function IM(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}var Sy=Object.create,zM=(function(){function t(){}return function(e){if(!gs(e))return{};if(Sy)return Sy(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function F2(t,e){return function(r){return t(e(r))}}var P2=F2(Object.getPrototypeOf,Object),WM=Object.prototype;function eh(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||WM;return t===r}function HM(t){return typeof t.constructor=="function"&&!eh(t)?zM(P2(t)):{}}function ol(t){return t!=null&&typeof t=="object"}var qM="[object Arguments]";function Ty(t){return ol(t)&&xa(t)==qM}var R2=Object.prototype,UM=R2.hasOwnProperty,YM=R2.propertyIsEnumerable,Su=Ty((function(){return arguments})())?Ty:function(t){return ol(t)&&UM.call(t,"callee")&&!YM.call(t,"callee")},Tu=Array.isArray,VM=9007199254740991;function O2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=VM}function th(t){return t!=null&&O2(t.length)&&!cg(t)}function GM(t){return ol(t)&&th(t)}function XM(){return!1}var I2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ny=I2&&typeof module=="object"&&module&&!module.nodeType&&module,QM=Ny&&Ny.exports===I2,Ay=QM?Sn.Buffer:void 0,KM=Ay?Ay.isBuffer:void 0,hg=KM||XM,ZM="[object Object]",JM=Function.prototype,ej=Object.prototype,z2=JM.toString,tj=ej.hasOwnProperty,rj=z2.call(Object);function nj(t){if(!ol(t)||xa(t)!=ZM)return!1;var e=P2(t);if(e===null)return!0;var r=tj.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&z2.call(r)==rj}var ij="[object Arguments]",sj="[object Array]",aj="[object Boolean]",oj="[object Date]",lj="[object Error]",cj="[object Function]",uj="[object Map]",hj="[object Number]",dj="[object Object]",fj="[object RegExp]",pj="[object Set]",gj="[object String]",mj="[object WeakMap]",xj="[object ArrayBuffer]",yj="[object DataView]",vj="[object Float32Array]",bj="[object Float64Array]",wj="[object Int8Array]",kj="[object Int16Array]",Cj="[object Int32Array]",_j="[object Uint8Array]",Sj="[object Uint8ClampedArray]",Tj="[object Uint16Array]",Nj="[object Uint32Array]",ut={};ut[vj]=ut[bj]=ut[wj]=ut[kj]=ut[Cj]=ut[_j]=ut[Sj]=ut[Tj]=ut[Nj]=!0;ut[ij]=ut[sj]=ut[xj]=ut[aj]=ut[yj]=ut[oj]=ut[lj]=ut[cj]=ut[uj]=ut[hj]=ut[dj]=ut[fj]=ut[pj]=ut[gj]=ut[mj]=!1;function Aj(t){return ol(t)&&O2(t.length)&&!!ut[xa(t)]}function Ej(t){return function(e){return t(e)}}var W2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ro=W2&&typeof module=="object"&&module&&!module.nodeType&&module,Lj=Ro&&Ro.exports===W2,mf=Lj&&B2.process,Ey=(function(){try{var t=Ro&&Ro.require&&Ro.require("util").types;return t||mf&&mf.binding&&mf.binding("util")}catch{}})(),Ly=Ey&&Ey.isTypedArray,dg=Ly?Ej(Ly):Aj;function hp(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Mj=Object.prototype,jj=Mj.hasOwnProperty;function Bj(t,e,r){var i=t[e];(!(jj.call(t,e)&&Ku(i,r))||r===void 0&&!(e in t))&&ug(t,e,r)}function Dj(t,e,r,i){var s=!r;r||(r={});for(var o=-1,c=e.length;++o<c;){var l=e[o],h=void 0;h===void 0&&(h=t[l]),s?ug(r,l,h):Bj(r,l,h)}return r}function $j(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var Fj=9007199254740991,Pj=/^(?:0|[1-9]\d*)$/;function H2(t,e){var r=typeof t;return e=e??Fj,!!e&&(r=="number"||r!="symbol"&&Pj.test(t))&&t>-1&&t%1==0&&t<e}var Rj=Object.prototype,Oj=Rj.hasOwnProperty;function Ij(t,e){var r=Tu(t),i=!r&&Su(t),s=!r&&!i&&hg(t),o=!r&&!i&&!s&&dg(t),c=r||i||s||o,l=c?$j(t.length,String):[],h=l.length;for(var d in t)(e||Oj.call(t,d))&&!(c&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||H2(d,h)))&&l.push(d);return l}function zj(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Wj=Object.prototype,Hj=Wj.hasOwnProperty;function qj(t){if(!gs(t))return zj(t);var e=eh(t),r=[];for(var i in t)i=="constructor"&&(e||!Hj.call(t,i))||r.push(i);return r}function q2(t){return th(t)?Ij(t,!0):qj(t)}function Uj(t){return Dj(t,q2(t))}function Yj(t,e,r,i,s,o,c){var l=hp(t,r),h=hp(e,r),d=c.get(h);if(d){up(t,r,d);return}var p=o?o(l,h,r+"",t,e,c):void 0,m=p===void 0;if(m){var x=Tu(h),v=!x&&hg(h),b=!x&&!v&&dg(h);p=h,x||v||b?Tu(l)?p=l:GM(l)?p=IM(l):v?(m=!1,p=PM(h,!0)):b?(m=!1,p=OM(h,!0)):p=[]:nj(h)||Su(h)?(p=l,Su(l)?p=Uj(l):(!gs(l)||cg(l))&&(p=HM(h))):m=!1}m&&(c.set(h,p),s(p,h,i,o,c),c.delete(h)),up(t,r,p)}function U2(t,e,r,i,s){t!==e&&$M(e,function(o,c){if(s||(s=new ya),gs(o))Yj(t,e,c,r,U2,i,s);else{var l=i?i(hp(t,c),o,c+"",t,e,s):void 0;l===void 0&&(l=o),up(t,c,l)}},q2)}function Y2(t){return t}function Vj(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var My=Math.max;function Gj(t,e,r){return e=My(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=My(i.length-e,0),c=Array(o);++s<o;)c[s]=i[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=i[s];return l[e]=r(c),Vj(t,this,l)}}function Xj(t){return function(){return t}}var Qj=_u?function(t,e){return _u(t,"toString",{configurable:!0,enumerable:!1,value:Xj(e),writable:!0})}:Y2,Kj=800,Zj=16,Jj=Date.now;function eB(t){var e=0,r=0;return function(){var i=Jj(),s=Zj-(i-r);if(r=i,s>0){if(++e>=Kj)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var tB=eB(Qj);function rB(t,e){return tB(Gj(t,e,Y2),t+"")}function nB(t,e,r){if(!gs(r))return!1;var i=typeof e;return(i=="number"?th(r)&&H2(e,r.length):i=="string"&&e in r)?Ku(r[e],t):!1}function iB(t){return rB(function(e,r){var i=-1,s=r.length,o=s>1?r[s-1]:void 0,c=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,c&&nB(r[0],r[1],c)&&(o=s<3?void 0:o,s=1),e=Object(e);++i<s;){var l=r[i];l&&t(e,l,i,o)}return e})}var sB=iB(function(t,e,r){U2(t,e,r)}),aB="",oB={curveBasis:Wc,curveBasisClosed:q3,curveBasisOpen:U3,curveBumpX:av,curveBumpY:ov,curveBundle:Y3,curveCardinalClosed:V3,curveCardinalOpen:G3,curveCardinal:hv,curveCatmullRomClosed:X3,curveCatmullRomOpen:Q3,curveCatmullRom:fv,curveLinear:ou,curveLinearClosed:K3,curveMonotoneX:vv,curveMonotoneY:bv,curveNatural:kv,curveStep:Cv,curveStepAfter:Sv,curveStepBefore:_v},lB=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,cB=k(function(t,e){const r=V2(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const c=r.map(l=>l.args);du(c),i=Mt(i,[...c])}else i=r.args;if(!i)return;let s=Gp(t,e);const o="config";return i[o]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),i[s]=i[o],delete i[o]),i},"detectInit"),V2=k(function(t,e=null){try{const r=new RegExp(`[%]{2}(?![{]${lB.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(r,"").replace(/'/gm,'"'),se.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let i;const s=[];for(;(i=Fo.exec(t))!==null;)if(i.index===Fo.lastIndex&&Fo.lastIndex++,i&&!e||e&&i[1]?.match(e)||e&&i[2]?.match(e)){const o=i[1]?i[1]:i[2],c=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;s.push({type:o,args:c})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(r){return se.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),uB=k(function(t){return t.replace(Fo,"")},"removeDirectives"),hB=k(function(t,e){for(const[r,i]of e.entries())if(i.match(t))return r;return-1},"isSubstringInArray");function fg(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return oB[r]??e}k(fg,"interpolateToCurve");function G2(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?ML.sanitizeUrl(r):r}k(G2,"formatUrl");var dB=k((t,...e)=>{const r=t.split("."),i=r.length-1,s=r[i];let o=window;for(let c=0;c<i;c++)if(o=o[r[c]],!o){se.error(`Function name: ${t} not found in window`);return}o[s](...e)},"runFunc");function pg(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}k(pg,"distance");function X2(t){let e,r=0;t.forEach(s=>{r+=pg(s,e),e=s});const i=r/2;return gg(t,i)}k(X2,"traverseEdge");function Q2(t){return t.length===1?t[0]:X2(t)}k(Q2,"calcLabelPosition");var jy=k((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),gg=k((t,e)=>{let r,i=e;for(const s of t){if(r){const o=pg(s,r);if(o===0)return r;if(o<i)i-=o;else{const c=i/o;if(c<=0)return r;if(c>=1)return{x:s.x,y:s.y};if(c>0&&c<1)return{x:jy((1-c)*r.x+c*s.x,5),y:jy((1-c)*r.y+c*s.y,5)}}}r=s}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),fB=k((t,e,r)=>{se.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const s=gg(e,25),o=t?10:5,c=Math.atan2(e[0].y-s.y,e[0].x-s.x),l={x:0,y:0};return l.x=Math.sin(c)*o+(e[0].x+s.x)/2,l.y=-Math.cos(c)*o+(e[0].y+s.y)/2,l},"calcCardinalityPosition");function K2(t,e,r){const i=structuredClone(r);se.info("our points",i),e!=="start_left"&&e!=="start_right"&&i.reverse();const s=25+t,o=gg(i,s),c=10+t*.5,l=Math.atan2(i[0].y-o.y,i[0].x-o.x),h={x:0,y:0};return e==="start_left"?(h.x=Math.sin(l+Math.PI)*c+(i[0].x+o.x)/2,h.y=-Math.cos(l+Math.PI)*c+(i[0].y+o.y)/2):e==="end_right"?(h.x=Math.sin(l-Math.PI)*c+(i[0].x+o.x)/2-5,h.y=-Math.cos(l-Math.PI)*c+(i[0].y+o.y)/2-5):e==="end_left"?(h.x=Math.sin(l)*c+(i[0].x+o.x)/2-5,h.y=-Math.cos(l)*c+(i[0].y+o.y)/2-5):(h.x=Math.sin(l)*c+(i[0].x+o.x)/2,h.y=-Math.cos(l)*c+(i[0].y+o.y)/2),h}k(K2,"calcTerminalLabelPosition");function Z2(t){let e="",r="";for(const i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":e=e+i+";");return{style:e,labelStyle:r}}k(Z2,"getStylesFromArray");var By=0,pB=k(()=>(By++,"id-"+Math.random().toString(36).substr(2,12)+"-"+By),"generateId");function J2(t){let e="";const r="0123456789abcdef",i=r.length;for(let s=0;s<t;s++)e+=r.charAt(Math.floor(Math.random()*i));return e}k(J2,"makeRandomHex");var gB=k(t=>J2(t.length),"random"),mB=k(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),xB=k(function(t,e){const r=e.text.replace(ga.lineBreakRegex," "),[,i]=rh(e.fontSize),s=t.append("text");s.attr("x",e.x),s.attr("y",e.y),s.style("text-anchor",e.anchor),s.style("font-family",e.fontFamily),s.style("font-size",i),s.style("font-weight",e.fontWeight),s.attr("fill",e.fill),e.class!==void 0&&s.attr("class",e.class);const o=s.append("tspan");return o.attr("x",e.x+e.textMargin*2),o.attr("fill",e.fill),o.text(r),s},"drawSimpleText"),yB=al((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),ga.lineBreakRegex.test(t)))return t;const i=t.split(" ").filter(Boolean),s=[];let o="";return i.forEach((c,l)=>{const h=Yn(`${c} `,r),d=Yn(o,r);if(h>e){const{hyphenatedStrings:x,remainingWord:v}=vB(c,e,"-",r);s.push(o,...x),o=v}else d+h>=e?(s.push(o),o=c):o=[o,c].filter(Boolean).join(" ");l+1===i.length&&s.push(o)}),s.filter(c=>c!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),vB=al((t,e,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const s=[...t],o=[];let c="";return s.forEach((l,h)=>{const d=`${c}${l}`;if(Yn(d,i)>=e){const m=h+1,x=s.length===m,v=`${d}${r}`;o.push(x?d:v),c=""}else c=d}),{hyphenatedStrings:o,remainingWord:c}},(t,e,r="-",i)=>`${t}${e}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function ew(t,e){return mg(t,e).height}k(ew,"calculateTextHeight");function Yn(t,e){return mg(t,e).width}k(Yn,"calculateTextWidth");var mg=al((t,e)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:s=400}=e;if(!t)return{width:0,height:0};const[,o]=rh(r),c=["sans-serif",i],l=t.split(ga.lineBreakRegex),h=[],d=$e("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const p=d.append("svg");for(const x of c){let v=0;const b={width:0,height:0,lineHeight:0};for(const C of l){const _=mB();_.text=C||aB;const S=xB(p,_).style("font-size",o).style("font-weight",s).style("font-family",x),N=(S._groups||S)[0][0].getBBox();if(N.width===0&&N.height===0)throw new Error("svg element not in render tree");b.width=Math.round(Math.max(b.width,N.width)),v=Math.round(N.height),b.height+=v,b.lineHeight=Math.round(Math.max(b.lineHeight,v))}h.push(b)}p.remove();const m=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[m]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),sa,bB=(sa=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},k(sa,"InitIDGenerator"),sa),Ec,wB=k(function(t){return Ec=Ec||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ec.innerHTML=t,unescape(Ec.textContent)},"entityDecode");function xg(t){return"str"in t}k(xg,"isDetailedError");var kB=k((t,e,r,i)=>{if(!i)return;const s=t.node()?.getBBox();s&&t.append("text").text(i).attr("text-anchor","middle").attr("x",s.x+s.width/2).attr("y",-r).attr("class",e)},"insertTitle"),rh=k(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function yg(t,e){return sB({},t,e)}k(yg,"cleanAndMerge");var nn={assignWithDepth:Mt,wrapLabel:yB,calculateTextHeight:ew,calculateTextWidth:Yn,calculateTextDimensions:mg,cleanAndMerge:yg,detectInit:cB,detectDirective:V2,isSubstringInArray:hB,interpolateToCurve:fg,calcLabelPosition:Q2,calcCardinalityPosition:fB,calcTerminalLabelPosition:K2,formatUrl:G2,getStylesFromArray:Z2,generateId:pB,random:gB,runFunc:dB,entityDecode:wB,insertTitle:kB,isLabelCoordinateInPath:tw,parseFontSize:rh,InitIDGenerator:bB},CB=k(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),e},"encodeEntities"),ys=k(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),MR=k((t,e,{counter:r=0,prefix:i,suffix:s},o)=>o||`${i?`${i}_`:""}${t}_${e}_${r}${s?`_${s}`:""}`,"getEdgeId");function Kt(t){return t??null}k(Kt,"handleUndefinedAttr");function tw(t,e){const r=Math.round(t.x),i=Math.round(t.y),s=e.replace(/(\d+\.\d+)/g,o=>Math.round(parseFloat(o)).toString());return s.includes(r.toString())||s.includes(i.toString())}k(tw,"isLabelCoordinateInPath");const _B=Object.freeze({left:0,top:0,width:16,height:16}),Nu=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),rw=Object.freeze({..._B,...Nu}),SB=Object.freeze({...rw,body:"",hidden:!1}),TB=Object.freeze({width:null,height:null}),NB=Object.freeze({...TB,...Nu}),AB=(t,e,r,i="")=>{const s=t.split(":");if(t.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;i=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const l=s.pop(),h=s.pop(),d={provider:s.length>0?s[0]:i,prefix:h,name:l};return xf(d)?d:null}const o=s[0],c=o.split("-");if(c.length>1){const l={provider:i,prefix:c.shift(),name:c.join("-")};return xf(l)?l:null}if(r&&i===""){const l={provider:i,prefix:"",name:o};return xf(l,r)?l:null}return null},xf=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function EB(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const i=((t.rotate||0)+(e.rotate||0))%4;return i&&(r.rotate=i),r}function Dy(t,e){const r=EB(t,e);for(const i in SB)i in Nu?i in t&&!(i in r)&&(r[i]=Nu[i]):i in e?r[i]=e[i]:i in t&&(r[i]=t[i]);return r}function LB(t,e){const r=t.icons,i=t.aliases||Object.create(null),s=Object.create(null);function o(c){if(r[c])return s[c]=[];if(!(c in s)){s[c]=null;const l=i[c]&&i[c].parent,h=l&&o(l);h&&(s[c]=[l].concat(h))}return s[c]}return(e||Object.keys(r).concat(Object.keys(i))).forEach(o),s}function $y(t,e,r){const i=t.icons,s=t.aliases||Object.create(null);let o={};function c(l){o=Dy(i[l]||s[l],o)}return c(e),r.forEach(c),Dy(t,o)}function MB(t,e){if(t.icons[e])return $y(t,e,[]);const r=LB(t,[e])[e];return r?$y(t,e,r):null}const jB=/(-?[0-9.]*[0-9]+[0-9.]*)/g,BB=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Fy(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const i=t.split(jB);if(i===null||!i.length)return t;const s=[];let o=i.shift(),c=BB.test(o);for(;;){if(c){const l=parseFloat(o);isNaN(l)?s.push(o):s.push(Math.ceil(l*e*r)/r)}else s.push(o);if(o=i.shift(),o===void 0)return s.join("");c=!c}}function DB(t,e="defs"){let r="";const i=t.indexOf("<"+e);for(;i>=0;){const s=t.indexOf(">",i),o=t.indexOf("</"+e);if(s===-1||o===-1)break;const c=t.indexOf(">",o);if(c===-1)break;r+=t.slice(s+1,o).trim(),t=t.slice(0,i).trim()+t.slice(c+1)}return{defs:r,content:t}}function $B(t,e){return t?"<defs>"+t+"</defs>"+e:e}function FB(t,e,r){const i=DB(t);return $B(i.defs,e+i.content+r)}const PB=t=>t==="unset"||t==="undefined"||t==="none";function RB(t,e){const r={...rw,...t},i={...NB,...e},s={left:r.left,top:r.top,width:r.width,height:r.height};let o=r.body;[r,i].forEach(C=>{const _=[],S=C.hFlip,N=C.vFlip;let M=C.rotate;S?N?M+=2:(_.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),_.push("scale(-1 1)"),s.top=s.left=0):N&&(_.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),_.push("scale(1 -1)"),s.top=s.left=0);let P;switch(M<0&&(M-=Math.floor(M/4)*4),M=M%4,M){case 1:P=s.height/2+s.top,_.unshift("rotate(90 "+P.toString()+" "+P.toString()+")");break;case 2:_.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:P=s.width/2+s.left,_.unshift("rotate(-90 "+P.toString()+" "+P.toString()+")");break}M%2===1&&(s.left!==s.top&&(P=s.left,s.left=s.top,s.top=P),s.width!==s.height&&(P=s.width,s.width=s.height,s.height=P)),_.length&&(o=FB(o,'<g transform="'+_.join(" ")+'">',"</g>"))});const c=i.width,l=i.height,h=s.width,d=s.height;let p,m;c===null?(m=l===null?"1em":l==="auto"?d:l,p=Fy(m,h/d)):(p=c==="auto"?h:c,m=l===null?Fy(p,d/h):l==="auto"?d:l);const x={},v=(C,_)=>{PB(_)||(x[C]=_.toString())};v("width",p),v("height",m);const b=[s.left,s.top,h,d];return x.viewBox=b.join(" "),{attributes:x,viewBox:b,body:o}}const OB=/\sid="(\S+)"/g,IB="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let zB=0;function WB(t,e=IB){const r=[];let i;for(;i=OB.exec(t);)r.push(i[1]);if(!r.length)return t;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(o=>{const c=typeof e=="function"?e(o):e+(zB++).toString(),l=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+c+s+"$3")}),t=t.replace(new RegExp(s,"g"),""),t}function HB(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in e)r+=" "+i+'="'+e[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function vg(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var vs=vg();function nw(t){vs=t}var Oo={exec:()=>null};function tt(t,e=""){let r=typeof t=="string"?t:t.source,i={replace:(s,o)=>{let c=typeof o=="string"?o:o.source;return c=c.replace(sr.caret,"$1"),r=r.replace(s,c),i},getRegex:()=>new RegExp(r,e)};return i}var sr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},qB=/^(?:[ \t]*(?:\n|$))+/,UB=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,YB=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ll=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,VB=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bg=/(?:[*+-]|\d{1,9}[.)])/,iw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,sw=tt(iw).replace(/bull/g,bg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),GB=tt(iw).replace(/bull/g,bg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wg=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,XB=/^[^\n]+/,kg=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,QB=tt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",kg).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),KB=tt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bg).getRegex(),nh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Cg=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ZB=tt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Cg).replace("tag",nh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),aw=tt(wg).replace("hr",ll).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nh).getRegex(),JB=tt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",aw).getRegex(),_g={blockquote:JB,code:UB,def:QB,fences:YB,heading:VB,hr:ll,html:ZB,lheading:sw,list:KB,newline:qB,paragraph:aw,table:Oo,text:XB},Py=tt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ll).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nh).getRegex(),eD={..._g,lheading:GB,table:Py,paragraph:tt(wg).replace("hr",ll).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Py).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nh).getRegex()},tD={..._g,html:tt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Cg).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Oo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:tt(wg).replace("hr",ll).replace("heading",` *#{1,6} *[^
]`).replace("lheading",sw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},rD=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,nD=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ow=/^( {2,}|\\)\n(?!\s*$)/,iD=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ih=/[\p{P}\p{S}]/u,Sg=/[\s\p{P}\p{S}]/u,lw=/[^\s\p{P}\p{S}]/u,sD=tt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Sg).getRegex(),cw=/(?!~)[\p{P}\p{S}]/u,aD=/(?!~)[\s\p{P}\p{S}]/u,oD=/(?:[^\s\p{P}\p{S}]|~)/u,lD=tt(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),uw=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,cD=tt(uw,"u").replace(/punct/g,ih).getRegex(),uD=tt(uw,"u").replace(/punct/g,cw).getRegex(),hw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",hD=tt(hw,"gu").replace(/notPunctSpace/g,lw).replace(/punctSpace/g,Sg).replace(/punct/g,ih).getRegex(),dD=tt(hw,"gu").replace(/notPunctSpace/g,oD).replace(/punctSpace/g,aD).replace(/punct/g,cw).getRegex(),fD=tt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lw).replace(/punctSpace/g,Sg).replace(/punct/g,ih).getRegex(),pD=tt(/\\(punct)/,"gu").replace(/punct/g,ih).getRegex(),gD=tt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),mD=tt(Cg).replace("(?:-->|$)","-->").getRegex(),xD=tt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",mD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Au=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,yD=tt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Au).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),dw=tt(/^!?\[(label)\]\[(ref)\]/).replace("label",Au).replace("ref",kg).getRegex(),fw=tt(/^!?\[(ref)\](?:\[\])?/).replace("ref",kg).getRegex(),vD=tt("reflink|nolink(?!\\()","g").replace("reflink",dw).replace("nolink",fw).getRegex(),Ry=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Tg={_backpedal:Oo,anyPunctuation:pD,autolink:gD,blockSkip:lD,br:ow,code:nD,del:Oo,emStrongLDelim:cD,emStrongRDelimAst:hD,emStrongRDelimUnd:fD,escape:rD,link:yD,nolink:fw,punctuation:sD,reflink:dw,reflinkSearch:vD,tag:xD,text:iD,url:Oo},bD={...Tg,link:tt(/^!?\[(label)\]\((.*?)\)/).replace("label",Au).getRegex(),reflink:tt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Au).getRegex()},dp={...Tg,emStrongRDelimAst:dD,emStrongLDelim:uD,url:tt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Ry).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:tt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Ry).getRegex()},wD={...dp,br:tt(ow).replace("{2,}","*").getRegex(),text:tt(dp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Lc={normal:_g,gfm:eD,pedantic:tD},vo={normal:Tg,gfm:dp,breaks:wD,pedantic:bD},kD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oy=t=>kD[t];function yn(t,e){if(e){if(sr.escapeTest.test(t))return t.replace(sr.escapeReplace,Oy)}else if(sr.escapeTestNoEncode.test(t))return t.replace(sr.escapeReplaceNoEncode,Oy);return t}function Iy(t){try{t=encodeURI(t).replace(sr.percentDecode,"%")}catch{return null}return t}function zy(t,e){let r=t.replace(sr.findPipe,(o,c,l)=>{let h=!1,d=c;for(;--d>=0&&l[d]==="\\";)h=!h;return h?"|":" |"}),i=r.split(sr.splitPipe),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(sr.slashPipe,"|");return i}function bo(t,e,r){let i=t.length;if(i===0)return"";let s=0;for(;s<i&&t.charAt(i-s-1)===e;)s++;return t.slice(0,i-s)}function CD(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return r>0?-2:-1}function Wy(t,e,r,i,s){let o=e.href,c=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");i.state.inLink=!0;let h={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:o,title:c,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,h}function _D(t,e,r){let i=t.match(r.other.indentCodeCompensation);if(i===null)return e;let s=i[1];return e.split(`
`).map(o=>{let c=o.match(r.other.beginningSpace);if(c===null)return o;let[l]=c;return l.length>=s.length?o.slice(s.length):o}).join(`
`)}var Eu=class{options;rules;lexer;constructor(e){this.options=e||vs}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:bo(i,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let i=r[0],s=_D(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:s}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let s=bo(i,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(i=s.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:bo(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let i=bo(r[0],`
`).split(`
`),s="",o="",c=[];for(;i.length>0;){let l=!1,h=[],d;for(d=0;d<i.length;d++)if(this.rules.other.blockquoteStart.test(i[d]))h.push(i[d]),l=!0;else if(!l)h.push(i[d]);else break;i=i.slice(d);let p=h.join(`
`),m=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${p}`:p,o=o?`${o}
${m}`:m;let x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,c,!0),this.lexer.state.top=x,i.length===0)break;let v=c.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){let b=v,C=b.raw+`
`+i.join(`
`),_=this.blockquote(C);c[c.length-1]=_,s=s.substring(0,s.length-b.raw.length)+_.raw,o=o.substring(0,o.length-b.text.length)+_.text;break}else if(v?.type==="list"){let b=v,C=b.raw+`
`+i.join(`
`),_=this.list(C);c[c.length-1]=_,s=s.substring(0,s.length-v.raw.length)+_.raw,o=o.substring(0,o.length-b.raw.length)+_.raw,i=C.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:c,text:o}}}list(e){let r=this.rules.block.list.exec(e);if(r){let i=r[1].trim(),s=i.length>1,o={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");let c=this.rules.other.listItemRegex(i),l=!1;for(;e;){let d=!1,p="",m="";if(!(r=c.exec(e))||this.rules.block.hr.test(e))break;p=r[0],e=e.substring(p.length);let x=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),v=e.split(`
`,1)[0],b=!x.trim(),C=0;if(this.options.pedantic?(C=2,m=x.trimStart()):b?C=r[1].length+1:(C=r[2].search(this.rules.other.nonSpaceChar),C=C>4?1:C,m=x.slice(C),C+=r[1].length),b&&this.rules.other.blankLine.test(v)&&(p+=v+`
`,e=e.substring(v.length+1),d=!0),!d){let N=this.rules.other.nextBulletRegex(C),M=this.rules.other.hrRegex(C),P=this.rules.other.fencesBeginRegex(C),D=this.rules.other.headingBeginRegex(C),V=this.rules.other.htmlBeginRegex(C);for(;e;){let z=e.split(`
`,1)[0],q;if(v=z,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),q=v):q=v.replace(this.rules.other.tabCharGlobal,"    "),P.test(v)||D.test(v)||V.test(v)||N.test(v)||M.test(v))break;if(q.search(this.rules.other.nonSpaceChar)>=C||!v.trim())m+=`
`+q.slice(C);else{if(b||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||P.test(x)||D.test(x)||M.test(x))break;m+=`
`+v}!b&&!v.trim()&&(b=!0),p+=z+`
`,e=e.substring(z.length+1),x=q.slice(C)}}o.loose||(l?o.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(l=!0));let _=null,S;this.options.gfm&&(_=this.rules.other.listIsTask.exec(m),_&&(S=_[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:p,task:!!_,checked:S,loose:!1,text:m,tokens:[]}),o.raw+=p}let h=o.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){let p=o.items[d].tokens.filter(x=>x.type==="space"),m=p.length>0&&p.some(x=>this.rules.other.anyLine.test(x.raw));o.loose=m}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:s,title:o}}}table(e){let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=zy(r[1]),s=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===s.length){for(let l of s)this.rules.other.tableAlignRight.test(l)?c.align.push("right"):this.rules.other.tableAlignCenter.test(l)?c.align.push("center"):this.rules.other.tableAlignLeft.test(l)?c.align.push("left"):c.align.push(null);for(let l=0;l<i.length;l++)c.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:c.align[l]});for(let l of o)c.rows.push(zy(l,c.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:c.align[d]})));return c}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let c=bo(i.slice(0,-1),"\\");if((i.length-c.length)%2===0)return}else{let c=CD(r[2],"()");if(c===-2)return;if(c>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+c;r[2]=r[2].substring(0,c),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let s=r[2],o="";if(this.options.pedantic){let c=this.rules.other.pedanticHrefTitle.exec(s);c&&(s=c[1],o=c[3])}else o=r[3]?r[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?s=s.slice(1):s=s.slice(1,-1)),Wy(r,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let s=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=r[s.toLowerCase()];if(!o){let c=i[0].charAt(0);return{type:"text",raw:c,text:c}}return Wy(i,o,i[0],this.lexer,this.rules)}}emStrong(e,r,i=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!(!s||s[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!i||this.rules.inline.punctuation.exec(i))){let o=[...s[0]].length-1,c,l,h=o,d=0,p=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*e.length+o);(s=p.exec(r))!=null;){if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!c)continue;if(l=[...c].length,s[3]||s[4]){h+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){d+=l;continue}if(h-=l,h>0)continue;l=Math.min(l,l+h+d);let m=[...s[0]][0].length,x=e.slice(0,o+s.index+m+l);if(Math.min(o,l)%2){let b=x.slice(1,-1);return{type:"em",raw:x,text:b,tokens:this.lexer.inlineTokens(b)}}let v=x.slice(2,-2);return{type:"strong",raw:x,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(i),o=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return s&&o&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=r[1],s="mailto:"+i):(i=r[1],s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(o!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},en=class fp{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vs,this.options.tokenizer=this.options.tokenizer||new Eu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:sr,block:Lc.normal,inline:vo.normal};this.options.pedantic?(r.block=Lc.pedantic,r.inline=vo.pedantic):this.options.gfm&&(r.block=Lc.gfm,this.options.breaks?r.inline=vo.breaks:r.inline=vo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Lc,inline:vo}}static lex(e,r){return new fp(r).lex(e)}static lexInline(e,r){return new fp(r).inlineTokens(e)}lex(e){e=e.replace(sr.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],i=!1){for(this.options.pedantic&&(e=e.replace(sr.tabCharGlobal,"    ").replace(sr.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(c=>(s=c.call({lexer:this},e,r))?(e=e.substring(s.raw.length),r.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let c=r.at(-1);s.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let c=r.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.at(-1).src=c.text):r.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let c=r.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},r.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),r.push(s);continue}let o=e;if(this.options.extensions?.startBlock){let c=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){let c=r.at(-1);i&&c?.type==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(s),i=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let c=r.at(-1);c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(s);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let i=e,s=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,s.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let o=!1,c="";for(;e;){o||(c=""),o=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},e,r))?(e=e.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let d=r.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(e,i,c)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),r.push(l);continue}let h=e;if(this.options.extensions?.startInline){let d=1/0,p=e.slice(1),m;this.options.extensions.startInline.forEach(x=>{m=x.call({lexer:this},p),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(h)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(c=l.raw.slice(-1)),o=!0;let d=r.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):r.push(l);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},Lu=class{options;parser;constructor(e){this.options=e||vs}space(e){return""}code({text:e,lang:r,escaped:i}){let s=(r||"").match(sr.notSpaceStart)?.[0],o=e.replace(sr.endingNewline,"")+`
`;return s?'<pre><code class="language-'+yn(s)+'">'+(i?o:yn(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:yn(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,i=e.start,s="";for(let l=0;l<e.items.length;l++){let h=e.items[l];s+=this.listitem(h)}let o=r?"ol":"ul",c=r&&i!==1?' start="'+i+'"':"";return"<"+o+c+`>
`+s+"</"+o+`>
`}listitem(e){let r="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+yn(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);r+=this.tablerow({text:i});let s="";for(let o=0;o<e.rows.length;o++){let c=e.rows[o];i="";for(let l=0;l<c.length;l++)i+=this.tablecell(c[l]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${yn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:i}){let s=this.parser.parseInline(i),o=Iy(e);if(o===null)return s;e=o;let c='<a href="'+e+'"';return r&&(c+=' title="'+yn(r)+'"'),c+=">"+s+"</a>",c}image({href:e,title:r,text:i,tokens:s}){s&&(i=this.parser.parseInline(s,this.parser.textRenderer));let o=Iy(e);if(o===null)return yn(i);e=o;let c=`<img src="${e}" alt="${i}"`;return r&&(c+=` title="${yn(r)}"`),c+=">",c}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:yn(e.text)}},Ng=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},tn=class pp{options;renderer;textRenderer;constructor(e){this.options=e||vs,this.options.renderer=this.options.renderer||new Lu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ng}static parse(e,r){return new pp(r).parse(e)}static parseInline(e,r){return new pp(r).parseInline(e)}parse(e,r=!0){let i="";for(let s=0;s<e.length;s++){let o=e[s];if(this.options.extensions?.renderers?.[o.type]){let l=o,h=this.options.extensions.renderers[l.type].call({parser:this},l);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){i+=h||"";continue}}let c=o;switch(c.type){case"space":{i+=this.renderer.space(c);continue}case"hr":{i+=this.renderer.hr(c);continue}case"heading":{i+=this.renderer.heading(c);continue}case"code":{i+=this.renderer.code(c);continue}case"table":{i+=this.renderer.table(c);continue}case"blockquote":{i+=this.renderer.blockquote(c);continue}case"list":{i+=this.renderer.list(c);continue}case"html":{i+=this.renderer.html(c);continue}case"def":{i+=this.renderer.def(c);continue}case"paragraph":{i+=this.renderer.paragraph(c);continue}case"text":{let l=c,h=this.renderer.text(l);for(;s+1<e.length&&e[s+1].type==="text";)l=e[++s],h+=`
`+this.renderer.text(l);r?i+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):i+=h;continue}default:{let l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(e,r=this.renderer){let i="";for(let s=0;s<e.length;s++){let o=e[s];if(this.options.extensions?.renderers?.[o.type]){let l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=l||"";continue}}let c=o;switch(c.type){case"escape":{i+=r.text(c);break}case"html":{i+=r.html(c);break}case"link":{i+=r.link(c);break}case"image":{i+=r.image(c);break}case"strong":{i+=r.strong(c);break}case"em":{i+=r.em(c);break}case"codespan":{i+=r.codespan(c);break}case"br":{i+=r.br(c);break}case"del":{i+=r.del(c);break}case"text":{i+=r.text(c);break}default:{let l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}},Ao=class{options;block;constructor(e){this.options=e||vs}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?en.lex:en.lexInline}provideParser(){return this.block?tn.parse:tn.parseInline}},SD=class{defaults=vg();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=tn;Renderer=Lu;TextRenderer=Ng;Lexer=en;Tokenizer=Eu;Hooks=Ao;constructor(...e){this.use(...e)}walkTokens(e,r){let i=[];for(let s of e)switch(i=i.concat(r.call(this,s)),s.type){case"table":{let o=s;for(let c of o.header)i=i.concat(this.walkTokens(c.tokens,r));for(let c of o.rows)for(let l of c)i=i.concat(this.walkTokens(l.tokens,r));break}case"list":{let o=s;i=i.concat(this.walkTokens(o.items,r));break}default:{let o=s;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(c=>{let l=o[c].flat(1/0);i=i.concat(this.walkTokens(l,r))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,r)))}}return i}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let c=r.renderers[o.name];c?r.renderers[o.name]=function(...l){let h=o.renderer.apply(this,l);return h===!1&&(h=c.apply(this,l)),h}:r.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let c=r[o.level];c?c.unshift(o.tokenizer):r[o.level]=[o.tokenizer],o.start&&(o.level==="block"?r.startBlock?r.startBlock.push(o.start):r.startBlock=[o.start]:o.level==="inline"&&(r.startInline?r.startInline.push(o.start):r.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(r.childTokens[o.name]=o.childTokens)}),s.extensions=r),i.renderer){let o=this.defaults.renderer||new Lu(this.defaults);for(let c in i.renderer){if(!(c in o))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;let l=c,h=i.renderer[l],d=o[l];o[l]=(...p)=>{let m=h.apply(o,p);return m===!1&&(m=d.apply(o,p)),m||""}}s.renderer=o}if(i.tokenizer){let o=this.defaults.tokenizer||new Eu(this.defaults);for(let c in i.tokenizer){if(!(c in o))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;let l=c,h=i.tokenizer[l],d=o[l];o[l]=(...p)=>{let m=h.apply(o,p);return m===!1&&(m=d.apply(o,p)),m}}s.tokenizer=o}if(i.hooks){let o=this.defaults.hooks||new Ao;for(let c in i.hooks){if(!(c in o))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;let l=c,h=i.hooks[l],d=o[l];Ao.passThroughHooks.has(c)?o[l]=p=>{if(this.defaults.async&&Ao.passThroughHooksRespectAsync.has(c))return(async()=>{let x=await h.call(o,p);return d.call(o,x)})();let m=h.call(o,p);return d.call(o,m)}:o[l]=(...p)=>{if(this.defaults.async)return(async()=>{let x=await h.apply(o,p);return x===!1&&(x=await d.apply(o,p)),x})();let m=h.apply(o,p);return m===!1&&(m=d.apply(o,p)),m}}s.hooks=o}if(i.walkTokens){let o=this.defaults.walkTokens,c=i.walkTokens;s.walkTokens=function(l){let h=[];return h.push(c.call(this,l)),o&&(h=h.concat(o.call(this,l))),h}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return en.lex(e,r??this.defaults)}parser(e,r){return tn.parse(e,r??this.defaults)}parseMarkdown(e){return(r,i)=>{let s={...i},o={...this.defaults,...s},c=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&s.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let l=o.hooks?await o.hooks.preprocess(r):r,h=await(o.hooks?await o.hooks.provideLexer():e?en.lex:en.lexInline)(l,o),d=o.hooks?await o.hooks.processAllTokens(h):h;o.walkTokens&&await Promise.all(this.walkTokens(d,o.walkTokens));let p=await(o.hooks?await o.hooks.provideParser():e?tn.parse:tn.parseInline)(d,o);return o.hooks?await o.hooks.postprocess(p):p})().catch(c);try{o.hooks&&(r=o.hooks.preprocess(r));let l=(o.hooks?o.hooks.provideLexer():e?en.lex:en.lexInline)(r,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let h=(o.hooks?o.hooks.provideParser():e?tn.parse:tn.parseInline)(l,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(l){return c(l)}}}onError(e,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let s="<p>An error occurred:</p><pre>"+yn(i.message+"",!0)+"</pre>";return r?Promise.resolve(s):s}if(r)return Promise.reject(i);throw i}}},fs=new SD;function nt(t,e){return fs.parse(t,e)}nt.options=nt.setOptions=function(t){return fs.setOptions(t),nt.defaults=fs.defaults,nw(nt.defaults),nt};nt.getDefaults=vg;nt.defaults=vs;nt.use=function(...t){return fs.use(...t),nt.defaults=fs.defaults,nw(nt.defaults),nt};nt.walkTokens=function(t,e){return fs.walkTokens(t,e)};nt.parseInline=fs.parseInline;nt.Parser=tn;nt.parser=tn.parse;nt.Renderer=Lu;nt.TextRenderer=Ng;nt.Lexer=en;nt.lexer=en.lex;nt.Tokenizer=Eu;nt.Hooks=Ao;nt.parse=nt;nt.options;nt.setOptions;nt.use;nt.walkTokens;nt.parseInline;tn.parse;en.lex;function pw(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=Array.from(typeof t=="string"?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var s=i.reduce(function(l,h){var d=h.match(/\n([\t ]+|(?!\s).)/g);return d?l.concat(d.map(function(p){var m,x;return(x=(m=p.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&x!==void 0?x:0})):l},[]);if(s.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,s)+"}","g");i=i.map(function(l){return l.replace(o,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var c=i[0];return e.forEach(function(l,h){var d=c.match(/(?:^|\n)( *)$/),p=d?d[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(x,v){return v===0?x:""+p+x}).join(`
`)),c+=m+i[h+1]}),c}var TD={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},gp=new Map,gw=new Map,ND=k(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(se.debug("Registering icon pack:",e.name),"loader"in e)gw.set(e.name,e.loader);else if("icons"in e)gp.set(e.name,e.icons);else throw se.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),mw=k(async(t,e)=>{const r=AB(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const i=r.prefix||e;if(!i)throw new Error(`Icon name must contain a prefix: ${t}`);let s=gp.get(i);if(!s){const c=gw.get(i);if(!c)throw new Error(`Icon set not found: ${r.prefix}`);try{s={...await c(),prefix:i},gp.set(i,s)}catch(l){throw se.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}const o=MB(s,r.name);if(!o)throw new Error(`Icon not found: ${t}`);return o},"getRegisteredIconData"),AD=k(async t=>{try{return await mw(t),!0}catch{return!1}},"isIconAvailable"),cl=k(async(t,e,r)=>{let i;try{i=await mw(t,e?.fallbackPrefix)}catch(c){se.error(c),i=TD}const s=RB(i,e),o=HB(WB(s.body),{...s.attributes,...r});return Or(o,Xt())},"getIconSVG");function xw(t,{markdownAutoWrap:e}){const i=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),s=pw(i);return e===!1?s.replace(/ /g,"&nbsp;"):s}k(xw,"preprocessMarkdown");function yw(t,e={}){const r=xw(t,e),i=nt.lexer(r),s=[[]];let o=0;function c(l,h="normal"){l.type==="text"?l.text.split(`
`).forEach((p,m)=>{m!==0&&(o++,s.push([])),p.split(" ").forEach(x=>{x=x.replace(/&#39;/g,"'"),x&&s[o].push({content:x,type:h})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(d=>{c(d,l.type)}):l.type==="html"&&s[o].push({content:l.text,type:"normal"})}return k(c,"processNode"),i.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(h=>{c(h)}):l.type==="html"?s[o].push({content:l.text,type:"normal"}):s[o].push({content:l.raw,type:"normal"})}),s}k(yw,"markdownToLines");function vw(t,{markdownAutoWrap:e}={}){const r=nt.lexer(t);function i(s){return s.type==="text"?e===!1?s.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):s.text.replace(/\n */g,"<br/>"):s.type==="strong"?`<strong>${s.tokens?.map(i).join("")}</strong>`:s.type==="em"?`<em>${s.tokens?.map(i).join("")}</em>`:s.type==="paragraph"?`<p>${s.tokens?.map(i).join("")}</p>`:s.type==="space"?"":s.type==="html"?`${s.text}`:s.type==="escape"?s.text:(se.warn(`Unsupported markdown: ${s.type}`),s.raw)}return k(i,"output"),r.map(i).join("")}k(vw,"markdownToHTML");function bw(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}k(bw,"splitTextToChars");function ww(t,e){const r=bw(e.content);return Ag(t,[],r,e.type)}k(ww,"splitWordToFitWidth");function Ag(t,e,r,i){if(r.length===0)return[{content:e.join(""),type:i},{content:"",type:i}];const[s,...o]=r,c=[...e,s];return t([{content:c.join(""),type:i}])?Ag(t,c,o,i):(e.length===0&&s&&(e.push(s),r.shift()),[{content:e.join(""),type:i},{content:r.join(""),type:i}])}k(Ag,"splitWordToFitWidthRecursion");function kw(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Mu(t,e)}k(kw,"splitLineToFitWidth");function Mu(t,e,r=[],i=[]){if(t.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let s="";t[0].content===" "&&(s=" ",t.shift());const o=t.shift()??{content:" ",type:"normal"},c=[...i];if(s!==""&&c.push({content:s,type:"normal"}),c.push(o),e(c))return Mu(t,e,r,c);if(i.length>0)r.push(i),t.unshift(o);else if(o.content){const[l,h]=ww(e,o);r.push([l]),h.content&&t.unshift(h)}return Mu(t,e,r)}k(Mu,"splitLineToFitWidthRecursion");function mp(t,e){e&&t.attr("style",e)}k(mp,"applyStyle");async function Cw(t,e,r,i,s=!1,o=Xt()){const c=t.append("foreignObject");c.attr("width",`${10*r}px`),c.attr("height",`${10*r}px`);const l=c.append("xhtml:div"),h=ua(e.label)?await Xp(e.label.replace(ga.lineBreakRegex,`
`),o):Or(e.label,o),d=e.isNode?"nodeLabel":"edgeLabel",p=l.append("span");p.html(h),mp(p,e.labelStyle),p.attr("class",`${d} ${i}`),mp(l,e.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",r+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),s&&l.attr("class","labelBkg");let m=l.node().getBoundingClientRect();return m.width===r&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",r+"px"),m=l.node().getBoundingClientRect()),c.node()}k(Cw,"addHtmlSpan");function sh(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}k(sh,"createTspan");function _w(t,e,r){const i=t.append("text"),s=sh(i,1,e);ah(s,r);const o=s.node().getComputedTextLength();return i.remove(),o}k(_w,"computeWidthOfText");function ED(t,e,r){const i=t.append("text"),s=sh(i,1,e);ah(s,[{content:r,type:"normal"}]);const o=s.node()?.getBoundingClientRect();return o&&i.remove(),o}k(ED,"computeDimensionOfText");function Sw(t,e,r,i=!1){const o=e.append("g"),c=o.insert("rect").attr("class","background").attr("style","stroke: none"),l=o.append("text").attr("y","-10.1");let h=0;for(const d of r){const p=k(x=>_w(o,1.1,x)<=t,"checkWidth"),m=p(d)?[d]:kw(d,p);for(const x of m){const v=sh(l,h,1.1);ah(v,x),h++}}if(i){const d=l.node().getBBox(),p=2;return c.attr("x",d.x-p).attr("y",d.y-p).attr("width",d.width+2*p).attr("height",d.height+2*p),o.node()}else return l.node()}k(Sw,"createFormattedText");function ah(t,e){t.text(""),e.forEach((r,i)=>{const s=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?s.text(r.content):s.text(" "+r.content)})}k(ah,"updateTextContentAndStyles");async function Tw(t,e={}){const r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(s,o,c)=>(r.push((async()=>{const l=`${o}:${c}`;return await AD(l)?await cl(l,void 0,{class:"label-icon"}):`<i class='${Or(s,e).replace(":"," ")}'></i>`})()),s));const i=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}k(Tw,"replaceIconSubstring");var Ai=k(async(t,e="",{style:r="",isTitle:i=!1,classes:s="",useHtmlLabels:o=!0,isNode:c=!0,width:l=200,addSvgBackground:h=!1}={},d)=>{if(se.debug("XYZ createText",e,r,i,s,o,c,"addSvgBackground: ",h),o){const p=vw(e,d),m=await Tw(ys(p),d),x=e.replace(/\\\\/g,"\\"),v={isNode:c,label:ua(e)?x:m,labelStyle:r.replace("fill:","color:")};return await Cw(t,v,l,s,h,d)}else{const p=e.replace(/<br\s*\/?>/g,"<br/>"),m=yw(p.replace("<br>","<br/>"),d),x=Sw(l,t,m,e?h:!1);if(c){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$e(x).attr("style",v)}else{const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");$e(x).select("rect").attr("style",v.replace(/background:/g,"fill:"));const b=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$e(x).select("text").attr("style",b)}return x}},"createText");function yf(t,e,r){if(t&&t.length){const[i,s]=e,o=Math.PI/180*r,c=Math.cos(o),l=Math.sin(o);for(const h of t){const[d,p]=h;h[0]=(d-i)*c-(p-s)*l+i,h[1]=(d-i)*l+(p-s)*c+s}}}function LD(t,e){return t[0]===e[0]&&t[1]===e[1]}function MD(t,e,r,i=1){const s=r,o=Math.max(e,.1),c=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,l=[0,0];if(s)for(const d of c)yf(d,l,s);const h=(function(d,p,m){const x=[];for(const N of d){const M=[...N];LD(M[0],M[M.length-1])||M.push([M[0][0],M[0][1]]),M.length>2&&x.push(M)}const v=[];p=Math.max(p,.1);const b=[];for(const N of x)for(let M=0;M<N.length-1;M++){const P=N[M],D=N[M+1];if(P[1]!==D[1]){const V=Math.min(P[1],D[1]);b.push({ymin:V,ymax:Math.max(P[1],D[1]),x:V===P[1]?P[0]:D[0],islope:(D[0]-P[0])/(D[1]-P[1])})}}if(b.sort(((N,M)=>N.ymin<M.ymin?-1:N.ymin>M.ymin?1:N.x<M.x?-1:N.x>M.x?1:N.ymax===M.ymax?0:(N.ymax-M.ymax)/Math.abs(N.ymax-M.ymax))),!b.length)return v;let C=[],_=b[0].ymin,S=0;for(;C.length||b.length;){if(b.length){let N=-1;for(let M=0;M<b.length&&!(b[M].ymin>_);M++)N=M;b.splice(0,N+1).forEach((M=>{C.push({s:_,edge:M})}))}if(C=C.filter((N=>!(N.edge.ymax<=_))),C.sort(((N,M)=>N.edge.x===M.edge.x?0:(N.edge.x-M.edge.x)/Math.abs(N.edge.x-M.edge.x))),(m!==1||S%p==0)&&C.length>1)for(let N=0;N<C.length;N+=2){const M=N+1;if(M>=C.length)break;const P=C[N].edge,D=C[M].edge;v.push([[Math.round(P.x),_],[Math.round(D.x),_]])}_+=m,C.forEach((N=>{N.edge.x=N.edge.x+m*N.edge.islope})),S++}return v})(c,o,i);if(s){for(const d of c)yf(d,l,-s);(function(d,p,m){const x=[];d.forEach((v=>x.push(...v))),yf(x,p,m)})(h,l,-s)}return h}function ul(t,e){var r;const i=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.round(Math.max(s,.1));let o=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(o=s),MD(t,s,i,o||1)}class Eg{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const i=ul(e,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(e,r){const i=[];for(const s of e)i.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],r));return i}}function oh(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class jD extends Eg{fillPolygons(e,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const s=ul(e,Object.assign({},r,{hachureGap:i})),o=Math.PI/180*r.hachureAngle,c=[],l=.5*i*Math.cos(o),h=.5*i*Math.sin(o);for(const[d,p]of s)oh([d,p])&&c.push([[d[0]-l,d[1]+h],[...p]],[[d[0]+l,d[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(c,r)}}}class BD extends Eg{fillPolygons(e,r){const i=this._fillPolygons(e,r),s=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),o=this._fillPolygons(e,s);return i.ops=i.ops.concat(o.ops),i}}class DD{constructor(e){this.helper=e}fillPolygons(e,r){const i=ul(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(e,r){const i=[];let s=r.hachureGap;s<0&&(s=4*r.strokeWidth),s=Math.max(s,.1);let o=r.fillWeight;o<0&&(o=r.strokeWidth/2);const c=s/4;for(const l of e){const h=oh(l),d=h/s,p=Math.ceil(d)-1,m=h-p*s,x=(l[0][0]+l[1][0])/2-s/4,v=Math.min(l[0][1],l[1][1]);for(let b=0;b<p;b++){const C=v+m+b*s,_=x-c+2*Math.random()*c,S=C-c+2*Math.random()*c,N=this.helper.ellipse(_,S,o,o,r);i.push(...N.ops)}}return{type:"fillSketch",ops:i}}}class $D{constructor(e){this.helper=e}fillPolygons(e,r){const i=ul(e,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(e,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,s=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,o=[];return e.forEach((c=>{const l=oh(c),h=Math.floor(l/(i+s)),d=(l+s-h*(i+s))/2;let p=c[0],m=c[1];p[0]>m[0]&&(p=c[1],m=c[0]);const x=Math.atan((m[1]-p[1])/(m[0]-p[0]));for(let v=0;v<h;v++){const b=v*(i+s),C=b+i,_=[p[0]+b*Math.cos(x)+d*Math.cos(x),p[1]+b*Math.sin(x)+d*Math.sin(x)],S=[p[0]+C*Math.cos(x)+d*Math.cos(x),p[1]+C*Math.sin(x)+d*Math.sin(x)];o.push(...this.helper.doubleLineOps(_[0],_[1],S[0],S[1],r))}})),o}}class FD{constructor(e){this.helper=e}fillPolygons(e,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,s=r.zigzagOffset<0?i:r.zigzagOffset,o=ul(e,r=Object.assign({},r,{hachureGap:i+s}));return{type:"fillSketch",ops:this.zigzagLines(o,s,r)}}zigzagLines(e,r,i){const s=[];return e.forEach((o=>{const c=oh(o),l=Math.round(c/(2*r));let h=o[0],d=o[1];h[0]>d[0]&&(h=o[1],d=o[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let m=0;m<l;m++){const x=2*m*r,v=2*(m+1)*r,b=Math.sqrt(2*Math.pow(r,2)),C=[h[0]+x*Math.cos(p),h[1]+x*Math.sin(p)],_=[h[0]+v*Math.cos(p),h[1]+v*Math.sin(p)],S=[C[0]+b*Math.cos(p+Math.PI/4),C[1]+b*Math.sin(p+Math.PI/4)];s.push(...this.helper.doubleLineOps(C[0],C[1],S[0],S[1],i),...this.helper.doubleLineOps(S[0],S[1],_[0],_[1],i))}})),s}}const mr={};class PD{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const RD=0,vf=1,Hy=2,Mc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function bf(t,e){return t.type===e}function Lg(t){const e=[],r=(function(c){const l=new Array;for(;c!=="";)if(c.match(/^([ \t\r\n,]+)/))c=c.substr(RegExp.$1.length);else if(c.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:RD,text:RegExp.$1},c=c.substr(RegExp.$1.length);else{if(!c.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:vf,text:`${parseFloat(RegExp.$1)}`},c=c.substr(RegExp.$1.length)}return l[l.length]={type:Hy,text:""},l})(t);let i="BOD",s=0,o=r[s];for(;!bf(o,Hy);){let c=0;const l=[];if(i==="BOD"){if(o.text!=="M"&&o.text!=="m")return Lg("M0,0"+t);s++,c=Mc[o.text],i=o.text}else bf(o,vf)?c=Mc[i]:(s++,c=Mc[o.text],i=o.text);if(!(s+c<r.length))throw new Error("Path data ended short");for(let h=s;h<s+c;h++){const d=r[h];if(!bf(d,vf))throw new Error("Param not a number: "+i+","+d.text);l[l.length]=+d.text}if(typeof Mc[i]!="number")throw new Error("Bad segment: "+i);{const h={key:i,data:l};e.push(h),s+=c,o=r[s],i==="M"&&(i="L"),i==="m"&&(i="l")}}return e}function Nw(t){let e=0,r=0,i=0,s=0;const o=[];for(const{key:c,data:l}of t)switch(c){case"M":o.push({key:"M",data:[...l]}),[e,r]=l,[i,s]=l;break;case"m":e+=l[0],r+=l[1],o.push({key:"M",data:[e,r]}),i=e,s=r;break;case"L":o.push({key:"L",data:[...l]}),[e,r]=l;break;case"l":e+=l[0],r+=l[1],o.push({key:"L",data:[e,r]});break;case"C":o.push({key:"C",data:[...l]}),e=l[4],r=l[5];break;case"c":{const h=l.map(((d,p)=>p%2?d+r:d+e));o.push({key:"C",data:h}),e=h[4],r=h[5];break}case"Q":o.push({key:"Q",data:[...l]}),e=l[2],r=l[3];break;case"q":{const h=l.map(((d,p)=>p%2?d+r:d+e));o.push({key:"Q",data:h}),e=h[2],r=h[3];break}case"A":o.push({key:"A",data:[...l]}),e=l[5],r=l[6];break;case"a":e+=l[5],r+=l[6],o.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],e,r]});break;case"H":o.push({key:"H",data:[...l]}),e=l[0];break;case"h":e+=l[0],o.push({key:"H",data:[e]});break;case"V":o.push({key:"V",data:[...l]}),r=l[0];break;case"v":r+=l[0],o.push({key:"V",data:[r]});break;case"S":o.push({key:"S",data:[...l]}),e=l[2],r=l[3];break;case"s":{const h=l.map(((d,p)=>p%2?d+r:d+e));o.push({key:"S",data:h}),e=h[2],r=h[3];break}case"T":o.push({key:"T",data:[...l]}),e=l[0],r=l[1];break;case"t":e+=l[0],r+=l[1],o.push({key:"T",data:[e,r]});break;case"Z":case"z":o.push({key:"Z",data:[]}),e=i,r=s}return o}function Aw(t){const e=[];let r="",i=0,s=0,o=0,c=0,l=0,h=0;for(const{key:d,data:p}of t){switch(d){case"M":e.push({key:"M",data:[...p]}),[i,s]=p,[o,c]=p;break;case"C":e.push({key:"C",data:[...p]}),i=p[4],s=p[5],l=p[2],h=p[3];break;case"L":e.push({key:"L",data:[...p]}),[i,s]=p;break;case"H":i=p[0],e.push({key:"L",data:[i,s]});break;case"V":s=p[0],e.push({key:"L",data:[i,s]});break;case"S":{let m=0,x=0;r==="C"||r==="S"?(m=i+(i-l),x=s+(s-h)):(m=i,x=s),e.push({key:"C",data:[m,x,...p]}),l=p[0],h=p[1],i=p[2],s=p[3];break}case"T":{const[m,x]=p;let v=0,b=0;r==="Q"||r==="T"?(v=i+(i-l),b=s+(s-h)):(v=i,b=s);const C=i+2*(v-i)/3,_=s+2*(b-s)/3,S=m+2*(v-m)/3,N=x+2*(b-x)/3;e.push({key:"C",data:[C,_,S,N,m,x]}),l=v,h=b,i=m,s=x;break}case"Q":{const[m,x,v,b]=p,C=i+2*(m-i)/3,_=s+2*(x-s)/3,S=v+2*(m-v)/3,N=b+2*(x-b)/3;e.push({key:"C",data:[C,_,S,N,v,b]}),l=m,h=x,i=v,s=b;break}case"A":{const m=Math.abs(p[0]),x=Math.abs(p[1]),v=p[2],b=p[3],C=p[4],_=p[5],S=p[6];m===0||x===0?(e.push({key:"C",data:[i,s,_,S,_,S]}),i=_,s=S):(i!==_||s!==S)&&(Ew(i,s,_,S,m,x,v,b,C).forEach((function(N){e.push({key:"C",data:N})})),i=_,s=S);break}case"Z":e.push({key:"Z",data:[]}),i=o,s=c}r=d}return e}function wo(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function Ew(t,e,r,i,s,o,c,l,h,d){const p=(m=c,Math.PI*m/180);var m;let x=[],v=0,b=0,C=0,_=0;if(d)[v,b,C,_]=d;else{[t,e]=wo(t,e,-p),[r,i]=wo(r,i,-p);const Z=(t-r)/2,U=(e-i)/2;let j=Z*Z/(s*s)+U*U/(o*o);j>1&&(j=Math.sqrt(j),s*=j,o*=j);const $=s*s,O=o*o,E=$*O-$*U*U-O*Z*Z,L=$*U*U+O*Z*Z,H=(l===h?-1:1)*Math.sqrt(Math.abs(E/L));C=H*s*U/o+(t+r)/2,_=H*-o*Z/s+(e+i)/2,v=Math.asin(parseFloat(((e-_)/o).toFixed(9))),b=Math.asin(parseFloat(((i-_)/o).toFixed(9))),t<C&&(v=Math.PI-v),r<C&&(b=Math.PI-b),v<0&&(v=2*Math.PI+v),b<0&&(b=2*Math.PI+b),h&&v>b&&(v-=2*Math.PI),!h&&b>v&&(b-=2*Math.PI)}let S=b-v;if(Math.abs(S)>120*Math.PI/180){const Z=b,U=r,j=i;b=h&&b>v?v+120*Math.PI/180*1:v+120*Math.PI/180*-1,x=Ew(r=C+s*Math.cos(b),i=_+o*Math.sin(b),U,j,s,o,c,0,h,[b,Z,C,_])}S=b-v;const N=Math.cos(v),M=Math.sin(v),P=Math.cos(b),D=Math.sin(b),V=Math.tan(S/4),z=4/3*s*V,q=4/3*o*V,te=[t,e],Q=[t+z*M,e-q*N],F=[r+z*D,i-q*P],ee=[r,i];if(Q[0]=2*te[0]-Q[0],Q[1]=2*te[1]-Q[1],d)return[Q,F,ee].concat(x);{x=[Q,F,ee].concat(x);const Z=[];for(let U=0;U<x.length;U+=3){const j=wo(x[U][0],x[U][1],p),$=wo(x[U+1][0],x[U+1][1],p),O=wo(x[U+2][0],x[U+2][1],p);Z.push([j[0],j[1],$[0],$[1],O[0],O[1]])}return Z}}const OD={randOffset:function(t,e){return We(t,e)},randOffsetWithRange:function(t,e,r){return ju(t,e,r)},ellipse:function(t,e,r,i,s){const o=Mw(r,i,s);return xp(t,e,s,o).opset},doubleLineOps:function(t,e,r,i,s){return Si(t,e,r,i,s,!0)}};function Lw(t,e,r,i,s){return{type:"path",ops:Si(t,e,r,i,s)}}function Xc(t,e,r){const i=(t||[]).length;if(i>2){const s=[];for(let o=0;o<i-1;o++)s.push(...Si(t[o][0],t[o][1],t[o+1][0],t[o+1][1],r));return e&&s.push(...Si(t[i-1][0],t[i-1][1],t[0][0],t[0][1],r)),{type:"path",ops:s}}return i===2?Lw(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function ID(t,e,r,i,s){return(function(o,c){return Xc(o,!0,c)})([[t,e],[t+r,e],[t+r,e+i],[t,e+i]],s)}function qy(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,i=jc(r[0],1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:jc(r[0],1.5*(1+.22*e.roughness),Vy(e));for(let o=1;o<r.length;o++){const c=r[o];if(c.length){const l=jc(c,1*(1+.2*e.roughness),e),h=e.disableMultiStroke?[]:jc(c,1.5*(1+.22*e.roughness),Vy(e));for(const d of l)d.op!=="move"&&i.push(d);for(const d of h)d.op!=="move"&&s.push(d)}}return{type:"path",ops:i.concat(s)}}return{type:"path",ops:[]}}function Mw(t,e,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),s=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),o=2*Math.PI/s;let c=Math.abs(t/2),l=Math.abs(e/2);const h=1-r.curveFitting;return c+=We(c*h,r),l+=We(l*h,r),{increment:o,rx:c,ry:l}}function xp(t,e,r,i){const[s,o]=Gy(i.increment,t,e,i.rx,i.ry,1,i.increment*ju(.1,ju(.4,1,r),r),r);let c=Bu(s,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[l]=Gy(i.increment,t,e,i.rx,i.ry,1.5,0,r),h=Bu(l,null,r);c=c.concat(h)}return{estimatedPoints:o,opset:{type:"path",ops:c}}}function Uy(t,e,r,i,s,o,c,l,h){const d=t,p=e;let m=Math.abs(r/2),x=Math.abs(i/2);m+=We(.01*m,h),x+=We(.01*x,h);let v=s,b=o;for(;v<0;)v+=2*Math.PI,b+=2*Math.PI;b-v>2*Math.PI&&(v=0,b=2*Math.PI);const C=2*Math.PI/h.curveStepCount,_=Math.min(C/2,(b-v)/2),S=Xy(_,d,p,m,x,v,b,1,h);if(!h.disableMultiStroke){const N=Xy(_,d,p,m,x,v,b,1.5,h);S.push(...N)}return c&&(l?S.push(...Si(d,p,d+m*Math.cos(v),p+x*Math.sin(v),h),...Si(d,p,d+m*Math.cos(b),p+x*Math.sin(b),h)):S.push({op:"lineTo",data:[d,p]},{op:"lineTo",data:[d+m*Math.cos(v),p+x*Math.sin(v)]})),{type:"path",ops:S}}function Yy(t,e){const r=Aw(Nw(Lg(t))),i=[];let s=[0,0],o=[0,0];for(const{key:c,data:l}of r)switch(c){case"M":o=[l[0],l[1]],s=[l[0],l[1]];break;case"L":i.push(...Si(o[0],o[1],l[0],l[1],e)),o=[l[0],l[1]];break;case"C":{const[h,d,p,m,x,v]=l;i.push(...zD(h,d,p,m,x,v,o,e)),o=[x,v];break}case"Z":i.push(...Si(o[0],o[1],s[0],s[1],e)),o=[s[0],s[1]]}return{type:"path",ops:i}}function wf(t,e){const r=[];for(const i of t)if(i.length){const s=e.maxRandomnessOffset||0,o=i.length;if(o>2){r.push({op:"move",data:[i[0][0]+We(s,e),i[0][1]+We(s,e)]});for(let c=1;c<o;c++)r.push({op:"lineTo",data:[i[c][0]+We(s,e),i[c][1]+We(s,e)]})}}return{type:"fillPath",ops:r}}function Us(t,e){return(function(r,i){let s=r.fillStyle||"hachure";if(!mr[s])switch(s){case"zigzag":mr[s]||(mr[s]=new jD(i));break;case"cross-hatch":mr[s]||(mr[s]=new BD(i));break;case"dots":mr[s]||(mr[s]=new DD(i));break;case"dashed":mr[s]||(mr[s]=new $D(i));break;case"zigzag-line":mr[s]||(mr[s]=new FD(i));break;default:s="hachure",mr[s]||(mr[s]=new Eg(i))}return mr[s]})(e,OD).fillPolygons(t,e)}function Vy(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function jw(t){return t.randomizer||(t.randomizer=new PD(t.seed||0)),t.randomizer.next()}function ju(t,e,r,i=1){return r.roughness*i*(jw(r)*(e-t)+t)}function We(t,e,r=1){return ju(-t,t,e,r)}function Si(t,e,r,i,s,o=!1){const c=o?s.disableMultiStrokeFill:s.disableMultiStroke,l=yp(t,e,r,i,s,!0,!1);if(c)return l;const h=yp(t,e,r,i,s,!0,!0);return l.concat(h)}function yp(t,e,r,i,s,o,c){const l=Math.pow(t-r,2)+Math.pow(e-i,2),h=Math.sqrt(l);let d=1;d=h<200?1:h>500?.4:-.0016668*h+1.233334;let p=s.maxRandomnessOffset||0;p*p*100>l&&(p=h/10);const m=p/2,x=.2+.2*jw(s);let v=s.bowing*s.maxRandomnessOffset*(i-e)/200,b=s.bowing*s.maxRandomnessOffset*(t-r)/200;v=We(v,s,d),b=We(b,s,d);const C=[],_=()=>We(m,s,d),S=()=>We(p,s,d),N=s.preserveVertices;return c?C.push({op:"move",data:[t+(N?0:_()),e+(N?0:_())]}):C.push({op:"move",data:[t+(N?0:We(p,s,d)),e+(N?0:We(p,s,d))]}),c?C.push({op:"bcurveTo",data:[v+t+(r-t)*x+_(),b+e+(i-e)*x+_(),v+t+2*(r-t)*x+_(),b+e+2*(i-e)*x+_(),r+(N?0:_()),i+(N?0:_())]}):C.push({op:"bcurveTo",data:[v+t+(r-t)*x+S(),b+e+(i-e)*x+S(),v+t+2*(r-t)*x+S(),b+e+2*(i-e)*x+S(),r+(N?0:S()),i+(N?0:S())]}),C}function jc(t,e,r){if(!t.length)return[];const i=[];i.push([t[0][0]+We(e,r),t[0][1]+We(e,r)]),i.push([t[0][0]+We(e,r),t[0][1]+We(e,r)]);for(let s=1;s<t.length;s++)i.push([t[s][0]+We(e,r),t[s][1]+We(e,r)]),s===t.length-1&&i.push([t[s][0]+We(e,r),t[s][1]+We(e,r)]);return Bu(i,null,r)}function Bu(t,e,r){const i=t.length,s=[];if(i>3){const o=[],c=1-r.curveTightness;s.push({op:"move",data:[t[1][0],t[1][1]]});for(let l=1;l+2<i;l++){const h=t[l];o[0]=[h[0],h[1]],o[1]=[h[0]+(c*t[l+1][0]-c*t[l-1][0])/6,h[1]+(c*t[l+1][1]-c*t[l-1][1])/6],o[2]=[t[l+1][0]+(c*t[l][0]-c*t[l+2][0])/6,t[l+1][1]+(c*t[l][1]-c*t[l+2][1])/6],o[3]=[t[l+1][0],t[l+1][1]],s.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else i===3?(s.push({op:"move",data:[t[1][0],t[1][1]]}),s.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):i===2&&s.push(...yp(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return s}function Gy(t,e,r,i,s,o,c,l){const h=[],d=[];if(l.roughness===0){t/=4,d.push([e+i*Math.cos(-t),r+s*Math.sin(-t)]);for(let p=0;p<=2*Math.PI;p+=t){const m=[e+i*Math.cos(p),r+s*Math.sin(p)];h.push(m),d.push(m)}d.push([e+i*Math.cos(0),r+s*Math.sin(0)]),d.push([e+i*Math.cos(t),r+s*Math.sin(t)])}else{const p=We(.5,l)-Math.PI/2;d.push([We(o,l)+e+.9*i*Math.cos(p-t),We(o,l)+r+.9*s*Math.sin(p-t)]);const m=2*Math.PI+p-.01;for(let x=p;x<m;x+=t){const v=[We(o,l)+e+i*Math.cos(x),We(o,l)+r+s*Math.sin(x)];h.push(v),d.push(v)}d.push([We(o,l)+e+i*Math.cos(p+2*Math.PI+.5*c),We(o,l)+r+s*Math.sin(p+2*Math.PI+.5*c)]),d.push([We(o,l)+e+.98*i*Math.cos(p+c),We(o,l)+r+.98*s*Math.sin(p+c)]),d.push([We(o,l)+e+.9*i*Math.cos(p+.5*c),We(o,l)+r+.9*s*Math.sin(p+.5*c)])}return[d,h]}function Xy(t,e,r,i,s,o,c,l,h){const d=o+We(.1,h),p=[];p.push([We(l,h)+e+.9*i*Math.cos(d-t),We(l,h)+r+.9*s*Math.sin(d-t)]);for(let m=d;m<=c;m+=t)p.push([We(l,h)+e+i*Math.cos(m),We(l,h)+r+s*Math.sin(m)]);return p.push([e+i*Math.cos(c),r+s*Math.sin(c)]),p.push([e+i*Math.cos(c),r+s*Math.sin(c)]),Bu(p,null,h)}function zD(t,e,r,i,s,o,c,l){const h=[],d=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let p=[0,0];const m=l.disableMultiStroke?1:2,x=l.preserveVertices;for(let v=0;v<m;v++)v===0?h.push({op:"move",data:[c[0],c[1]]}):h.push({op:"move",data:[c[0]+(x?0:We(d[0],l)),c[1]+(x?0:We(d[0],l))]}),p=x?[s,o]:[s+We(d[v],l),o+We(d[v],l)],h.push({op:"bcurveTo",data:[t+We(d[v],l),e+We(d[v],l),r+We(d[v],l),i+We(d[v],l),p[0],p[1]]});return h}function ko(t){return[...t]}function Qy(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(ko(t[0]),ko(t[1]),ko(t[2]),ko(t[2]));else{const s=[];s.push(t[0],t[0]);for(let l=1;l<t.length;l++)s.push(t[l]),l===t.length-1&&s.push(t[l]);const o=[],c=1-e;i.push(ko(s[0]));for(let l=1;l+2<s.length;l++){const h=s[l];o[0]=[h[0],h[1]],o[1]=[h[0]+(c*s[l+1][0]-c*s[l-1][0])/6,h[1]+(c*s[l+1][1]-c*s[l-1][1])/6],o[2]=[s[l+1][0]+(c*s[l][0]-c*s[l+2][0])/6,s[l+1][1]+(c*s[l][1]-c*s[l+2][1])/6],o[3]=[s[l+1][0],s[l+1][1]],i.push(o[1],o[2],o[3])}}return i}function Qc(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function WD(t,e,r){const i=Qc(e,r);if(i===0)return Qc(t,e);let s=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/i;return s=Math.max(0,Math.min(1,s)),Qc(t,Ji(e,r,s))}function Ji(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function vp(t,e,r,i){const s=i||[];if((function(l,h){const d=l[h+0],p=l[h+1],m=l[h+2],x=l[h+3];let v=3*p[0]-2*d[0]-x[0];v*=v;let b=3*p[1]-2*d[1]-x[1];b*=b;let C=3*m[0]-2*x[0]-d[0];C*=C;let _=3*m[1]-2*x[1]-d[1];return _*=_,v<C&&(v=C),b<_&&(b=_),v+b})(t,e)<r){const l=t[e+0];s.length?(o=s[s.length-1],c=l,Math.sqrt(Qc(o,c))>1&&s.push(l)):s.push(l),s.push(t[e+3])}else{const h=t[e+0],d=t[e+1],p=t[e+2],m=t[e+3],x=Ji(h,d,.5),v=Ji(d,p,.5),b=Ji(p,m,.5),C=Ji(x,v,.5),_=Ji(v,b,.5),S=Ji(C,_,.5);vp([h,x,C,S],0,r,s),vp([S,_,b,m],0,r,s)}var o,c;return s}function HD(t,e){return Du(t,0,t.length,e)}function Du(t,e,r,i,s){const o=s||[],c=t[e],l=t[r-1];let h=0,d=1;for(let p=e+1;p<r-1;++p){const m=WD(t[p],c,l);m>h&&(h=m,d=p)}return Math.sqrt(h)>i?(Du(t,e,d+1,i,o),Du(t,d,r,i,o)):(o.length||o.push(c),o.push(l)),o}function kf(t,e=.15,r){const i=[],s=(t.length-1)/3;for(let o=0;o<s;o++)vp(t,3*o,e,i);return r&&r>0?Du(i,0,i.length,r):i}const Sr="none";class $u{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,i){return{shape:e,sets:r||[],options:i||this.defaultOptions}}line(e,r,i,s,o){const c=this._o(o);return this._d("line",[Lw(e,r,i,s,c)],c)}rectangle(e,r,i,s,o){const c=this._o(o),l=[],h=ID(e,r,i,s,c);if(c.fill){const d=[[e,r],[e+i,r],[e+i,r+s],[e,r+s]];c.fillStyle==="solid"?l.push(wf([d],c)):l.push(Us([d],c))}return c.stroke!==Sr&&l.push(h),this._d("rectangle",l,c)}ellipse(e,r,i,s,o){const c=this._o(o),l=[],h=Mw(i,s,c),d=xp(e,r,c,h);if(c.fill)if(c.fillStyle==="solid"){const p=xp(e,r,c,h).opset;p.type="fillPath",l.push(p)}else l.push(Us([d.estimatedPoints],c));return c.stroke!==Sr&&l.push(d.opset),this._d("ellipse",l,c)}circle(e,r,i,s){const o=this.ellipse(e,r,i,i,s);return o.shape="circle",o}linearPath(e,r){const i=this._o(r);return this._d("linearPath",[Xc(e,!1,i)],i)}arc(e,r,i,s,o,c,l=!1,h){const d=this._o(h),p=[],m=Uy(e,r,i,s,o,c,l,!0,d);if(l&&d.fill)if(d.fillStyle==="solid"){const x=Object.assign({},d);x.disableMultiStroke=!0;const v=Uy(e,r,i,s,o,c,!0,!1,x);v.type="fillPath",p.push(v)}else p.push((function(x,v,b,C,_,S,N){const M=x,P=v;let D=Math.abs(b/2),V=Math.abs(C/2);D+=We(.01*D,N),V+=We(.01*V,N);let z=_,q=S;for(;z<0;)z+=2*Math.PI,q+=2*Math.PI;q-z>2*Math.PI&&(z=0,q=2*Math.PI);const te=(q-z)/N.curveStepCount,Q=[];for(let F=z;F<=q;F+=te)Q.push([M+D*Math.cos(F),P+V*Math.sin(F)]);return Q.push([M+D*Math.cos(q),P+V*Math.sin(q)]),Q.push([M,P]),Us([Q],N)})(e,r,i,s,o,c,d));return d.stroke!==Sr&&p.push(m),this._d("arc",p,d)}curve(e,r){const i=this._o(r),s=[],o=qy(e,i);if(i.fill&&i.fill!==Sr)if(i.fillStyle==="solid"){const c=qy(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else{const c=[],l=e;if(l.length){const h=typeof l[0][0]=="number"?[l]:l;for(const d of h)d.length<3?c.push(...d):d.length===3?c.push(...kf(Qy([d[0],d[0],d[1],d[2]]),10,(1+i.roughness)/2)):c.push(...kf(Qy(d),10,(1+i.roughness)/2))}c.length&&s.push(Us([c],i))}return i.stroke!==Sr&&s.push(o),this._d("curve",s,i)}polygon(e,r){const i=this._o(r),s=[],o=Xc(e,!0,i);return i.fill&&(i.fillStyle==="solid"?s.push(wf([e],i)):s.push(Us([e],i))),i.stroke!==Sr&&s.push(o),this._d("polygon",s,i)}path(e,r){const i=this._o(r),s=[];if(!e)return this._d("path",s,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=i.fill&&i.fill!=="transparent"&&i.fill!==Sr,c=i.stroke!==Sr,l=!!(i.simplification&&i.simplification<1),h=(function(p,m,x){const v=Aw(Nw(Lg(p))),b=[];let C=[],_=[0,0],S=[];const N=()=>{S.length>=4&&C.push(...kf(S,m)),S=[]},M=()=>{N(),C.length&&(b.push(C),C=[])};for(const{key:D,data:V}of v)switch(D){case"M":M(),_=[V[0],V[1]],C.push(_);break;case"L":N(),C.push([V[0],V[1]]);break;case"C":if(!S.length){const z=C.length?C[C.length-1]:_;S.push([z[0],z[1]])}S.push([V[0],V[1]]),S.push([V[2],V[3]]),S.push([V[4],V[5]]);break;case"Z":N(),C.push([_[0],_[1]])}if(M(),!x)return b;const P=[];for(const D of b){const V=HD(D,x);V.length&&P.push(V)}return P})(e,1,l?4-4*(i.simplification||1):(1+i.roughness)/2),d=Yy(e,i);if(o)if(i.fillStyle==="solid")if(h.length===1){const p=Yy(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else s.push(wf(h,i));else s.push(Us(h,i));return c&&(l?h.forEach((p=>{s.push(Xc(p,!1,i))})):s.push(d)),this._d("path",s,i)}opsToPath(e,r){let i="";for(const s of e.ops){const o=typeof r=="number"&&r>=0?s.data.map((c=>+c.toFixed(r))):s.data;switch(s.op){case"move":i+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":i+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":i+=`L${o[0]} ${o[1]} `}}return i.trim()}toPaths(e){const r=e.sets||[],i=e.options||this.defaultOptions,s=[];for(const o of r){let c=null;switch(o.type){case"path":c={d:this.opsToPath(o),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:Sr};break;case"fillPath":c={d:this.opsToPath(o),stroke:Sr,strokeWidth:0,fill:i.fill||Sr};break;case"fillSketch":c=this.fillSketch(o,i)}c&&s.push(c)}return s}fillSketch(e,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Sr,strokeWidth:i,fill:Sr}}_mergedShape(e){return e.filter(((r,i)=>i===0||r.op!=="move"))}}class qD{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new $u(r)}draw(e){const r=e.sets||[],i=e.options||this.getDefaultOptions(),s=this.ctx,o=e.options.fixedDecimalPlaceDigits;for(const c of r)switch(c.type){case"path":s.save(),s.strokeStyle=i.stroke==="none"?"transparent":i.stroke,s.lineWidth=i.strokeWidth,i.strokeLineDash&&s.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(s.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(s,c,o),s.restore();break;case"fillPath":{s.save(),s.fillStyle=i.fill||"";const l=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(s,c,o,l),s.restore();break}case"fillSketch":this.fillSketch(s,c,i)}}fillSketch(e,r,i){let s=i.fillWeight;s<0&&(s=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=s,this._drawToContext(e,r,i.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,i,s="nonzero"){e.beginPath();for(const o of r.ops){const c=typeof i=="number"&&i>=0?o.data.map((l=>+l.toFixed(i))):o.data;switch(o.op){case"move":e.moveTo(c[0],c[1]);break;case"bcurveTo":e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case"lineTo":e.lineTo(c[0],c[1])}}r.type==="fillPath"?e.fill(s):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,i,s,o){const c=this.gen.line(e,r,i,s,o);return this.draw(c),c}rectangle(e,r,i,s,o){const c=this.gen.rectangle(e,r,i,s,o);return this.draw(c),c}ellipse(e,r,i,s,o){const c=this.gen.ellipse(e,r,i,s,o);return this.draw(c),c}circle(e,r,i,s){const o=this.gen.circle(e,r,i,s);return this.draw(o),o}linearPath(e,r){const i=this.gen.linearPath(e,r);return this.draw(i),i}polygon(e,r){const i=this.gen.polygon(e,r);return this.draw(i),i}arc(e,r,i,s,o,c,l=!1,h){const d=this.gen.arc(e,r,i,s,o,c,l,h);return this.draw(d),d}curve(e,r){const i=this.gen.curve(e,r);return this.draw(i),i}path(e,r){const i=this.gen.path(e,r);return this.draw(i),i}}const Bc="http://www.w3.org/2000/svg";class UD{constructor(e,r){this.svg=e,this.gen=new $u(r)}draw(e){const r=e.sets||[],i=e.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,o=s.createElementNS(Bc,"g"),c=e.options.fixedDecimalPlaceDigits;for(const l of r){let h=null;switch(l.type){case"path":h=s.createElementNS(Bc,"path"),h.setAttribute("d",this.opsToPath(l,c)),h.setAttribute("stroke",i.stroke),h.setAttribute("stroke-width",i.strokeWidth+""),h.setAttribute("fill","none"),i.strokeLineDash&&h.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":h=s.createElementNS(Bc,"path"),h.setAttribute("d",this.opsToPath(l,c)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",i.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(s,l,i)}h&&o.appendChild(h)}return o}fillSketch(e,r,i){let s=i.fillWeight;s<0&&(s=i.strokeWidth/2);const o=e.createElementNS(Bc,"path");return o.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),o.setAttribute("stroke",i.fill||""),o.setAttribute("stroke-width",s+""),o.setAttribute("fill","none"),i.fillLineDash&&o.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,i,s,o){const c=this.gen.line(e,r,i,s,o);return this.draw(c)}rectangle(e,r,i,s,o){const c=this.gen.rectangle(e,r,i,s,o);return this.draw(c)}ellipse(e,r,i,s,o){const c=this.gen.ellipse(e,r,i,s,o);return this.draw(c)}circle(e,r,i,s){const o=this.gen.circle(e,r,i,s);return this.draw(o)}linearPath(e,r){const i=this.gen.linearPath(e,r);return this.draw(i)}polygon(e,r){const i=this.gen.polygon(e,r);return this.draw(i)}arc(e,r,i,s,o,c,l=!1,h){const d=this.gen.arc(e,r,i,s,o,c,l,h);return this.draw(d)}curve(e,r){const i=this.gen.curve(e,r);return this.draw(i)}path(e,r){const i=this.gen.path(e,r);return this.draw(i)}}var we={canvas:(t,e)=>new qD(t,e),svg:(t,e)=>new UD(t,e),generator:t=>new $u(t),newSeed:()=>$u.newSeed()},Oe=k(async(t,e,r)=>{let i;const s=e.useHtmlLabels||Bt(rt()?.htmlLabels);r?i=r:i="node default";const o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),c=o.insert("g").attr("class","label").attr("style",Kt(e.labelStyle));let l;e.label===void 0?l="":l=typeof e.label=="string"?e.label:e.label[0];const h=await Ai(c,Or(ys(l),rt()),{useHtmlLabels:s,width:e.width||rt().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let d=h.getBBox();const p=(e?.padding??0)/2;if(s){const m=h.children[0],x=$e(h),v=m.getElementsByTagName("img");if(v){const b=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...v].map(C=>new Promise(_=>{function S(){if(C.style.display="flex",C.style.flexDirection="column",b){const N=rt().fontSize?rt().fontSize:window.getComputedStyle(document.body).fontSize,M=5,[P=zv.fontSize]=rh(N),D=P*M+"px";C.style.minWidth=D,C.style.maxWidth=D}else C.style.width="100%";_(C)}k(S,"setupImage"),setTimeout(()=>{C.complete&&S()}),C.addEventListener("error",S),C.addEventListener("load",S)})))}d=m.getBoundingClientRect(),x.attr("width",d.width),x.attr("height",d.height)}return s?c.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):c.attr("transform","translate(0, "+-d.height/2+")"),e.centerLabel&&c.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),c.insert("rect",":first-child"),{shapeSvg:o,bbox:d,halfPadding:p,label:c}},"labelHelper"),Cf=k(async(t,e,r)=>{const i=r.useHtmlLabels||Bt(rt()?.flowchart?.htmlLabels),s=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),o=await Ai(s,Or(ys(e),rt()),{useHtmlLabels:i,width:r.width||rt()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let c=o.getBBox();const l=r.padding/2;if(Bt(rt()?.flowchart?.htmlLabels)){const h=o.children[0],d=$e(o);c=h.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}return i?s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):s.attr("transform","translate(0, "+-c.height/2+")"),r.centerLabel&&s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:t,bbox:c,halfPadding:l,label:s}},"insertLabel"),Ne=k((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Fe=k((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Ze(t){const e=t.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}k(Ze,"createPathFromPoints");function Ti(t,e,r,i,s,o){const c=[],h=r-t,d=i-e,p=h/o,m=2*Math.PI/p,x=e+d/2;for(let v=0;v<=50;v++){const b=v/50,C=t+b*h,_=x+s*Math.sin(m*(C-t));c.push({x:C,y:_})}return c}k(Ti,"generateFullSineWavePoints");function Zo(t,e,r,i,s,o){const c=[],l=s*Math.PI/180,p=(o*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const x=l+m*p,v=t+r*Math.cos(x),b=e+r*Math.sin(x);c.push({x:-v,y:-b})}return c}k(Zo,"generateCirclePoints");var YD=k((t,e)=>{var r=t.x,i=t.y,s=e.x-r,o=e.y-i,c=t.width/2,l=t.height/2,h,d;return Math.abs(o)*c>Math.abs(s)*l?(o<0&&(l=-l),h=o===0?0:l*s/o,d=l):(s<0&&(c=-c),h=c,d=s===0?0:c*o/s),{x:r+h,y:i+d}},"intersectRect"),va=YD;function Bw(t,e){e&&t.attr("style",e)}k(Bw,"applyStyle");async function Dw(t){const e=$e(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),i=rt();let s=t.label;t.label&&ua(t.label)&&(s=await Xp(t.label.replace(ga.lineBreakRegex,`
`),i));const c='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+s+"</span>";return r.html(Or(c,i)),Bw(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}k(Dw,"addHtmlLabel");var VD=k(async(t,e,r,i)=>{let s=t||"";if(typeof s=="object"&&(s=s[0]),Bt(rt().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),se.info("vertexText"+s);const o={isNode:i,label:ys(s).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await Dw(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",e.replace("color:","fill:"));let c=[];typeof s=="string"?c=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?c=s:c=[];for(const l of c){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=l.trim(),o.appendChild(h)}return o}},"createLabel"),ss=VD,Ei=k((t,e,r,i,s)=>["M",t+s,e,"H",t+r-s,"A",s,s,0,0,1,t+r,e+s,"V",e+i-s,"A",s,s,0,0,1,t+r-s,e+i,"H",t+s,"A",s,s,0,0,1,t,e+i-s,"V",e+s,"A",s,s,0,0,1,t+s,e,"Z"].join(" "),"createRoundedRectPathD"),$w=k(async(t,e)=>{se.info("Creating subgraph rect for ",e.id,e);const r=rt(),{themeVariables:i,handDrawnSeed:s}=r,{clusterBkg:o,clusterBorder:c}=i,{labelStyles:l,nodeStyles:h,borderStyles:d,backgroundStyles:p}=Se(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=Bt(r.flowchart.htmlLabels),v=m.insert("g").attr("class","cluster-label "),b=await Ai(v,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0});let C=b.getBBox();if(Bt(r.flowchart.htmlLabels)){const z=b.children[0],q=$e(b);C=z.getBoundingClientRect(),q.attr("width",C.width),q.attr("height",C.height)}const _=e.width<=C.width+e.padding?C.width+e.padding:e.width;e.width<=C.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const S=e.height,N=e.x-_/2,M=e.y-S/2;se.trace("Data ",e,JSON.stringify(e));let P;if(e.look==="handDrawn"){const z=we.svg(m),q=_e(e,{roughness:.7,fill:o,stroke:c,fillWeight:3,seed:s}),te=z.path(Ei(N,M,_,S,0),q);P=m.insert(()=>(se.debug("Rough node insert CXC",te),te),":first-child"),P.select("path:nth-child(2)").attr("style",d.join(";")),P.select("path").attr("style",p.join(";").replace("fill","stroke"))}else P=m.insert("rect",":first-child"),P.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",N).attr("y",M).attr("width",_).attr("height",S);const{subGraphTitleTopMargin:D}=lg(r);if(v.attr("transform",`translate(${e.x-C.width/2}, ${e.y-e.height/2+D})`),l){const z=v.select("span");z&&z.attr("style",l)}const V=P.node().getBBox();return e.offsetX=0,e.width=V.width,e.height=V.height,e.offsetY=C.height-e.padding/2,e.intersect=function(z){return va(e,z)},{cluster:m,labelBBox:C}},"rect"),GD=k((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),i=r.insert("rect",":first-child"),s=0*e.padding,o=s/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+s).attr("height",e.height+s).attr("fill","none");const c=i.node().getBBox();return e.width=c.width,e.height=c.height,e.intersect=function(l){return va(e,l)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),XD=k(async(t,e)=>{const r=rt(),{themeVariables:i,handDrawnSeed:s}=r,{altBackground:o,compositeBackground:c,compositeTitleBackground:l,nodeBorder:h}=i,d=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),p=d.insert("g",":first-child"),m=d.insert("g").attr("class","cluster-label");let x=d.append("rect");const v=m.node().appendChild(await ss(e.label,e.labelStyle,void 0,!0));let b=v.getBBox();if(Bt(r.flowchart.htmlLabels)){const te=v.children[0],Q=$e(v);b=te.getBoundingClientRect(),Q.attr("width",b.width),Q.attr("height",b.height)}const C=0*e.padding,_=C/2,S=(e.width<=b.width+e.padding?b.width+e.padding:e.width)+C;e.width<=b.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const N=e.height+C,M=e.height+C-b.height-6,P=e.x-S/2,D=e.y-N/2;e.width=S;const V=e.y-e.height/2-_+b.height+2;let z;if(e.look==="handDrawn"){const te=e.cssClasses.includes("statediagram-cluster-alt"),Q=we.svg(d),F=e.rx||e.ry?Q.path(Ei(P,D,S,N,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:h,seed:s}):Q.rectangle(P,D,S,N,{seed:s});z=d.insert(()=>F,":first-child");const ee=Q.rectangle(P,V,S,M,{fill:te?o:c,fillStyle:te?"hachure":"solid",stroke:h,seed:s});z=d.insert(()=>F,":first-child"),x=d.insert(()=>ee)}else z=p.insert("rect",":first-child"),z.attr("class","outer").attr("x",P).attr("y",D).attr("width",S).attr("height",N).attr("data-look",e.look),x.attr("class","inner").attr("x",P).attr("y",V).attr("width",S).attr("height",M);m.attr("transform",`translate(${e.x-b.width/2}, ${D+1-(Bt(r.flowchart.htmlLabels)?0:3)})`);const q=z.node().getBBox();return e.height=q.height,e.offsetX=0,e.offsetY=b.height-e.padding/2,e.labelBBox=b,e.intersect=function(te){return va(e,te)},{cluster:d,labelBBox:b}},"roundedWithTitle"),QD=k(async(t,e)=>{se.info("Creating subgraph rect for ",e.id,e);const r=rt(),{themeVariables:i,handDrawnSeed:s}=r,{clusterBkg:o,clusterBorder:c}=i,{labelStyles:l,nodeStyles:h,borderStyles:d,backgroundStyles:p}=Se(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=Bt(r.flowchart.htmlLabels),v=m.insert("g").attr("class","cluster-label "),b=await Ai(v,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0,width:e.width});let C=b.getBBox();if(Bt(r.flowchart.htmlLabels)){const z=b.children[0],q=$e(b);C=z.getBoundingClientRect(),q.attr("width",C.width),q.attr("height",C.height)}const _=e.width<=C.width+e.padding?C.width+e.padding:e.width;e.width<=C.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const S=e.height,N=e.x-_/2,M=e.y-S/2;se.trace("Data ",e,JSON.stringify(e));let P;if(e.look==="handDrawn"){const z=we.svg(m),q=_e(e,{roughness:.7,fill:o,stroke:c,fillWeight:4,seed:s}),te=z.path(Ei(N,M,_,S,e.rx),q);P=m.insert(()=>(se.debug("Rough node insert CXC",te),te),":first-child"),P.select("path:nth-child(2)").attr("style",d.join(";")),P.select("path").attr("style",p.join(";").replace("fill","stroke"))}else P=m.insert("rect",":first-child"),P.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",N).attr("y",M).attr("width",_).attr("height",S);const{subGraphTitleTopMargin:D}=lg(r);if(v.attr("transform",`translate(${e.x-C.width/2}, ${e.y-e.height/2+D})`),l){const z=v.select("span");z&&z.attr("style",l)}const V=P.node().getBBox();return e.offsetX=0,e.width=V.width,e.height=V.height,e.offsetY=C.height-e.padding/2,e.intersect=function(z){return va(e,z)},{cluster:m,labelBBox:C}},"kanbanSection"),KD=k((t,e)=>{const r=rt(),{themeVariables:i,handDrawnSeed:s}=r,{nodeBorder:o}=i,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),l=c.insert("g",":first-child"),h=0*e.padding,d=e.width+h;e.diff=-e.padding;const p=e.height+h,m=e.x-d/2,x=e.y-p/2;e.width=d;let v;if(e.look==="handDrawn"){const _=we.svg(c).rectangle(m,x,d,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:o,seed:s});v=c.insert(()=>_,":first-child")}else v=l.insert("rect",":first-child"),v.attr("class","divider").attr("x",m).attr("y",x).attr("width",d).attr("height",p).attr("data-look",e.look);const b=v.node().getBBox();return e.height=b.height,e.offsetX=0,e.offsetY=0,e.intersect=function(C){return va(e,C)},{cluster:c,labelBBox:{}}},"divider"),ZD=$w,JD={rect:$w,squareRect:ZD,roundedWithTitle:XD,noteGroup:GD,divider:KD,kanbanSection:QD},Fw=new Map,e6=k(async(t,e)=>{const r=e.shape||"rect",i=await JD[r](t,e);return Fw.set(e.id,i),i},"insertCluster"),PR=k(()=>{Fw=new Map},"clear");function Pw(t,e){return t.intersect(e)}k(Pw,"intersectNode");var t6=Pw;function Rw(t,e,r,i){var s=t.x,o=t.y,c=s-i.x,l=o-i.y,h=Math.sqrt(e*e*l*l+r*r*c*c),d=Math.abs(e*r*c/h);i.x<s&&(d=-d);var p=Math.abs(e*r*l/h);return i.y<o&&(p=-p),{x:s+d,y:o+p}}k(Rw,"intersectEllipse");var Ow=Rw;function Iw(t,e,r){return Ow(t,e,e,r)}k(Iw,"intersectCircle");var r6=Iw;function zw(t,e,r,i){{const s=e.y-t.y,o=t.x-e.x,c=e.x*t.y-t.x*e.y,l=s*r.x+o*r.y+c,h=s*i.x+o*i.y+c,d=1e-6;if(l!==0&&h!==0&&bp(l,h))return;const p=i.y-r.y,m=r.x-i.x,x=i.x*r.y-r.x*i.y,v=p*t.x+m*t.y+x,b=p*e.x+m*e.y+x;if(Math.abs(v)<d&&Math.abs(b)<d&&bp(v,b))return;const C=s*m-p*o;if(C===0)return;const _=Math.abs(C/2);let S=o*x-m*c;const N=S<0?(S-_)/C:(S+_)/C;S=p*c-s*x;const M=S<0?(S-_)/C:(S+_)/C;return{x:N,y:M}}}k(zw,"intersectLine");function bp(t,e){return t*e>0}k(bp,"sameSign");var n6=zw;function Ww(t,e,r){let i=t.x,s=t.y,o=[],c=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(p){c=Math.min(c,p.x),l=Math.min(l,p.y)}):(c=Math.min(c,e.x),l=Math.min(l,e.y));let h=i-t.width/2-c,d=s-t.height/2-l;for(let p=0;p<e.length;p++){let m=e[p],x=e[p<e.length-1?p+1:0],v=n6(t,r,{x:h+m.x,y:d+m.y},{x:h+x.x,y:d+x.y});v&&o.push(v)}return o.length?(o.length>1&&o.sort(function(p,m){let x=p.x-r.x,v=p.y-r.y,b=Math.sqrt(x*x+v*v),C=m.x-r.x,_=m.y-r.y,S=Math.sqrt(C*C+_*_);return b<S?-1:b===S?0:1}),o[0]):t}k(Ww,"intersectPolygon");var i6=Ww,me={node:t6,circle:r6,ellipse:Ow,polygon:i6,rect:va};function Hw(t,e){const{labelStyles:r}=Se(e);e.labelStyle=r;const i=Fe(e);let s=i;i||(s="anchor");const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),c=1,{cssStyles:l}=e,h=we.svg(o),d=_e(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(d.roughness=0);const p=h.circle(0,0,c*2,d),m=o.insert(()=>p,":first-child");return m.attr("class","anchor").attr("style",Kt(l)),Ne(e,m),e.intersect=function(x){return se.info("Circle intersect",e,c,x),me.circle(e,c,x)},o}k(Hw,"anchor");function wp(t,e,r,i,s,o,c){const h=(t+r)/2,d=(e+i)/2,p=Math.atan2(i-e,r-t),m=(r-t)/2,x=(i-e)/2,v=m/s,b=x/o,C=Math.sqrt(v**2+b**2);if(C>1)throw new Error("The given radii are too small to create an arc between the points.");const _=Math.sqrt(1-C**2),S=h+_*o*Math.sin(p)*(c?-1:1),N=d-_*s*Math.cos(p)*(c?-1:1),M=Math.atan2((e-N)/o,(t-S)/s);let D=Math.atan2((i-N)/o,(r-S)/s)-M;c&&D<0&&(D+=2*Math.PI),!c&&D>0&&(D-=2*Math.PI);const V=[];for(let z=0;z<20;z++){const q=z/19,te=M+q*D,Q=S+s*Math.cos(te),F=N+o*Math.sin(te);V.push({x:Q,y:F})}return V}k(wp,"generateArcPoints");async function qw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.width+e.padding+20,l=o.height+e.padding,h=l/2,d=h/(2.5+l/50),{cssStyles:p}=e,m=[{x:c/2,y:-l/2},{x:-c/2,y:-l/2},...wp(-c/2,-l/2,-c/2,l/2,d,h,!1),{x:c/2,y:l/2},...wp(c/2,l/2,c/2,-l/2,d,h,!0)],x=we.svg(s),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=Ze(m),C=x.path(b,v),_=s.insert(()=>C,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),_.attr("transform",`translate(${d/2}, 0)`),Ne(e,_),e.intersect=function(S){return me.polygon(e,m,S)},s}k(qw,"bowTieRect");function Li(t,e,r,i){return t.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}k(Li,"insertPolygonShape");async function Uw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.height+e.padding,l=12,h=o.width+e.padding+l,d=0,p=h,m=-c,x=0,v=[{x:d+l,y:m},{x:p,y:m},{x:p,y:x},{x:d,y:x},{x:d,y:m+l},{x:d+l,y:m}];let b;const{cssStyles:C}=e;if(e.look==="handDrawn"){const _=we.svg(s),S=_e(e,{}),N=Ze(v),M=_.path(N,S);b=s.insert(()=>M,":first-child").attr("transform",`translate(${-h/2}, ${c/2})`),C&&b.attr("style",C)}else b=Li(s,h,c,v);return i&&b.attr("style",i),Ne(e,b),e.intersect=function(_){return me.polygon(e,v,_)},s}k(Uw,"card");function Yw(t,e){const{nodeStyles:r}=Se(e);e.label="";const i=t.insert("g").attr("class",Fe(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(28,e.width??0),c=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],l=we.svg(i),h=_e(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=Ze(c),p=l.path(d,h),m=i.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(x){return me.polygon(e,c,x)},i}k(Yw,"choice");async function Mg(t,e,r){const{labelStyles:i,nodeStyles:s}=Se(e);e.labelStyle=i;const{shapeSvg:o,bbox:c,halfPadding:l}=await Oe(t,e,Fe(e)),h=r?.padding??l,d=c.width/2+h;let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const x=we.svg(o),v=_e(e,{}),b=x.circle(0,0,d*2,v);p=o.insert(()=>b,":first-child"),p.attr("class","basic label-container").attr("style",Kt(m))}else p=o.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",d).attr("cx",0).attr("cy",0);return Ne(e,p),e.calcIntersect=function(x,v){const b=x.width/2;return me.circle(x,b,v)},e.intersect=function(x){return se.info("Circle intersect",e,d,x),me.circle(e,d,x)},o}k(Mg,"circle");function Vw(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=t*2,s={x:i/2*e,y:i/2*r},o={x:-(i/2)*e,y:i/2*r},c={x:-(i/2)*e,y:-(i/2)*r},l={x:i/2*e,y:-(i/2)*r};return`M ${o.x},${o.y} L ${l.x},${l.y}
                   M ${s.x},${s.y} L ${c.x},${c.y}`}k(Vw,"createLine");function Gw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r,e.label="";const s=t.insert("g").attr("class",Fe(e)).attr("id",e.domId??e.id),o=Math.max(30,e?.width??0),{cssStyles:c}=e,l=we.svg(s),h=_e(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=l.circle(0,0,o*2,h),p=Vw(o),m=l.path(p,h),x=s.insert(()=>d,":first-child");return x.insert(()=>m),c&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",c),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),Ne(e,x),e.intersect=function(v){return se.info("crossedCircle intersect",e,{radius:o,point:v}),me.circle(e,o,v)},s}k(Gw,"crossedCircle");function In(t,e,r,i=100,s=0,o=180){const c=[],l=s*Math.PI/180,p=(o*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const x=l+m*p,v=t+r*Math.cos(x),b=e+r*Math.sin(x);c.push({x:-v,y:-b})}return c}k(In,"generateCirclePoints");async function Xw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=o.width+(e.padding??0),h=o.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,m=[...In(l/2,-h/2,d,30,-90,0),{x:-l/2-d,y:d},...In(l/2+d*2,-d,d,20,-180,-270),...In(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-h/2},...In(l/2,h/2,d,20,0,90)],x=[{x:l/2,y:-h/2-d},{x:-l/2,y:-h/2-d},...In(l/2,-h/2,d,20,-90,0),{x:-l/2-d,y:-d},...In(l/2+l*.1,-d,d,20,-180,-270),...In(l/2+l*.1,d,d,20,-90,-180),{x:-l/2-d,y:h/2},...In(l/2,h/2,d,20,0,90),{x:-l/2,y:h/2+d},{x:l/2,y:h/2+d}],v=we.svg(s),b=_e(e,{fill:"none"});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const _=Ze(m).replace("Z",""),S=v.path(_,b),N=Ze(x),M=v.path(N,{...b}),P=s.insert("g",":first-child");return P.insert(()=>M,":first-child").attr("stroke-opacity",0),P.insert(()=>S,":first-child"),P.attr("class","text"),p&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(${d}, 0)`),c.attr("transform",`translate(${-l/2+d-(o.x-(o.left??0))},${-h/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ne(e,P),e.intersect=function(D){return me.polygon(e,x,D)},s}k(Xw,"curlyBraceLeft");function zn(t,e,r,i=100,s=0,o=180){const c=[],l=s*Math.PI/180,p=(o*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const x=l+m*p,v=t+r*Math.cos(x),b=e+r*Math.sin(x);c.push({x:v,y:b})}return c}k(zn,"generateCirclePoints");async function Qw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=o.width+(e.padding??0),h=o.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,m=[...zn(l/2,-h/2,d,20,-90,0),{x:l/2+d,y:-d},...zn(l/2+d*2,-d,d,20,-180,-270),...zn(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:h/2},...zn(l/2,h/2,d,20,0,90)],x=[{x:-l/2,y:-h/2-d},{x:l/2,y:-h/2-d},...zn(l/2,-h/2,d,20,-90,0),{x:l/2+d,y:-d},...zn(l/2+d*2,-d,d,20,-180,-270),...zn(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:h/2},...zn(l/2,h/2,d,20,0,90),{x:l/2,y:h/2+d},{x:-l/2,y:h/2+d}],v=we.svg(s),b=_e(e,{fill:"none"});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const _=Ze(m).replace("Z",""),S=v.path(_,b),N=Ze(x),M=v.path(N,{...b}),P=s.insert("g",":first-child");return P.insert(()=>M,":first-child").attr("stroke-opacity",0),P.insert(()=>S,":first-child"),P.attr("class","text"),p&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(${-d}, 0)`),c.attr("transform",`translate(${-l/2+(e.padding??0)/2-(o.x-(o.left??0))},${-h/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ne(e,P),e.intersect=function(D){return me.polygon(e,x,D)},s}k(Qw,"curlyBraceRight");function It(t,e,r,i=100,s=0,o=180){const c=[],l=s*Math.PI/180,p=(o*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const x=l+m*p,v=t+r*Math.cos(x),b=e+r*Math.sin(x);c.push({x:-v,y:-b})}return c}k(It,"generateCirclePoints");async function Kw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=o.width+(e.padding??0),h=o.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,m=[...It(l/2,-h/2,d,30,-90,0),{x:-l/2-d,y:d},...It(l/2+d*2,-d,d,20,-180,-270),...It(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-h/2},...It(l/2,h/2,d,20,0,90)],x=[...It(-l/2+d+d/2,-h/2,d,20,-90,-180),{x:l/2-d/2,y:d},...It(-l/2-d/2,-d,d,20,0,90),...It(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...It(-l/2+d+d/2,h/2,d,30,-180,-270)],v=[{x:l/2,y:-h/2-d},{x:-l/2,y:-h/2-d},...It(l/2,-h/2,d,20,-90,0),{x:-l/2-d,y:-d},...It(l/2+d*2,-d,d,20,-180,-270),...It(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:h/2},...It(l/2,h/2,d,20,0,90),{x:-l/2,y:h/2+d},{x:l/2-d-d/2,y:h/2+d},...It(-l/2+d+d/2,-h/2,d,20,-90,-180),{x:l/2-d/2,y:d},...It(-l/2-d/2,-d,d,20,0,90),...It(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...It(-l/2+d+d/2,h/2,d,30,-180,-270)],b=we.svg(s),C=_e(e,{fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const S=Ze(m).replace("Z",""),N=b.path(S,C),P=Ze(x).replace("Z",""),D=b.path(P,C),V=Ze(v),z=b.path(V,{...C}),q=s.insert("g",":first-child");return q.insert(()=>z,":first-child").attr("stroke-opacity",0),q.insert(()=>N,":first-child"),q.insert(()=>D,":first-child"),q.attr("class","text"),p&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",i),q.attr("transform",`translate(${d-d/4}, 0)`),c.attr("transform",`translate(${-l/2+(e.padding??0)/2-(o.x-(o.left??0))},${-h/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ne(e,q),e.intersect=function(te){return me.polygon(e,v,te)},s}k(Kw,"curlyBraces");async function Zw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=80,l=20,h=Math.max(c,(o.width+(e.padding??0)*2)*1.25,e?.width??0),d=Math.max(l,o.height+(e.padding??0)*2,e?.height??0),p=d/2,{cssStyles:m}=e,x=we.svg(s),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=h,C=d,_=b-p,S=C/4,N=[{x:_,y:0},{x:S,y:0},{x:0,y:C/2},{x:S,y:C},{x:_,y:C},...Zo(-_,-C/2,p,50,270,90)],M=Ze(N),P=x.path(M,v),D=s.insert(()=>P,":first-child");return D.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",m),i&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",i),D.attr("transform",`translate(${-h/2}, ${-d/2})`),Ne(e,D),e.intersect=function(V){return me.polygon(e,N,V)},s}k(Zw,"curvedTrapezoid");var s6=k((t,e,r,i,s,o)=>[`M${t},${e+o}`,`a${s},${o} 0,0,0 ${r},0`,`a${s},${o} 0,0,0 ${-r},0`,`l0,${i}`,`a${s},${o} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),a6=k((t,e,r,i,s,o)=>[`M${t},${e+o}`,`M${t+r},${e+o}`,`a${s},${o} 0,0,0 ${-r},0`,`l0,${i}`,`a${s},${o} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),o6=k((t,e,r,i,s,o)=>[`M${t-r/2},${-i/2}`,`a${s},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Jw(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+e.padding,e.width??0),h=l/2,d=h/(2.5+l/50),p=Math.max(o.height+d+e.padding,e.height??0);let m;const{cssStyles:x}=e;if(e.look==="handDrawn"){const v=we.svg(s),b=a6(0,0,l,p,h,d),C=o6(0,d,l,p,h,d),_=v.path(b,_e(e,{})),S=v.path(C,_e(e,{fill:"none"}));m=s.insert(()=>S,":first-child"),m=s.insert(()=>_,":first-child"),m.attr("class","basic label-container"),x&&m.attr("style",x)}else{const v=s6(0,0,l,p,h,d);m=s.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",Kt(x)).attr("style",i)}return m.attr("label-offset-y",d),m.attr("transform",`translate(${-l/2}, ${-(p/2+d)})`),Ne(e,m),c.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+(e.padding??0)/1.5-(o.y-(o.top??0))})`),e.intersect=function(v){const b=me.rect(e,v),C=b.x-(e.x??0);if(h!=0&&(Math.abs(C)<(e.width??0)/2||Math.abs(C)==(e.width??0)/2&&Math.abs(b.y-(e.y??0))>(e.height??0)/2-d)){let _=d*d*(1-C*C/(h*h));_>0&&(_=Math.sqrt(_)),_=d-_,v.y-(e.y??0)>0&&(_=-_),b.y+=_}return b},s}k(Jw,"cylinder");async function ek(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=o.width+e.padding,h=o.height+e.padding,d=h*.2,p=-l/2,m=-h/2-d/2,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:p,y:m+d},{x:-p,y:m+d},{x:-p,y:-m},{x:p,y:-m},{x:p,y:m},{x:-p,y:m},{x:-p,y:m+d}],_=v.polygon(C.map(N=>[N.x,N.y]),b),S=s.insert(()=>_,":first-child");return S.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",x),i&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",i),c.attr("transform",`translate(${p+(e.padding??0)/2-(o.x-(o.left??0))}, ${m+d+(e.padding??0)/2-(o.y-(o.top??0))})`),Ne(e,S),e.intersect=function(N){return me.rect(e,N)},s}k(ek,"dividedRectangle");async function tk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c}=await Oe(t,e,Fe(e)),h=o.width/2+c+5,d=o.width/2+c;let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const x=we.svg(s),v=_e(e,{roughness:.2,strokeWidth:2.5}),b=_e(e,{roughness:.2,strokeWidth:1.5}),C=x.circle(0,0,h*2,v),_=x.circle(0,0,d*2,b);p=s.insert("g",":first-child"),p.attr("class",Kt(e.cssClasses)).attr("style",Kt(m)),p.node()?.appendChild(C),p.node()?.appendChild(_)}else{p=s.insert("g",":first-child");const x=p.insert("circle",":first-child"),v=p.insert("circle");p.attr("class","basic label-container").attr("style",i),x.attr("class","outer-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0),v.attr("class","inner-circle").attr("style",i).attr("r",d).attr("cx",0).attr("cy",0)}return Ne(e,p),e.intersect=function(x){return se.info("DoubleCircle intersect",e,h,x),me.circle(e,h,x)},s}k(tk,"doublecircle");function rk(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:s}=Se(e);e.label="",e.labelStyle=i;const o=t.insert("g").attr("class",Fe(e)).attr("id",e.domId??e.id),c=7,{cssStyles:l}=e,h=we.svg(o),{nodeBorder:d}=r,p=_e(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(p.roughness=0);const m=h.circle(0,0,c*2,p),x=o.insert(()=>m,":first-child");return x.selectAll("path").attr("style",`fill: ${d} !important;`),l&&l.length>0&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",l),s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),Ne(e,x),e.intersect=function(v){return se.info("filledCircle intersect",e,{radius:c,point:v}),me.circle(e,c,v)},o}k(rk,"filledCircle");async function nk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=o.width+(e.padding??0),h=l+o.height,d=l+o.height,p=[{x:0,y:-h},{x:d,y:-h},{x:d/2,y:0}],{cssStyles:m}=e,x=we.svg(s),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=Ze(p),C=x.path(b,v),_=s.insert(()=>C,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return m&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",m),i&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",i),e.width=l,e.height=h,Ne(e,_),c.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-h/2+(e.padding??0)/2+(o.y-(o.top??0))})`),e.intersect=function(S){return se.info("Triangle intersect",e,p,S),me.polygon(e,p,S)},s}k(nk,"flippedTriangle");function ik(t,e,{dir:r,config:{state:i,themeVariables:s}}){const{nodeStyles:o}=Se(e);e.label="";const c=t.insert("g").attr("class",Fe(e)).attr("id",e.domId??e.id),{cssStyles:l}=e;let h=Math.max(70,e?.width??0),d=Math.max(10,e?.height??0);r==="LR"&&(h=Math.max(10,e?.width??0),d=Math.max(70,e?.height??0));const p=-1*h/2,m=-1*d/2,x=we.svg(c),v=_e(e,{stroke:s.lineColor,fill:s.lineColor});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=x.rectangle(p,m,h,d,v),C=c.insert(()=>b,":first-child");l&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",l),o&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",o),Ne(e,C);const _=i?.padding??0;return e.width&&e.height&&(e.width+=_/2||0,e.height+=_/2||0),e.intersect=function(S){return me.rect(e,S)},c}k(ik,"forkJoin");async function sk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const s=80,o=50,{shapeSvg:c,bbox:l}=await Oe(t,e,Fe(e)),h=Math.max(s,l.width+(e.padding??0)*2,e?.width??0),d=Math.max(o,l.height+(e.padding??0)*2,e?.height??0),p=d/2,{cssStyles:m}=e,x=we.svg(c),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-h/2,y:-d/2},{x:h/2-p,y:-d/2},...Zo(-h/2+p,0,p,50,90,270),{x:h/2-p,y:d/2},{x:-h/2,y:d/2}],C=Ze(b),_=x.path(C,v),S=c.insert(()=>_,":first-child");return S.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",m),i&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),Ne(e,S),e.intersect=function(N){return se.info("Pill intersect",e,{radius:p,point:N}),me.polygon(e,b,N)},c}k(sk,"halfRoundedRectangle");async function ak(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.height+(e.padding??0),l=o.width+(e.padding??0)*2.5,{cssStyles:h}=e,d=we.svg(s),p=_e(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=l/2;const x=m/6;m=m+x;const v=c/2,b=v/2,C=m-b,_=[{x:-C,y:-v},{x:0,y:-v},{x:C,y:-v},{x:m,y:0},{x:C,y:v},{x:0,y:v},{x:-C,y:v},{x:-m,y:0}],S=Ze(_),N=d.path(S,p),M=s.insert(()=>N,":first-child");return M.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",h),i&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",i),e.width=l,e.height=c,Ne(e,M),e.intersect=function(P){return me.polygon(e,_,P)},s}k(ak,"hexagon");async function ok(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.label="",e.labelStyle=r;const{shapeSvg:s}=await Oe(t,e,Fe(e)),o=Math.max(30,e?.width??0),c=Math.max(30,e?.height??0),{cssStyles:l}=e,h=we.svg(s),d=_e(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:0,y:0},{x:o,y:0},{x:0,y:c},{x:o,y:c}],m=Ze(p),x=h.path(m,d),v=s.insert(()=>x,":first-child");return v.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",l),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),v.attr("transform",`translate(${-o/2}, ${-c/2})`),Ne(e,v),e.intersect=function(b){return se.info("Pill intersect",e,{points:p}),me.polygon(e,p,b)},s}k(ok,"hourglass");async function lk(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:s}=Se(e);e.labelStyle=s;const o=e.assetHeight??48,c=e.assetWidth??48,l=Math.max(o,c),h=i?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,label:m}=await Oe(t,e,"icon-shape default"),x=e.pos==="t",v=l,b=l,{nodeBorder:C}=r,{stylesMap:_}=ma(e),S=-b/2,N=-v/2,M=e.label?8:0,P=we.svg(d),D=_e(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const V=P.rectangle(S,N,b,v,D),z=Math.max(b,p.width),q=v+p.height+M,te=P.rectangle(-z/2,-q/2,z,q,{...D,fill:"transparent",stroke:"none"}),Q=d.insert(()=>V,":first-child"),F=d.insert(()=>te);if(e.icon){const ee=d.append("g");ee.html(`<g>${await cl(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const Z=ee.node().getBBox(),U=Z.width,j=Z.height,$=Z.x,O=Z.y;ee.attr("transform",`translate(${-U/2-$},${x?p.height/2+M/2-j/2-O:-p.height/2-M/2-j/2-O})`),ee.attr("style",`color: ${_.get("stroke")??C};`)}return m.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-q/2:q/2-p.height})`),Q.attr("transform",`translate(0,${x?p.height/2+M/2:-p.height/2-M/2})`),Ne(e,F),e.intersect=function(ee){if(se.info("iconSquare intersect",e,ee),!e.label)return me.rect(e,ee);const Z=e.x??0,U=e.y??0,j=e.height??0;let $=[];return x?$=[{x:Z-p.width/2,y:U-j/2},{x:Z+p.width/2,y:U-j/2},{x:Z+p.width/2,y:U-j/2+p.height+M},{x:Z+b/2,y:U-j/2+p.height+M},{x:Z+b/2,y:U+j/2},{x:Z-b/2,y:U+j/2},{x:Z-b/2,y:U-j/2+p.height+M},{x:Z-p.width/2,y:U-j/2+p.height+M}]:$=[{x:Z-b/2,y:U-j/2},{x:Z+b/2,y:U-j/2},{x:Z+b/2,y:U-j/2+v},{x:Z+p.width/2,y:U-j/2+v},{x:Z+p.width/2/2,y:U+j/2},{x:Z-p.width/2,y:U+j/2},{x:Z-p.width/2,y:U-j/2+v},{x:Z-b/2,y:U-j/2+v}],me.polygon(e,$,ee)},d}k(lk,"icon");async function ck(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:s}=Se(e);e.labelStyle=s;const o=e.assetHeight??48,c=e.assetWidth??48,l=Math.max(o,c),h=i?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,label:m}=await Oe(t,e,"icon-shape default"),x=20,v=e.label?8:0,b=e.pos==="t",{nodeBorder:C,mainBkg:_}=r,{stylesMap:S}=ma(e),N=we.svg(d),M=_e(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const P=S.get("fill");M.stroke=P??_;const D=d.append("g");e.icon&&D.html(`<g>${await cl(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const V=D.node().getBBox(),z=V.width,q=V.height,te=V.x,Q=V.y,F=Math.max(z,q)*Math.SQRT2+x*2,ee=N.circle(0,0,F,M),Z=Math.max(F,p.width),U=F+p.height+v,j=N.rectangle(-Z/2,-U/2,Z,U,{...M,fill:"transparent",stroke:"none"}),$=d.insert(()=>ee,":first-child"),O=d.insert(()=>j);return D.attr("transform",`translate(${-z/2-te},${b?p.height/2+v/2-q/2-Q:-p.height/2-v/2-q/2-Q})`),D.attr("style",`color: ${S.get("stroke")??C};`),m.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${b?-U/2:U/2-p.height})`),$.attr("transform",`translate(0,${b?p.height/2+v/2:-p.height/2-v/2})`),Ne(e,O),e.intersect=function(E){return se.info("iconSquare intersect",e,E),me.rect(e,E)},d}k(ck,"iconCircle");async function uk(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:s}=Se(e);e.labelStyle=s;const o=e.assetHeight??48,c=e.assetWidth??48,l=Math.max(o,c),h=i?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,halfPadding:m,label:x}=await Oe(t,e,"icon-shape default"),v=e.pos==="t",b=l+m*2,C=l+m*2,{nodeBorder:_,mainBkg:S}=r,{stylesMap:N}=ma(e),M=-C/2,P=-b/2,D=e.label?8:0,V=we.svg(d),z=_e(e,{});e.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");const q=N.get("fill");z.stroke=q??S;const te=V.path(Ei(M,P,C,b,5),z),Q=Math.max(C,p.width),F=b+p.height+D,ee=V.rectangle(-Q/2,-F/2,Q,F,{...z,fill:"transparent",stroke:"none"}),Z=d.insert(()=>te,":first-child").attr("class","icon-shape2"),U=d.insert(()=>ee);if(e.icon){const j=d.append("g");j.html(`<g>${await cl(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const $=j.node().getBBox(),O=$.width,E=$.height,L=$.x,H=$.y;j.attr("transform",`translate(${-O/2-L},${v?p.height/2+D/2-E/2-H:-p.height/2-D/2-E/2-H})`),j.attr("style",`color: ${N.get("stroke")??_};`)}return x.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-F/2:F/2-p.height})`),Z.attr("transform",`translate(0,${v?p.height/2+D/2:-p.height/2-D/2})`),Ne(e,U),e.intersect=function(j){if(se.info("iconSquare intersect",e,j),!e.label)return me.rect(e,j);const $=e.x??0,O=e.y??0,E=e.height??0;let L=[];return v?L=[{x:$-p.width/2,y:O-E/2},{x:$+p.width/2,y:O-E/2},{x:$+p.width/2,y:O-E/2+p.height+D},{x:$+C/2,y:O-E/2+p.height+D},{x:$+C/2,y:O+E/2},{x:$-C/2,y:O+E/2},{x:$-C/2,y:O-E/2+p.height+D},{x:$-p.width/2,y:O-E/2+p.height+D}]:L=[{x:$-C/2,y:O-E/2},{x:$+C/2,y:O-E/2},{x:$+C/2,y:O-E/2+b},{x:$+p.width/2,y:O-E/2+b},{x:$+p.width/2/2,y:O+E/2},{x:$-p.width/2,y:O+E/2},{x:$-p.width/2,y:O-E/2+b},{x:$-C/2,y:O-E/2+b}],me.polygon(e,L,j)},d}k(uk,"iconRounded");async function hk(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:s}=Se(e);e.labelStyle=s;const o=e.assetHeight??48,c=e.assetWidth??48,l=Math.max(o,c),h=i?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,halfPadding:m,label:x}=await Oe(t,e,"icon-shape default"),v=e.pos==="t",b=l+m*2,C=l+m*2,{nodeBorder:_,mainBkg:S}=r,{stylesMap:N}=ma(e),M=-C/2,P=-b/2,D=e.label?8:0,V=we.svg(d),z=_e(e,{});e.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");const q=N.get("fill");z.stroke=q??S;const te=V.path(Ei(M,P,C,b,.1),z),Q=Math.max(C,p.width),F=b+p.height+D,ee=V.rectangle(-Q/2,-F/2,Q,F,{...z,fill:"transparent",stroke:"none"}),Z=d.insert(()=>te,":first-child"),U=d.insert(()=>ee);if(e.icon){const j=d.append("g");j.html(`<g>${await cl(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const $=j.node().getBBox(),O=$.width,E=$.height,L=$.x,H=$.y;j.attr("transform",`translate(${-O/2-L},${v?p.height/2+D/2-E/2-H:-p.height/2-D/2-E/2-H})`),j.attr("style",`color: ${N.get("stroke")??_};`)}return x.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-F/2:F/2-p.height})`),Z.attr("transform",`translate(0,${v?p.height/2+D/2:-p.height/2-D/2})`),Ne(e,U),e.intersect=function(j){if(se.info("iconSquare intersect",e,j),!e.label)return me.rect(e,j);const $=e.x??0,O=e.y??0,E=e.height??0;let L=[];return v?L=[{x:$-p.width/2,y:O-E/2},{x:$+p.width/2,y:O-E/2},{x:$+p.width/2,y:O-E/2+p.height+D},{x:$+C/2,y:O-E/2+p.height+D},{x:$+C/2,y:O+E/2},{x:$-C/2,y:O+E/2},{x:$-C/2,y:O-E/2+p.height+D},{x:$-p.width/2,y:O-E/2+p.height+D}]:L=[{x:$-C/2,y:O-E/2},{x:$+C/2,y:O-E/2},{x:$+C/2,y:O-E/2+b},{x:$+p.width/2,y:O-E/2+b},{x:$+p.width/2/2,y:O+E/2},{x:$-p.width/2,y:O+E/2},{x:$-p.width/2,y:O-E/2+b},{x:$-C/2,y:O-E/2+b}],me.polygon(e,L,j)},d}k(hk,"iconSquare");async function dk(t,e,{config:{flowchart:r}}){const i=new Image;i.src=e?.img??"",await i.decode();const s=Number(i.naturalWidth.toString().replace("px","")),o=Number(i.naturalHeight.toString().replace("px",""));e.imageAspectRatio=s/o;const{labelStyles:c}=Se(e);e.labelStyle=c;const l=r?.wrappingWidth;e.defaultWidth=r?.wrappingWidth;const h=Math.max(e.label?l??0:0,e?.assetWidth??s),d=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:h,p=e.constraint==="on"?d/e.imageAspectRatio:e?.assetHeight??o;e.width=Math.max(d,l??0);const{shapeSvg:m,bbox:x,label:v}=await Oe(t,e,"image-shape default"),b=e.pos==="t",C=-d/2,_=-p/2,S=e.label?8:0,N=we.svg(m),M=_e(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const P=N.rectangle(C,_,d,p,M),D=Math.max(d,x.width),V=p+x.height+S,z=N.rectangle(-D/2,-V/2,D,V,{...M,fill:"none",stroke:"none"}),q=m.insert(()=>P,":first-child"),te=m.insert(()=>z);if(e.img){const Q=m.append("image");Q.attr("href",e.img),Q.attr("width",d),Q.attr("height",p),Q.attr("preserveAspectRatio","none"),Q.attr("transform",`translate(${-d/2},${b?V/2-p:-V/2})`)}return v.attr("transform",`translate(${-x.width/2-(x.x-(x.left??0))},${b?-p/2-x.height/2-S/2:p/2-x.height/2+S/2})`),q.attr("transform",`translate(0,${b?x.height/2+S/2:-x.height/2-S/2})`),Ne(e,te),e.intersect=function(Q){if(se.info("iconSquare intersect",e,Q),!e.label)return me.rect(e,Q);const F=e.x??0,ee=e.y??0,Z=e.height??0;let U=[];return b?U=[{x:F-x.width/2,y:ee-Z/2},{x:F+x.width/2,y:ee-Z/2},{x:F+x.width/2,y:ee-Z/2+x.height+S},{x:F+d/2,y:ee-Z/2+x.height+S},{x:F+d/2,y:ee+Z/2},{x:F-d/2,y:ee+Z/2},{x:F-d/2,y:ee-Z/2+x.height+S},{x:F-x.width/2,y:ee-Z/2+x.height+S}]:U=[{x:F-d/2,y:ee-Z/2},{x:F+d/2,y:ee-Z/2},{x:F+d/2,y:ee-Z/2+p},{x:F+x.width/2,y:ee-Z/2+p},{x:F+x.width/2/2,y:ee+Z/2},{x:F-x.width/2,y:ee+Z/2},{x:F-x.width/2,y:ee-Z/2+p},{x:F-d/2,y:ee-Z/2+p}],me.polygon(e,U,Q)},m}k(dk,"imageSquare");async function fk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=Math.max(o.width+(e.padding??0)*2,e?.width??0),l=Math.max(o.height+(e.padding??0)*2,e?.height??0),h=[{x:0,y:0},{x:c,y:0},{x:c+3*l/6,y:-l},{x:-3*l/6,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=we.svg(s),x=_e(e,{}),v=Ze(h),b=m.path(v,x);d=s.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${l/2})`),p&&d.attr("style",p)}else d=Li(s,c,l,h);return i&&d.attr("style",i),e.width=c,e.height=l,Ne(e,d),e.intersect=function(m){return me.polygon(e,h,m)},s}k(fk,"inv_trapezoid");async function lh(t,e,r){const{labelStyles:i,nodeStyles:s}=Se(e);e.labelStyle=i;const{shapeSvg:o,bbox:c}=await Oe(t,e,Fe(e)),l=Math.max(c.width+r.labelPaddingX*2,e?.width||0),h=Math.max(c.height+r.labelPaddingY*2,e?.height||0),d=-l/2,p=-h/2;let m,{rx:x,ry:v}=e;const{cssStyles:b}=e;if(r?.rx&&r.ry&&(x=r.rx,v=r.ry),e.look==="handDrawn"){const C=we.svg(o),_=_e(e,{}),S=x||v?C.path(Ei(d,p,l,h,x||0),_):C.rectangle(d,p,l,h,_);m=o.insert(()=>S,":first-child"),m.attr("class","basic label-container").attr("style",Kt(b))}else m=o.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",s).attr("rx",Kt(x)).attr("ry",Kt(v)).attr("x",d).attr("y",p).attr("width",l).attr("height",h);return Ne(e,m),e.calcIntersect=function(C,_){return me.rect(C,_)},e.intersect=function(C){return me.rect(e,C)},o}k(lh,"drawRect");async function pk(t,e){const{shapeSvg:r,bbox:i,label:s}=await Oe(t,e,"label"),o=r.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),s.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Ne(e,o),e.intersect=function(h){return me.rect(e,h)},r}k(pk,"labelRect");async function gk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=Math.max(o.width+(e.padding??0),e?.width??0),l=Math.max(o.height+(e.padding??0),e?.height??0),h=[{x:0,y:0},{x:c+3*l/6,y:0},{x:c,y:-l},{x:-(3*l)/6,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=we.svg(s),x=_e(e,{}),v=Ze(h),b=m.path(v,x);d=s.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${l/2})`),p&&d.attr("style",p)}else d=Li(s,c,l,h);return i&&d.attr("style",i),e.width=c,e.height=l,Ne(e,d),e.intersect=function(m){return me.polygon(e,h,m)},s}k(gk,"lean_left");async function mk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=Math.max(o.width+(e.padding??0),e?.width??0),l=Math.max(o.height+(e.padding??0),e?.height??0),h=[{x:-3*l/6,y:0},{x:c,y:0},{x:c+3*l/6,y:-l},{x:0,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=we.svg(s),x=_e(e,{}),v=Ze(h),b=m.path(v,x);d=s.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${l/2})`),p&&d.attr("style",p)}else d=Li(s,c,l,h);return i&&d.attr("style",i),e.width=c,e.height=l,Ne(e,d),e.intersect=function(m){return me.polygon(e,h,m)},s}k(mk,"lean_right");function xk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",Fe(e)).attr("id",e.domId??e.id),{cssStyles:o}=e,c=Math.max(35,e?.width??0),l=Math.max(35,e?.height??0),h=7,d=[{x:c,y:0},{x:0,y:l+h/2},{x:c-2*h,y:l+h/2},{x:0,y:2*l},{x:c,y:l-h/2},{x:2*h,y:l-h/2}],p=we.svg(s),m=_e(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=Ze(d),v=p.path(x,m),b=s.insert(()=>v,":first-child");return o&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(-${c/2},${-l})`),Ne(e,b),e.intersect=function(C){return se.info("lightningBolt intersect",e,C),me.polygon(e,d,C)},s}k(xk,"lightningBolt");var l6=k((t,e,r,i,s,o,c)=>[`M${t},${e+o}`,`a${s},${o} 0,0,0 ${r},0`,`a${s},${o} 0,0,0 ${-r},0`,`l0,${i}`,`a${s},${o} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+o+c}`,`a${s},${o} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),c6=k((t,e,r,i,s,o,c)=>[`M${t},${e+o}`,`M${t+r},${e+o}`,`a${s},${o} 0,0,0 ${-r},0`,`l0,${i}`,`a${s},${o} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+o+c}`,`a${s},${o} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),u6=k((t,e,r,i,s,o)=>[`M${t-r/2},${-i/2}`,`a${s},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function yk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0),e.width??0),h=l/2,d=h/(2.5+l/50),p=Math.max(o.height+d+(e.padding??0),e.height??0),m=p*.1;let x;const{cssStyles:v}=e;if(e.look==="handDrawn"){const b=we.svg(s),C=c6(0,0,l,p,h,d,m),_=u6(0,d,l,p,h,d),S=_e(e,{}),N=b.path(C,S),M=b.path(_,S);s.insert(()=>M,":first-child").attr("class","line"),x=s.insert(()=>N,":first-child"),x.attr("class","basic label-container"),v&&x.attr("style",v)}else{const b=l6(0,0,l,p,h,d,m);x=s.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",Kt(v)).attr("style",i)}return x.attr("label-offset-y",d),x.attr("transform",`translate(${-l/2}, ${-(p/2+d)})`),Ne(e,x),c.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+d-(o.y-(o.top??0))})`),e.intersect=function(b){const C=me.rect(e,b),_=C.x-(e.x??0);if(h!=0&&(Math.abs(_)<(e.width??0)/2||Math.abs(_)==(e.width??0)/2&&Math.abs(C.y-(e.y??0))>(e.height??0)/2-d)){let S=d*d*(1-_*_/(h*h));S>0&&(S=Math.sqrt(S)),S=d-S,b.y-(e.y??0)>0&&(S=-S),C.y+=S}return C},s}k(yk,"linedCylinder");async function vk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=h/4,p=h+d,{cssStyles:m}=e,x=we.svg(s),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-l/2-l/2*.1,y:-p/2},{x:-l/2-l/2*.1,y:p/2},...Ti(-l/2-l/2*.1,p/2,l/2+l/2*.1,p/2,d,.8),{x:l/2+l/2*.1,y:-p/2},{x:-l/2-l/2*.1,y:-p/2},{x:-l/2,y:-p/2},{x:-l/2,y:p/2*1.1},{x:-l/2,y:-p/2}],C=x.polygon(b.map(S=>[S.x,S.y]),v),_=s.insert(()=>C,":first-child");return _.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",m),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),_.attr("transform",`translate(0,${-d/2})`),c.attr("transform",`translate(${-l/2+(e.padding??0)+l/2*.1/2-(o.x-(o.left??0))},${-h/2+(e.padding??0)-d/2-(o.y-(o.top??0))})`),Ne(e,_),e.intersect=function(S){return me.polygon(e,b,S)},s}k(vk,"linedWaveEdgedRect");async function bk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=5,p=-l/2,m=-h/2,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{}),C=[{x:p-d,y:m+d},{x:p-d,y:m+h+d},{x:p+l-d,y:m+h+d},{x:p+l-d,y:m+h},{x:p+l,y:m+h},{x:p+l,y:m+h-d},{x:p+l+d,y:m+h-d},{x:p+l+d,y:m-d},{x:p+d,y:m-d},{x:p+d,y:m},{x:p,y:m},{x:p,y:m+d}],_=[{x:p,y:m+d},{x:p+l-d,y:m+d},{x:p+l-d,y:m+h},{x:p+l,y:m+h},{x:p+l,y:m},{x:p,y:m}];e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=Ze(C),N=v.path(S,b),M=Ze(_),P=v.path(M,{...b,fill:"none"}),D=s.insert(()=>P,":first-child");return D.insert(()=>N,":first-child"),D.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",x),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),c.attr("transform",`translate(${-(o.width/2)-d-(o.x-(o.left??0))}, ${-(o.height/2)+d-(o.y-(o.top??0))})`),Ne(e,D),e.intersect=function(V){return me.polygon(e,C,V)},s}k(bk,"multiRect");async function wk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=h/4,p=h+d,m=-l/2,x=-p/2,v=5,{cssStyles:b}=e,C=Ti(m-v,x+p+v,m+l-v,x+p+v,d,.8),_=C?.[C.length-1],S=[{x:m-v,y:x+v},{x:m-v,y:x+p+v},...C,{x:m+l-v,y:_.y-v},{x:m+l,y:_.y-v},{x:m+l,y:_.y-2*v},{x:m+l+v,y:_.y-2*v},{x:m+l+v,y:x-v},{x:m+v,y:x-v},{x:m+v,y:x},{x:m,y:x},{x:m,y:x+v}],N=[{x:m,y:x+v},{x:m+l-v,y:x+v},{x:m+l-v,y:_.y-v},{x:m+l,y:_.y-v},{x:m+l,y:x},{x:m,y:x}],M=we.svg(s),P=_e(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const D=Ze(S),V=M.path(D,P),z=Ze(N),q=M.path(z,P),te=s.insert(()=>V,":first-child");return te.insert(()=>q),te.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&te.selectAll("path").attr("style",b),i&&e.look!=="handDrawn"&&te.selectAll("path").attr("style",i),te.attr("transform",`translate(0,${-d/2})`),c.attr("transform",`translate(${-(o.width/2)-v-(o.x-(o.left??0))}, ${-(o.height/2)+v-d/2-(o.y-(o.top??0))})`),Ne(e,te),e.intersect=function(Q){return me.polygon(e,S,Q)},s}k(wk,"multiWaveEdgedRectangle");async function kk(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:s}=Se(e);e.labelStyle=i,e.useHtmlLabels||Xt().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:c,bbox:l,label:h}=await Oe(t,e,Fe(e)),d=Math.max(l.width+(e.padding??0)*2,e?.width??0),p=Math.max(l.height+(e.padding??0)*2,e?.height??0),m=-d/2,x=-p/2,{cssStyles:v}=e,b=we.svg(c),C=_e(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const _=b.rectangle(m,x,d,p,C),S=c.insert(()=>_,":first-child");return S.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",v),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),h.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Ne(e,S),e.intersect=function(N){return me.rect(e,N)},c}k(kk,"note");var h6=k((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Ck(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.width+e.padding,l=o.height+e.padding,h=c+l,d=.5,p=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let m;const{cssStyles:x}=e;if(e.look==="handDrawn"){const v=we.svg(s),b=_e(e,{}),C=h6(0,0,h),_=v.path(C,b);m=s.insert(()=>_,":first-child").attr("transform",`translate(${-h/2+d}, ${h/2})`),x&&m.attr("style",x)}else m=Li(s,h,h,p),m.attr("transform",`translate(${-h/2+d}, ${h/2})`);return i&&m.attr("style",i),Ne(e,m),e.calcIntersect=function(v,b){const C=v.width,_=[{x:C/2,y:0},{x:C,y:-C/2},{x:C/2,y:-C},{x:0,y:-C/2}],S=me.polygon(v,_,b);return{x:S.x-.5,y:S.y-.5}},e.intersect=function(v){return this.calcIntersect(e,v)},s}k(Ck,"question");async function _k(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0),e?.width??0),h=Math.max(o.height+(e.padding??0),e?.height??0),d=-l/2,p=-h/2,m=p/2,x=[{x:d+m,y:p},{x:d,y:0},{x:d+m,y:-p},{x:-d,y:-p},{x:-d,y:p}],{cssStyles:v}=e,b=we.svg(s),C=_e(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const _=Ze(x),S=b.path(_,C),N=s.insert(()=>S,":first-child");return N.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",v),i&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",i),N.attr("transform",`translate(${-m/2},0)`),c.attr("transform",`translate(${-m/2-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ne(e,N),e.intersect=function(M){return me.polygon(e,x,M)},s}k(_k,"rect_left_inv_arrow");async function Sk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;let s;e.cssClasses?s="node "+e.cssClasses:s="node default";const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),c=o.insert("g"),l=o.insert("g").attr("class","label").attr("style",i),h=e.description,d=e.label,p=l.node().appendChild(await ss(d,e.labelStyle,!0,!0));let m={width:0,height:0};if(Bt(rt()?.flowchart?.htmlLabels)){const q=p.children[0],te=$e(p);m=q.getBoundingClientRect(),te.attr("width",m.width),te.attr("height",m.height)}se.info("Text 2",h);const x=h||[],v=p.getBBox(),b=l.node().appendChild(await ss(x.join?x.join("<br/>"):x,e.labelStyle,!0,!0)),C=b.children[0],_=$e(b);m=C.getBoundingClientRect(),_.attr("width",m.width),_.attr("height",m.height);const S=(e.padding||0)/2;$e(b).attr("transform","translate( "+(m.width>v.width?0:(v.width-m.width)/2)+", "+(v.height+S+5)+")"),$e(p).attr("transform","translate( "+(m.width<v.width?0:-(v.width-m.width)/2)+", 0)"),m=l.node().getBBox(),l.attr("transform","translate("+-m.width/2+", "+(-m.height/2-S+3)+")");const N=m.width+(e.padding||0),M=m.height+(e.padding||0),P=-m.width/2-S,D=-m.height/2-S;let V,z;if(e.look==="handDrawn"){const q=we.svg(o),te=_e(e,{}),Q=q.path(Ei(P,D,N,M,e.rx||0),te),F=q.line(-m.width/2-S,-m.height/2-S+v.height+S,m.width/2+S,-m.height/2-S+v.height+S,te);z=o.insert(()=>(se.debug("Rough node insert CXC",Q),F),":first-child"),V=o.insert(()=>(se.debug("Rough node insert CXC",Q),Q),":first-child")}else V=c.insert("rect",":first-child"),z=c.insert("line"),V.attr("class","outer title-state").attr("style",i).attr("x",-m.width/2-S).attr("y",-m.height/2-S).attr("width",m.width+(e.padding||0)).attr("height",m.height+(e.padding||0)),z.attr("class","divider").attr("x1",-m.width/2-S).attr("x2",m.width/2+S).attr("y1",-m.height/2-S+v.height+S).attr("y2",-m.height/2-S+v.height+S);return Ne(e,V),e.intersect=function(q){return me.rect(e,q)},o}k(Sk,"rectWithTitle");function Eo(t,e,r,i,s,o,c){const h=(t+r)/2,d=(e+i)/2,p=Math.atan2(i-e,r-t),m=(r-t)/2,x=(i-e)/2,v=m/s,b=x/o,C=Math.sqrt(v**2+b**2);if(C>1)throw new Error("The given radii are too small to create an arc between the points.");const _=Math.sqrt(1-C**2),S=h+_*o*Math.sin(p)*(c?-1:1),N=d-_*s*Math.cos(p)*(c?-1:1),M=Math.atan2((e-N)/o,(t-S)/s);let D=Math.atan2((i-N)/o,(r-S)/s)-M;c&&D<0&&(D+=2*Math.PI),!c&&D>0&&(D-=2*Math.PI);const V=[];for(let z=0;z<20;z++){const q=z/19,te=M+q*D,Q=S+s*Math.cos(te),F=N+o*Math.sin(te);V.push({x:Q,y:F})}return V}k(Eo,"generateArcPoints");async function Tk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=e?.padding??0,l=e?.padding??0,h=(e?.width?e?.width:o.width)+c*2,d=(e?.height?e?.height:o.height)+l*2,p=e.radius||5,m=e.taper||5,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{});e.stroke&&(b.stroke=e.stroke),e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:-h/2+m,y:-d/2},{x:h/2-m,y:-d/2},...Eo(h/2-m,-d/2,h/2,-d/2+m,p,p,!0),{x:h/2,y:-d/2+m},{x:h/2,y:d/2-m},...Eo(h/2,d/2-m,h/2-m,d/2,p,p,!0),{x:h/2-m,y:d/2},{x:-h/2+m,y:d/2},...Eo(-h/2+m,d/2,-h/2,d/2-m,p,p,!0),{x:-h/2,y:d/2-m},{x:-h/2,y:-d/2+m},...Eo(-h/2,-d/2+m,-h/2+m,-d/2,p,p,!0)],_=Ze(C),S=v.path(_,b),N=s.insert(()=>S,":first-child");return N.attr("class","basic label-container outer-path"),x&&e.look!=="handDrawn"&&N.selectChildren("path").attr("style",x),i&&e.look!=="handDrawn"&&N.selectChildren("path").attr("style",i),Ne(e,N),e.intersect=function(M){return me.polygon(e,C,M)},s}k(Tk,"roundedRect");async function Nk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=e?.padding??0,h=Math.max(o.width+(e.padding??0)*2,e?.width??0),d=Math.max(o.height+(e.padding??0)*2,e?.height??0),p=-o.width/2-l,m=-o.height/2-l,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:p,y:m},{x:p+h+8,y:m},{x:p+h+8,y:m+d},{x:p-8,y:m+d},{x:p-8,y:m},{x:p,y:m},{x:p,y:m+d}],_=v.polygon(C.map(N=>[N.x,N.y]),b),S=s.insert(()=>_,":first-child");return S.attr("class","basic label-container").attr("style",Kt(x)),i&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",i),x&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",i),c.attr("transform",`translate(${-h/2+4+(e.padding??0)-(o.x-(o.left??0))},${-d/2+(e.padding??0)-(o.y-(o.top??0))})`),Ne(e,S),e.intersect=function(N){return me.rect(e,N)},s}k(Nk,"shadedProcess");async function Ak(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=-l/2,p=-h/2,{cssStyles:m}=e,x=we.svg(s),v=_e(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:d,y:p},{x:d,y:p+h},{x:d+l,y:p+h},{x:d+l,y:p-h/2}],C=Ze(b),_=x.path(C,v),S=s.insert(()=>_,":first-child");return S.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",m),i&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),S.attr("transform",`translate(0, ${h/4})`),c.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))}, ${-h/4+(e.padding??0)-(o.y-(o.top??0))})`),Ne(e,S),e.intersect=function(N){return me.polygon(e,b,N)},s}k(Ak,"slopedRect");async function Ek(t,e){const r={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return lh(t,e,r)}k(Ek,"squareRect");async function Lk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.height+e.padding,l=o.width+c/4+e.padding,h=c/2,{cssStyles:d}=e,p=we.svg(s),m=_e(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=[{x:-l/2+h,y:-c/2},{x:l/2-h,y:-c/2},...Zo(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},...Zo(l/2-h,0,h,50,270,450)],v=Ze(x),b=p.path(v,m),C=s.insert(()=>b,":first-child");return C.attr("class","basic label-container outer-path"),d&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",d),i&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",i),Ne(e,C),e.intersect=function(_){return me.polygon(e,x,_)},s}k(Lk,"stadium");async function Mk(t,e){return lh(t,e,{rx:5,ry:5})}k(Mk,"state");function jk(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:s}=Se(e);e.labelStyle=i;const{cssStyles:o}=e,{lineColor:c,stateBorder:l,nodeBorder:h}=r,d=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),p=we.svg(d),m=_e(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=p.circle(0,0,14,{...m,stroke:c,strokeWidth:2}),v=l??h,b=p.circle(0,0,5,{...m,fill:v,stroke:v,strokeWidth:2,fillStyle:"solid"}),C=d.insert(()=>x,":first-child");return C.insert(()=>b),o&&C.selectAll("path").attr("style",o),s&&C.selectAll("path").attr("style",s),Ne(e,C),e.intersect=function(_){return me.circle(e,7,_)},d}k(jk,"stateEnd");function Bk(t,e,{config:{themeVariables:r}}){const{lineColor:i}=r,s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let o;if(e.look==="handDrawn"){const l=we.svg(s).circle(0,0,14,TL(i));o=s.insert(()=>l),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else o=s.insert("circle",":first-child"),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Ne(e,o),e.intersect=function(c){return me.circle(e,7,c)},s}k(Bk,"stateStart");async function Dk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=(e?.padding||0)/2,l=o.width+e.padding,h=o.height+e.padding,d=-o.width/2-c,p=-o.height/2-c,m=[{x:0,y:0},{x:l,y:0},{x:l,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(e.look==="handDrawn"){const x=we.svg(s),v=_e(e,{}),b=x.rectangle(d-8,p,l+16,h,v),C=x.line(d,p,d,p+h,v),_=x.line(d+l,p,d+l,p+h,v);s.insert(()=>C,":first-child"),s.insert(()=>_,":first-child");const S=s.insert(()=>b,":first-child"),{cssStyles:N}=e;S.attr("class","basic label-container").attr("style",Kt(N)),Ne(e,S)}else{const x=Li(s,l,h,m);i&&x.attr("style",i),Ne(e,x)}return e.intersect=function(x){return me.polygon(e,m,x)},s}k(Dk,"subroutine");async function $k(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=Math.max(o.width+(e.padding??0)*2,e?.width??0),l=Math.max(o.height+(e.padding??0)*2,e?.height??0),h=-c/2,d=-l/2,p=.2*l,m=.2*l,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{}),C=[{x:h-p/2,y:d},{x:h+c+p/2,y:d},{x:h+c+p/2,y:d+l},{x:h-p/2,y:d+l}],_=[{x:h+c-p/2,y:d+l},{x:h+c+p/2,y:d+l},{x:h+c+p/2,y:d+l-m}];e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=Ze(C),N=v.path(S,b),M=Ze(_),P=v.path(M,{...b,fillStyle:"solid"}),D=s.insert(()=>P,":first-child");return D.insert(()=>N,":first-child"),D.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",x),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),Ne(e,D),e.intersect=function(V){return me.polygon(e,C,V)},s}k($k,"taggedRect");async function Fk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=h/4,p=.2*l,m=.2*h,x=h+d,{cssStyles:v}=e,b=we.svg(s),C=_e(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const _=[{x:-l/2-l/2*.1,y:x/2},...Ti(-l/2-l/2*.1,x/2,l/2+l/2*.1,x/2,d,.8),{x:l/2+l/2*.1,y:-x/2},{x:-l/2-l/2*.1,y:-x/2}],S=-l/2+l/2*.1,N=-x/2-m*.4,M=[{x:S+l-p,y:(N+h)*1.4},{x:S+l,y:N+h-m},{x:S+l,y:(N+h)*.9},...Ti(S+l,(N+h)*1.3,S+l-p,(N+h)*1.5,-h*.03,.5)],P=Ze(_),D=b.path(P,C),V=Ze(M),z=b.path(V,{...C,fillStyle:"solid"}),q=s.insert(()=>z,":first-child");return q.insert(()=>D,":first-child"),q.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",v),i&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",i),q.attr("transform",`translate(0,${-d/2})`),c.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))},${-h/2+(e.padding??0)-d/2-(o.y-(o.top??0))})`),Ne(e,q),e.intersect=function(te){return me.polygon(e,_,te)},s}k(Fk,"taggedWaveEdgedRectangle");async function Pk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=Math.max(o.width+e.padding,e?.width||0),l=Math.max(o.height+e.padding,e?.height||0),h=-c/2,d=-l/2,p=s.insert("rect",":first-child");return p.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",h).attr("y",d).attr("width",c).attr("height",l),Ne(e,p),e.intersect=function(m){return me.rect(e,m)},s}k(Pk,"text");var d6=k((t,e,r,i,s,o)=>`M${t},${e}
    a${s},${o} 0,0,1 0,${-i}
    l${r},0
    a${s},${o} 0,0,1 0,${i}
    M${r},${-i}
    a${s},${o} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),f6=k((t,e,r,i,s,o)=>[`M${t},${e}`,`M${t+r},${e}`,`a${s},${o} 0,0,0 0,${-i}`,`l${-r},0`,`a${s},${o} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),p6=k((t,e,r,i,s,o)=>[`M${t+r/2},${-i/2}`,`a${s},${o} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function Rk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c,halfPadding:l}=await Oe(t,e,Fe(e)),h=e.look==="neo"?l*2:l,d=o.height+h,p=d/2,m=p/(2.5+d/50),x=o.width+m+h,{cssStyles:v}=e;let b;if(e.look==="handDrawn"){const C=we.svg(s),_=f6(0,0,x,d,m,p),S=p6(0,0,x,d,m,p),N=C.path(_,_e(e,{})),M=C.path(S,_e(e,{fill:"none"}));b=s.insert(()=>M,":first-child"),b=s.insert(()=>N,":first-child"),b.attr("class","basic label-container"),v&&b.attr("style",v)}else{const C=d6(0,0,x,d,m,p);b=s.insert("path",":first-child").attr("d",C).attr("class","basic label-container").attr("style",Kt(v)).attr("style",i),b.attr("class","basic label-container"),v&&b.selectAll("path").attr("style",v),i&&b.selectAll("path").attr("style",i)}return b.attr("label-offset-x",m),b.attr("transform",`translate(${-x/2}, ${d/2} )`),c.attr("transform",`translate(${-(o.width/2)-m-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ne(e,b),e.intersect=function(C){const _=me.rect(e,C),S=_.y-(e.y??0);if(p!=0&&(Math.abs(S)<(e.height??0)/2||Math.abs(S)==(e.height??0)/2&&Math.abs(_.x-(e.x??0))>(e.width??0)/2-m)){let N=m*m*(1-S*S/(p*p));N!=0&&(N=Math.sqrt(Math.abs(N))),N=m-N,C.x-(e.x??0)>0&&(N=-N),_.x+=N}return _},s}k(Rk,"tiltedCylinder");async function Ok(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=o.width+e.padding,l=o.height+e.padding,h=[{x:-3*l/6,y:0},{x:c+3*l/6,y:0},{x:c,y:-l},{x:0,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=we.svg(s),x=_e(e,{}),v=Ze(h),b=m.path(v,x);d=s.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${l/2})`),p&&d.attr("style",p)}else d=Li(s,c,l,h);return i&&d.attr("style",i),e.width=c,e.height=l,Ne(e,d),e.intersect=function(m){return me.polygon(e,h,m)},s}k(Ok,"trapezoid");async function Ik(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=60,l=20,h=Math.max(c,o.width+(e.padding??0)*2,e?.width??0),d=Math.max(l,o.height+(e.padding??0)*2,e?.height??0),{cssStyles:p}=e,m=we.svg(s),x=_e(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-h/2*.8,y:-d/2},{x:h/2*.8,y:-d/2},{x:h/2,y:-d/2*.6},{x:h/2,y:d/2},{x:-h/2,y:d/2},{x:-h/2,y:-d/2*.6}],b=Ze(v),C=m.path(b,x),_=s.insert(()=>C,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),i&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",i),Ne(e,_),e.intersect=function(S){return me.polygon(e,v,S)},s}k(Ik,"trapezoidalPentagon");async function zk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Bt(rt().flowchart?.htmlLabels),h=o.width+(e.padding??0),d=h+o.height,p=h+o.height,m=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-d}],{cssStyles:x}=e,v=we.svg(s),b=_e(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=Ze(m),_=v.path(C,b),S=s.insert(()=>_,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return x&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",x),i&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),e.width=h,e.height=d,Ne(e,S),c.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${d/2-(o.height+(e.padding??0)/(l?2:1)-(o.y-(o.top??0)))})`),e.intersect=function(N){return se.info("Triangle intersect",e,m,N),me.polygon(e,m,N)},s}k(zk,"triangle");async function Wk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=h/8,p=h+d,{cssStyles:m}=e,v=70-l,b=v>0?v/2:0,C=we.svg(s),_=_e(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:-l/2-b,y:p/2},...Ti(-l/2-b,p/2,l/2+b,p/2,d,.8),{x:l/2+b,y:-p/2},{x:-l/2-b,y:-p/2}],N=Ze(S),M=C.path(N,_),P=s.insert(()=>M,":first-child");return P.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",m),i&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(0,${-d/2})`),c.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))},${-h/2+(e.padding??0)-d-(o.y-(o.top??0))})`),Ne(e,P),e.intersect=function(D){return me.polygon(e,S,D)},s}k(Wk,"waveEdgedRectangle");async function Hk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Oe(t,e,Fe(e)),c=100,l=50,h=Math.max(o.width+(e.padding??0)*2,e?.width??0),d=Math.max(o.height+(e.padding??0)*2,e?.height??0),p=h/d;let m=h,x=d;m>x*p?x=m/p:m=x*p,m=Math.max(m,c),x=Math.max(x,l);const v=Math.min(x*.2,x/4),b=x+v*2,{cssStyles:C}=e,_=we.svg(s),S=_e(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const N=[{x:-m/2,y:b/2},...Ti(-m/2,b/2,m/2,b/2,v,1),{x:m/2,y:-b/2},...Ti(m/2,-b/2,-m/2,-b/2,v,-1)],M=Ze(N),P=_.path(M,S),D=s.insert(()=>P,":first-child");return D.attr("class","basic label-container"),C&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",C),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),Ne(e,D),e.intersect=function(V){return me.polygon(e,N,V)},s}k(Hk,"waveRectangle");async function qk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,label:c}=await Oe(t,e,Fe(e)),l=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),d=5,p=-l/2,m=-h/2,{cssStyles:x}=e,v=we.svg(s),b=_e(e,{}),C=[{x:p-d,y:m-d},{x:p-d,y:m+h},{x:p+l,y:m+h},{x:p+l,y:m-d}],_=`M${p-d},${m-d} L${p+l},${m-d} L${p+l},${m+h} L${p-d},${m+h} L${p-d},${m-d}
                M${p-d},${m} L${p+l},${m}
                M${p},${m-d} L${p},${m+h}`;e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=v.path(_,b),N=s.insert(()=>S,":first-child");return N.attr("transform",`translate(${d/2}, ${d/2})`),N.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",x),i&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",i),c.attr("transform",`translate(${-(o.width/2)+d/2-(o.x-(o.left??0))}, ${-(o.height/2)+d/2-(o.y-(o.top??0))})`),Ne(e,N),e.intersect=function(M){return me.polygon(e,C,M)},s}k(qk,"windowPane");async function jg(t,e){const r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){const{themeVariables:G}=Xt(),{background:ie}=G,pe={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${ie}`]};await jg(t,pe)}const i=Xt();e.useHtmlLabels=i.htmlLabels;let s=i.er?.diagramPadding??10,o=i.er?.entityPadding??6;const{cssStyles:c}=e,{labelStyles:l,nodeStyles:h}=Se(e);if(r.attributes.length===0&&e.label){const G={rx:0,ry:0,labelPaddingX:s,labelPaddingY:s*1.5};Yn(e.label,i)+G.labelPaddingX*2<i.er.minEntityWidth&&(e.width=i.er.minEntityWidth);const ie=await lh(t,e,G);if(!Bt(i.htmlLabels)){const pe=ie.select("text"),de=pe.node()?.getBBox();pe.attr("transform",`translate(${-de.width/2}, 0)`)}return ie}i.htmlLabels||(s*=1.25,o*=1.25);let d=Fe(e);d||(d="node default");const p=t.insert("g").attr("class",d).attr("id",e.domId||e.id),m=await Vs(p,e.label??"",i,0,0,["name"],l);m.height+=o;let x=0;const v=[],b=[];let C=0,_=0,S=0,N=0,M=!0,P=!0;for(const G of r.attributes){const ie=await Vs(p,G.type,i,0,x,["attribute-type"],l);C=Math.max(C,ie.width+s);const pe=await Vs(p,G.name,i,0,x,["attribute-name"],l);_=Math.max(_,pe.width+s);const de=await Vs(p,G.keys.join(),i,0,x,["attribute-keys"],l);S=Math.max(S,de.width+s);const Ae=await Vs(p,G.comment,i,0,x,["attribute-comment"],l);N=Math.max(N,Ae.width+s);const Be=Math.max(ie.height,pe.height,de.height,Ae.height)+o;b.push({yOffset:x,rowHeight:Be}),x+=Be}let D=4;S<=s&&(M=!1,S=0,D--),N<=s&&(P=!1,N=0,D--);const V=p.node().getBBox();if(m.width+s*2-(C+_+S+N)>0){const G=m.width+s*2-(C+_+S+N);C+=G/D,_+=G/D,S>0&&(S+=G/D),N>0&&(N+=G/D)}const z=C+_+S+N,q=we.svg(p),te=_e(e,{});e.look!=="handDrawn"&&(te.roughness=0,te.fillStyle="solid");let Q=0;b.length>0&&(Q=b.reduce((G,ie)=>G+(ie?.rowHeight??0),0));const F=Math.max(V.width+s*2,e?.width||0,z),ee=Math.max((Q??0)+m.height,e?.height||0),Z=-F/2,U=-ee/2;p.selectAll("g:not(:first-child)").each((G,ie,pe)=>{const de=$e(pe[ie]),Ae=de.attr("transform");let Be=0,ze=0;if(Ae){const Ge=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ae);Ge&&(Be=parseFloat(Ge[1]),ze=parseFloat(Ge[2]),de.attr("class").includes("attribute-name")?Be+=C:de.attr("class").includes("attribute-keys")?Be+=C+_:de.attr("class").includes("attribute-comment")&&(Be+=C+_+S))}de.attr("transform",`translate(${Z+s/2+Be}, ${ze+U+m.height+o/2})`)}),p.select(".name").attr("transform","translate("+-m.width/2+", "+(U+o/2)+")");const j=q.rectangle(Z,U,F,ee,te),$=p.insert(()=>j,":first-child").attr("style",c.join("")),{themeVariables:O}=Xt(),{rowEven:E,rowOdd:L,nodeBorder:H}=O;v.push(0);for(const[G,ie]of b.entries()){const de=(G+1)%2===0&&ie.yOffset!==0,Ae=q.rectangle(Z,m.height+U+ie?.yOffset,F,ie?.rowHeight,{...te,fill:de?E:L,stroke:H});p.insert(()=>Ae,"g.label").attr("style",c.join("")).attr("class",`row-rect-${de?"even":"odd"}`)}let A=q.line(Z,m.height+U,F+Z,m.height+U,te);p.insert(()=>A).attr("class","divider"),A=q.line(C+Z,m.height+U,C+Z,ee+U,te),p.insert(()=>A).attr("class","divider"),M&&(A=q.line(C+_+Z,m.height+U,C+_+Z,ee+U,te),p.insert(()=>A).attr("class","divider")),P&&(A=q.line(C+_+S+Z,m.height+U,C+_+S+Z,ee+U,te),p.insert(()=>A).attr("class","divider"));for(const G of v)A=q.line(Z,m.height+U+G,F+Z,m.height+U+G,te),p.insert(()=>A).attr("class","divider");if(Ne(e,$),h&&e.look!=="handDrawn"){const ie=h.split(";")?.filter(pe=>pe.includes("stroke"))?.map(pe=>`${pe}`).join("; ");p.selectAll("path").attr("style",ie??""),p.selectAll(".row-rect-even path").attr("style",h)}return e.intersect=function(G){return me.rect(e,G)},p}k(jg,"erBox");async function Vs(t,e,r,i=0,s=0,o=[],c=""){const l=t.insert("g").attr("class",`label ${o.join(" ")}`).attr("transform",`translate(${i}, ${s})`).attr("style",c);e!==hy(e)&&(e=hy(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const h=l.node().appendChild(await Ai(l,e,{width:Yn(e,r)+100,style:c,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let p=h.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let d=h.getBBox();if(Bt(r.htmlLabels)){const p=h.children[0];p.style.textAlign="start";const m=$e(h);d=p.getBoundingClientRect(),m.attr("width",d.width),m.attr("height",d.height)}return d}k(Vs,"addText");async function Uk(t,e,r,i,s=r.class.padding??12){const o=i?0:3,c=t.insert("g").attr("class",Fe(e)).attr("id",e.domId||e.id);let l=null,h=null,d=null,p=null,m=0,x=0,v=0;if(l=c.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const N=e.annotations[0];await Lo(l,{text:`${N}`},0),m=l.node().getBBox().height}h=c.insert("g").attr("class","label-group text"),await Lo(h,e,0,["font-weight: bolder"]);const b=h.node().getBBox();x=b.height,d=c.insert("g").attr("class","members-group text");let C=0;for(const N of e.members){const M=await Lo(d,N,C,[N.parseClassifier()]);C+=M+o}v=d.node().getBBox().height,v<=0&&(v=s/2),p=c.insert("g").attr("class","methods-group text");let _=0;for(const N of e.methods){const M=await Lo(p,N,_,[N.parseClassifier()]);_+=M+o}let S=c.node().getBBox();if(l!==null){const N=l.node().getBBox();l.attr("transform",`translate(${-N.width/2})`)}return h.attr("transform",`translate(${-b.width/2}, ${m})`),S=c.node().getBBox(),d.attr("transform",`translate(0, ${m+x+s*2})`),S=c.node().getBBox(),p.attr("transform",`translate(0, ${m+x+(v?v+s*4:s*2)})`),S=c.node().getBBox(),{shapeSvg:c,bbox:S}}k(Uk,"textHelper");async function Lo(t,e,r,i=[]){const s=t.insert("g").attr("class","label").attr("style",i.join("; ")),o=Xt();let c="useHtmlLabels"in e?e.useHtmlLabels:Bt(o.htmlLabels)??!0,l="";"text"in e?l=e.text:l=e.label,!c&&l.startsWith("\\")&&(l=l.substring(1)),ua(l)&&(c=!0);const h=await Ai(s,eg(ys(l)),{width:Yn(l,o)+50,classes:"markdown-node-label",useHtmlLabels:c},o);let d,p=1;if(c){const m=h.children[0],x=$e(h);p=m.innerHTML.split("<br>").length,m.innerHTML.includes("</math>")&&(p+=m.innerHTML.split("<mrow>").length-1);const v=m.getElementsByTagName("img");if(v){const b=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...v].map(C=>new Promise(_=>{function S(){if(C.style.display="flex",C.style.flexDirection="column",b){const N=o.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,P=parseInt(N,10)*5+"px";C.style.minWidth=P,C.style.maxWidth=P}else C.style.width="100%";_(C)}k(S,"setupImage"),setTimeout(()=>{C.complete&&S()}),C.addEventListener("error",S),C.addEventListener("load",S)})))}d=m.getBoundingClientRect(),x.attr("width",d.width),x.attr("height",d.height)}else{i.includes("font-weight: bolder")&&$e(h).selectAll("tspan").attr("font-weight",""),p=h.children.length;const m=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(m.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(m.textContent=m.textContent[0]+" "+m.textContent.substring(1))),m.textContent==="undefined"&&(m.textContent=""),d=h.getBBox()}return s.attr("transform","translate(0,"+(-d.height/(2*p)+r)+")"),d.height}k(Lo,"addText");async function Yk(t,e){const r=rt(),i=r.class.padding??12,s=i,o=e.useHtmlLabels??Bt(r.htmlLabels)??!0,c=e;c.annotations=c.annotations??[],c.members=c.members??[],c.methods=c.methods??[];const{shapeSvg:l,bbox:h}=await Uk(t,e,r,o,s),{labelStyles:d,nodeStyles:p}=Se(e);e.labelStyle=d,e.cssStyles=c.styles||"";const m=c.styles?.join(";")||p||"";e.cssStyles||(e.cssStyles=m.replaceAll("!important","").split(";"));const x=c.members.length===0&&c.methods.length===0&&!r.class?.hideEmptyMembersBox,v=we.svg(l),b=_e(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=h.width;let _=h.height;c.members.length===0&&c.methods.length===0?_+=s:c.members.length>0&&c.methods.length===0&&(_+=s*2);const S=-C/2,N=-_/2,M=v.rectangle(S-i,N-i-(x?i:c.members.length===0&&c.methods.length===0?-i/2:0),C+2*i,_+2*i+(x?i*2:c.members.length===0&&c.methods.length===0?-i:0),b),P=l.insert(()=>M,":first-child");P.attr("class","basic label-container");const D=P.node().getBBox();l.selectAll(".text").each((te,Q,F)=>{const ee=$e(F[Q]),Z=ee.attr("transform");let U=0;if(Z){const E=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Z);E&&(U=parseFloat(E[2]))}let j=U+N+i-(x?i:c.members.length===0&&c.methods.length===0?-i/2:0);o||(j-=4);let $=S;(ee.attr("class").includes("label-group")||ee.attr("class").includes("annotation-group"))&&($=-ee.node()?.getBBox().width/2||0,l.selectAll("text").each(function(O,E,L){window.getComputedStyle(L[E]).textAnchor==="middle"&&($=0)})),ee.attr("transform",`translate(${$}, ${j})`)});const V=l.select(".annotation-group").node().getBBox().height-(x?i/2:0)||0,z=l.select(".label-group").node().getBBox().height-(x?i/2:0)||0,q=l.select(".members-group").node().getBBox().height-(x?i/2:0)||0;if(c.members.length>0||c.methods.length>0||x){const te=v.line(D.x,V+z+N+i,D.x+D.width,V+z+N+i,b);l.insert(()=>te).attr("class","divider").attr("style",m)}if(x||c.members.length>0||c.methods.length>0){const te=v.line(D.x,V+z+q+N+s*2+i,D.x+D.width,V+z+q+N+i+s*2,b);l.insert(()=>te).attr("class","divider").attr("style",m)}if(c.look!=="handDrawn"&&l.selectAll("path").attr("style",m),P.select(":nth-child(2)").attr("style",m),l.selectAll(".divider").select("path").attr("style",m),e.labelStyle?l.selectAll("span").attr("style",e.labelStyle):l.selectAll("span").attr("style",m),!o){const te=RegExp(/color\s*:\s*([^;]*)/),Q=te.exec(m);if(Q){const F=Q[0].replace("color","fill");l.selectAll("tspan").attr("style",F)}else if(d){const F=te.exec(d);if(F){const ee=F[0].replace("color","fill");l.selectAll("tspan").attr("style",ee)}}}return Ne(e,P),e.intersect=function(te){return me.rect(e,te)},l}k(Yk,"classBox");async function Vk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const s=e,o=e,c=20,l=20,h="verifyMethod"in e,d=Fe(e),p=t.insert("g").attr("class",d).attr("id",e.domId??e.id);let m;h?m=await vn(p,`&lt;&lt;${s.type}&gt;&gt;`,0,e.labelStyle):m=await vn(p,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let x=m;const v=await vn(p,s.name,x,e.labelStyle+"; font-weight: bold;");if(x+=v+l,h){const V=await vn(p,`${s.requirementId?`ID: ${s.requirementId}`:""}`,x,e.labelStyle);x+=V;const z=await vn(p,`${s.text?`Text: ${s.text}`:""}`,x,e.labelStyle);x+=z;const q=await vn(p,`${s.risk?`Risk: ${s.risk}`:""}`,x,e.labelStyle);x+=q,await vn(p,`${s.verifyMethod?`Verification: ${s.verifyMethod}`:""}`,x,e.labelStyle)}else{const V=await vn(p,`${o.type?`Type: ${o.type}`:""}`,x,e.labelStyle);x+=V,await vn(p,`${o.docRef?`Doc Ref: ${o.docRef}`:""}`,x,e.labelStyle)}const b=(p.node()?.getBBox().width??200)+c,C=(p.node()?.getBBox().height??200)+c,_=-b/2,S=-C/2,N=we.svg(p),M=_e(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const P=N.rectangle(_,S,b,C,M),D=p.insert(()=>P,":first-child");if(D.attr("class","basic label-container").attr("style",i),p.selectAll(".label").each((V,z,q)=>{const te=$e(q[z]),Q=te.attr("transform");let F=0,ee=0;if(Q){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Q);$&&(F=parseFloat($[1]),ee=parseFloat($[2]))}const Z=ee-C/2;let U=_+c/2;(z===0||z===1)&&(U=F),te.attr("transform",`translate(${U}, ${Z+c})`)}),x>m+v+l){const V=N.line(_,S+m+v+l,_+b,S+m+v+l,M);p.insert(()=>V).attr("style",i)}return Ne(e,D),e.intersect=function(V){return me.rect(e,V)},p}k(Vk,"requirementBox");async function vn(t,e,r,i=""){if(e==="")return 0;const s=t.insert("g").attr("class","label").attr("style",i),o=rt(),c=o.htmlLabels??!0,l=await Ai(s,eg(ys(e)),{width:Yn(e,o)+50,classes:"markdown-node-label",useHtmlLabels:c,style:i},o);let h;if(c){const d=l.children[0],p=$e(l);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{const d=l.children[0];for(const p of d.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&p.setAttribute("style",i);h=l.getBBox(),h.height+=6}return s.attr("transform",`translate(${-h.width/2},${-h.height/2+r})`),h.height}k(vn,"addText");var g6=k(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Gk(t,e,{config:r}){const{labelStyles:i,nodeStyles:s}=Se(e);e.labelStyle=i||"";const o=10,c=e.width;e.width=(e.width??200)-10;const{shapeSvg:l,bbox:h,label:d}=await Oe(t,e,Fe(e)),p=e.padding||10;let m="",x;"ticket"in e&&e.ticket&&r?.kanban?.ticketBaseUrl&&(m=r?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),x=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const v={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let b,C;x?{label:b,bbox:C}=await Cf(x,"ticket"in e&&e.ticket||"",v):{label:b,bbox:C}=await Cf(l,"ticket"in e&&e.ticket||"",v);const{label:_,bbox:S}=await Cf(l,"assigned"in e&&e.assigned||"",v);e.width=c;const N=10,M=e?.width||0,P=Math.max(C.height,S.height)/2,D=Math.max(h.height+N*2,e?.height||0)+P,V=-M/2,z=-D/2;d.attr("transform","translate("+(p-M/2)+", "+(-P-h.height/2)+")"),b.attr("transform","translate("+(p-M/2)+", "+(-P+h.height/2)+")"),_.attr("transform","translate("+(p+M/2-S.width-2*o)+", "+(-P+h.height/2)+")");let q;const{rx:te,ry:Q}=e,{cssStyles:F}=e;if(e.look==="handDrawn"){const ee=we.svg(l),Z=_e(e,{}),U=te||Q?ee.path(Ei(V,z,M,D,te||0),Z):ee.rectangle(V,z,M,D,Z);q=l.insert(()=>U,":first-child"),q.attr("class","basic label-container").attr("style",F||null)}else{q=l.insert("rect",":first-child"),q.attr("class","basic label-container __APA__").attr("style",s).attr("rx",te??5).attr("ry",Q??5).attr("x",V).attr("y",z).attr("width",M).attr("height",D);const ee="priority"in e&&e.priority;if(ee){const Z=l.append("line"),U=V+2,j=z+Math.floor((te??0)/2),$=z+D-Math.floor((te??0)/2);Z.attr("x1",U).attr("y1",j).attr("x2",U).attr("y2",$).attr("stroke-width","4").attr("stroke",g6(ee))}}return Ne(e,q),e.height=D,e.intersect=function(ee){return me.rect(e,ee)},l}k(Gk,"kanbanItem");async function Xk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c,label:l}=await Oe(t,e,Fe(e)),h=o.width+10*c,d=o.height+8*c,p=.15*h,{cssStyles:m}=e,x=o.width+20,v=o.height+20,b=Math.max(h,x),C=Math.max(d,v);l.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`);let _;const S=`M0 0 
    a${p},${p} 1 0,0 ${b*.25},${-1*C*.1}
    a${p},${p} 1 0,0 ${b*.25},0
    a${p},${p} 1 0,0 ${b*.25},0
    a${p},${p} 1 0,0 ${b*.25},${C*.1}

    a${p},${p} 1 0,0 ${b*.15},${C*.33}
    a${p*.8},${p*.8} 1 0,0 0,${C*.34}
    a${p},${p} 1 0,0 ${-1*b*.15},${C*.33}

    a${p},${p} 1 0,0 ${-1*b*.25},${C*.15}
    a${p},${p} 1 0,0 ${-1*b*.25},0
    a${p},${p} 1 0,0 ${-1*b*.25},0
    a${p},${p} 1 0,0 ${-1*b*.25},${-1*C*.15}

    a${p},${p} 1 0,0 ${-1*b*.1},${-1*C*.33}
    a${p*.8},${p*.8} 1 0,0 0,${-1*C*.34}
    a${p},${p} 1 0,0 ${b*.1},${-1*C*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const N=we.svg(s),M=_e(e,{}),P=N.path(S,M);_=s.insert(()=>P,":first-child"),_.attr("class","basic label-container").attr("style",Kt(m))}else _=s.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",S);return _.attr("transform",`translate(${-b/2}, ${-C/2})`),Ne(e,_),e.calcIntersect=function(N,M){return me.rect(N,M)},e.intersect=function(N){return se.info("Bang intersect",e,N),me.rect(e,N)},s}k(Xk,"bang");async function Qk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c,label:l}=await Oe(t,e,Fe(e)),h=o.width+2*c,d=o.height+2*c,p=.15*h,m=.25*h,x=.35*h,v=.2*h,{cssStyles:b}=e;let C;const _=`M0 0 
    a${p},${p} 0 0,1 ${h*.25},${-1*h*.1}
    a${x},${x} 1 0,1 ${h*.4},${-1*h*.1}
    a${m},${m} 1 0,1 ${h*.35},${h*.2}

    a${p},${p} 1 0,1 ${h*.15},${d*.35}
    a${v},${v} 1 0,1 ${-1*h*.15},${d*.65}

    a${m},${p} 1 0,1 ${-1*h*.25},${h*.15}
    a${x},${x} 1 0,1 ${-1*h*.5},0
    a${p},${p} 1 0,1 ${-1*h*.25},${-1*h*.15}

    a${p},${p} 1 0,1 ${-1*h*.1},${-1*d*.35}
    a${v},${v} 1 0,1 ${h*.1},${-1*d*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const S=we.svg(s),N=_e(e,{}),M=S.path(_,N);C=s.insert(()=>M,":first-child"),C.attr("class","basic label-container").attr("style",Kt(b))}else C=s.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",_);return l.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`),C.attr("transform",`translate(${-h/2}, ${-d/2})`),Ne(e,C),e.calcIntersect=function(S,N){return me.rect(S,N)},e.intersect=function(S){return se.info("Cloud intersect",e,S),me.rect(e,S)},s}k(Qk,"cloud");async function Kk(t,e){const{labelStyles:r,nodeStyles:i}=Se(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c,label:l}=await Oe(t,e,Fe(e)),h=o.width+8*c,d=o.height+2*c,p=5,m=`
    M${-h/2} ${d/2-p}
    v${-d+2*p}
    q0,-${p} ${p},-${p}
    h${h-2*p}
    q${p},0 ${p},${p}
    v${d-2*p}
    q0,${p} -${p},${p}
    h${-h+2*p}
    q-${p},0 -${p},-${p}
    Z
  `,x=s.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",i).attr("d",m);return s.append("line").attr("class","node-line-").attr("x1",-h/2).attr("y1",d/2).attr("x2",h/2).attr("y2",d/2),l.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`),s.append(()=>l.node()),Ne(e,x),e.calcIntersect=function(v,b){return me.rect(v,b)},e.intersect=function(v){return me.rect(e,v)},s}k(Kk,"defaultMindmapNode");async function Zk(t,e){const r={padding:e.padding??0};return Mg(t,e,r)}k(Zk,"mindmapCircle");var m6=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Ek},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Tk},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Lk},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Dk},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Jw},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Mg},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Xk},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Qk},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Ck},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:ak},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:mk},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:gk},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Ok},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:fk},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:tk},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Pk},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Uw},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Nk},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Bk},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:jk},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:ik},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:ok},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Xw},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Qw},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Kw},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:xk},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Wk},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:sk},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Rk},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:yk},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Zw},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:ek},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:zk},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:qk},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:rk},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Ik},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:nk},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Ak},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:wk},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:bk},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:qw},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Gw},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Fk},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:$k},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Hk},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:_k},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:vk}],x6=k(()=>{const e=[...Object.entries({state:Mk,choice:Yw,note:kk,rectWithTitle:Sk,labelRect:pk,iconSquare:hk,iconCircle:ck,icon:lk,iconRounded:uk,imageSquare:dk,anchor:Hw,kanbanItem:Gk,mindmapCircle:Zk,defaultMindmapNode:Kk,classBox:Yk,erBox:jg,requirementBox:Vk}),...m6.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(s=>[s,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),Jk=x6();function y6(t){return t in Jk}k(y6,"isValidShape");var ch=new Map;async function eC(t,e,r){let i,s;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const o=e.shape?Jk[e.shape]:void 0;if(!o)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let c;r.config.securityLevel==="sandbox"?c="_top":e.linkTarget&&(c=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",c??null),s=await o(i,e,r)}else s=await o(t,e,r),i=s;return e.tooltip&&s.attr("title",e.tooltip),ch.set(e.id,i),e.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}k(eC,"insertNode");var RR=k((t,e)=>{ch.set(e.id,t)},"setNodeElem"),OR=k(()=>{ch.clear()},"clear"),IR=k(t=>{const e=ch.get(t.id);se.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},"positionNode"),v6=k((t,e,r,i,s,o)=>{e.arrowTypeStart&&Ky(t,"start",e.arrowTypeStart,r,i,s,o),e.arrowTypeEnd&&Ky(t,"end",e.arrowTypeEnd,r,i,s,o)},"addEdgeMarkers"),b6={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Ky=k((t,e,r,i,s,o,c)=>{const l=b6[r];if(!l){se.warn(`Unknown arrow type: ${r}`);return}const h=l.type,p=`${s}_${o}-${h}${e==="start"?"Start":"End"}`;if(c&&c.trim()!==""){const m=c.replace(/[^\dA-Za-z]/g,"_"),x=`${p}_${m}`;if(!document.getElementById(x)){const v=document.getElementById(p);if(v){const b=v.cloneNode(!0);b.id=x,b.querySelectorAll("path, circle, line").forEach(_=>{_.setAttribute("stroke",c),l.fill&&_.setAttribute("fill",c)}),v.parentNode?.appendChild(b)}}t.attr(`marker-${e}`,`url(${i}#${x})`)}else t.attr(`marker-${e}`,`url(${i}#${p})`)},"addEdgeMarker"),Fu=new Map,zt=new Map,zR=k(()=>{Fu.clear(),zt.clear()},"clear"),Dc=k(t=>t?t.reduce((r,i)=>r+";"+i,""):"","getLabelStyles"),w6=k(async(t,e)=>{let r=Bt(rt().flowchart.htmlLabels);const{labelStyles:i}=Se(e);e.labelStyle=i;const s=await Ai(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});se.info("abc82",e,e.labelType);const o=t.insert("g").attr("class","edgeLabel"),c=o.insert("g").attr("class","label").attr("data-id",e.id);c.node().appendChild(s);let l=s.getBBox();if(r){const d=s.children[0],p=$e(s);l=d.getBoundingClientRect(),p.attr("width",l.width),p.attr("height",l.height)}c.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),Fu.set(e.id,o),e.width=l.width,e.height=l.height;let h;if(e.startLabelLeft){const d=await ss(e.startLabelLeft,Dc(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),m=p.insert("g").attr("class","inner");h=m.node().appendChild(d);const x=d.getBBox();m.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),zt.get(e.id)||zt.set(e.id,{}),zt.get(e.id).startLeft=p,Mo(h,e.startLabelLeft)}if(e.startLabelRight){const d=await ss(e.startLabelRight,Dc(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),m=p.insert("g").attr("class","inner");h=p.node().appendChild(d),m.node().appendChild(d);const x=d.getBBox();m.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),zt.get(e.id)||zt.set(e.id,{}),zt.get(e.id).startRight=p,Mo(h,e.startLabelRight)}if(e.endLabelLeft){const d=await ss(e.endLabelLeft,Dc(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),m=p.insert("g").attr("class","inner");h=m.node().appendChild(d);const x=d.getBBox();m.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),p.node().appendChild(d),zt.get(e.id)||zt.set(e.id,{}),zt.get(e.id).endLeft=p,Mo(h,e.endLabelLeft)}if(e.endLabelRight){const d=await ss(e.endLabelRight,Dc(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),m=p.insert("g").attr("class","inner");h=m.node().appendChild(d);const x=d.getBBox();m.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),p.node().appendChild(d),zt.get(e.id)||zt.set(e.id,{}),zt.get(e.id).endRight=p,Mo(h,e.endLabelRight)}return s},"insertEdgeLabel");function Mo(t,e){rt().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}k(Mo,"setTerminalWidth");var k6=k((t,e)=>{se.debug("Moving label abc88 ",t.id,t.label,Fu.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const i=rt(),{subGraphTitleTotalMargin:s}=lg(i);if(t.label){const o=Fu.get(t.id);let c=t.x,l=t.y;if(r){const h=nn.calcLabelPosition(r);se.debug("Moving label "+t.label+" from (",c,",",l,") to (",h.x,",",h.y,") abc88"),e.updatedPath&&(c=h.x,l=h.y)}o.attr("transform",`translate(${c}, ${l+s/2})`)}if(t.startLabelLeft){const o=zt.get(t.id).startLeft;let c=t.x,l=t.y;if(r){const h=nn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);c=h.x,l=h.y}o.attr("transform",`translate(${c}, ${l})`)}if(t.startLabelRight){const o=zt.get(t.id).startRight;let c=t.x,l=t.y;if(r){const h=nn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);c=h.x,l=h.y}o.attr("transform",`translate(${c}, ${l})`)}if(t.endLabelLeft){const o=zt.get(t.id).endLeft;let c=t.x,l=t.y;if(r){const h=nn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);c=h.x,l=h.y}o.attr("transform",`translate(${c}, ${l})`)}if(t.endLabelRight){const o=zt.get(t.id).endRight;let c=t.x,l=t.y;if(r){const h=nn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);c=h.x,l=h.y}o.attr("transform",`translate(${c}, ${l})`)}},"positionEdgeLabel"),C6=k((t,e)=>{const r=t.x,i=t.y,s=Math.abs(e.x-r),o=Math.abs(e.y-i),c=t.width/2,l=t.height/2;return s>=c||o>=l},"outsideNode"),_6=k((t,e,r)=>{se.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const i=t.x,s=t.y,o=Math.abs(i-r.x),c=t.width/2;let l=r.x<e.x?c-o:c+o;const h=t.height/2,d=Math.abs(e.y-r.y),p=Math.abs(e.x-r.x);if(Math.abs(s-e.y)*c>Math.abs(i-e.x)*h){let m=r.y<e.y?e.y-h-s:s-h-e.y;l=p*m/d;const x={x:r.x<e.x?r.x+l:r.x-p+l,y:r.y<e.y?r.y+d-m:r.y-d+m};return l===0&&(x.x=e.x,x.y=e.y),p===0&&(x.x=e.x),d===0&&(x.y=e.y),se.debug(`abc89 top/bottom calc, Q ${d}, q ${m}, R ${p}, r ${l}`,x),x}else{r.x<e.x?l=e.x-c-i:l=i-c-e.x;let m=d*l/p,x=r.x<e.x?r.x+p-l:r.x-p+l,v=r.y<e.y?r.y+m:r.y-m;return se.debug(`sides calc abc89, Q ${d}, q ${m}, R ${p}, r ${l}`,{_x:x,_y:v}),l===0&&(x=e.x,v=e.y),p===0&&(x=e.x),d===0&&(v=e.y),{x,y:v}}},"intersection"),Zy=k((t,e)=>{se.warn("abc88 cutPathAtIntersect",t,e);let r=[],i=t[0],s=!1;return t.forEach(o=>{if(se.info("abc88 checking point",o,e),!C6(e,o)&&!s){const c=_6(e,i,o);se.debug("abc88 inside",o,i,c),se.debug("abc88 intersection",c,e);let l=!1;r.forEach(h=>{l=l||h.x===c.x&&h.y===c.y}),r.some(h=>h.x===c.x&&h.y===c.y)?se.warn("abc88 no intersect",c,r):r.push(c),s=!0}else se.warn("abc88 outside",o,i),i=o,s||r.push(o)}),se.debug("returning points",r),r},"cutPathAtIntersect");function tC(t){const e=[],r=[];for(let i=1;i<t.length-1;i++){const s=t[i-1],o=t[i],c=t[i+1];(s.x===o.x&&o.y===c.y&&Math.abs(o.x-c.x)>5&&Math.abs(o.y-s.y)>5||s.y===o.y&&o.x===c.x&&Math.abs(o.x-s.x)>5&&Math.abs(o.y-c.y)>5)&&(e.push(o),r.push(i))}return{cornerPoints:e,cornerPointPositions:r}}k(tC,"extractCornerPoints");var Jy=k(function(t,e,r){const i=e.x-t.x,s=e.y-t.y,o=Math.sqrt(i*i+s*s),c=r/o;return{x:e.x-c*i,y:e.y-c*s}},"findAdjacentPoint"),S6=k(function(t){const{cornerPointPositions:e}=tC(t),r=[];for(let i=0;i<t.length;i++)if(e.includes(i)){const s=t[i-1],o=t[i+1],c=t[i],l=Jy(s,c,5),h=Jy(o,c,5),d=h.x-l.x,p=h.y-l.y;r.push(l);const m=Math.sqrt(2)*2;let x={x:c.x,y:c.y};if(Math.abs(o.x-s.x)>10&&Math.abs(o.y-s.y)>=10){se.debug("Corner point fixing",Math.abs(o.x-s.x),Math.abs(o.y-s.y));const v=5;c.x===l.x?x={x:d<0?l.x-v+m:l.x+v-m,y:p<0?l.y-m:l.y+m}:x={x:d<0?l.x-m:l.x+m,y:p<0?l.y-v+m:l.y+v-m}}else se.debug("Corner point skipping fixing",Math.abs(o.x-s.x),Math.abs(o.y-s.y));r.push(x,h)}else r.push(t[i]);return r},"fixCorners"),T6=k((t,e,r)=>{const i=t-e-r,s=2,o=2,c=s+o,l=Math.floor(i/c),h=Array(l).fill(`${s} ${o}`).join(" ");return`0 ${e} ${h} ${r}`},"generateDashArray"),N6=k(function(t,e,r,i,s,o,c,l=!1){const{handDrawnSeed:h}=rt();let d=e.points,p=!1;const m=s;var x=o;const v=[];for(const U in e.cssCompiledStyles)j2(U)||v.push(e.cssCompiledStyles[U]);se.debug("UIO intersect check",e.points,x.x,m.x),x.intersect&&m.intersect&&!l&&(d=d.slice(1,e.points.length-1),d.unshift(m.intersect(d[0])),se.debug("Last point UIO",e.start,"-->",e.end,d[d.length-1],x,x.intersect(d[d.length-1])),d.push(x.intersect(d[d.length-1])));const b=btoa(JSON.stringify(d));e.toCluster&&(se.info("to cluster abc88",r.get(e.toCluster)),d=Zy(e.points,r.get(e.toCluster).node),p=!0),e.fromCluster&&(se.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(d,null,2)),d=Zy(d.reverse(),r.get(e.fromCluster).node).reverse(),p=!0);let C=d.filter(U=>!Number.isNaN(U.y));C=S6(C);let _=Wc;switch(_=ou,e.curve){case"linear":_=ou;break;case"basis":_=Wc;break;case"cardinal":_=hv;break;case"bumpX":_=av;break;case"bumpY":_=ov;break;case"catmullRom":_=fv;break;case"monotoneX":_=vv;break;case"monotoneY":_=bv;break;case"natural":_=kv;break;case"step":_=Cv;break;case"stepAfter":_=Sv;break;case"stepBefore":_=_v;break;default:_=Wc}const{x:S,y:N}=SL(e),M=H3().x(S).y(N).curve(_);let P;switch(e.thickness){case"normal":P="edge-thickness-normal";break;case"thick":P="edge-thickness-thick";break;case"invisible":P="edge-thickness-invisible";break;default:P="edge-thickness-normal"}switch(e.pattern){case"solid":P+=" edge-pattern-solid";break;case"dotted":P+=" edge-pattern-dotted";break;case"dashed":P+=" edge-pattern-dashed";break;default:P+=" edge-pattern-solid"}let D,V=e.curve==="rounded"?rC(nC(C,e),5):M(C);const z=Array.isArray(e.style)?e.style:[e.style];let q=z.find(U=>U?.startsWith("stroke:")),te=!1;if(e.look==="handDrawn"){const U=we.svg(t);Object.assign([],C);const j=U.path(V,{roughness:.3,seed:h});P+=" transition",D=$e(j).select("path").attr("id",e.id).attr("class"," "+P+(e.classes?" "+e.classes:"")).attr("style",z?z.reduce((O,E)=>O+";"+E,""):"");let $=D.attr("d");D.attr("d",$),t.node().appendChild(D.node())}else{const U=v.join(";"),j=z?z.reduce((G,ie)=>G+ie+";",""):"";let $="";e.animate&&($=" edge-animation-fast"),e.animation&&($=" edge-animation-"+e.animation);const O=(U?U+";"+j+";":j)+";"+(z?z.reduce((G,ie)=>G+";"+ie,""):"");D=t.append("path").attr("d",V).attr("id",e.id).attr("class"," "+P+(e.classes?" "+e.classes:"")+($??"")).attr("style",O),q=O.match(/stroke:([^;]+)/)?.[1],te=e.animate===!0||!!e.animation||U.includes("animation");const E=D.node(),L=typeof E.getTotalLength=="function"?E.getTotalLength():0,H=my[e.arrowTypeStart]||0,A=my[e.arrowTypeEnd]||0;if(e.look==="neo"&&!te){const ie=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?T6(L,H,A):`0 ${H} ${L-H-A} ${A}`}; stroke-dashoffset: 0;`;D.attr("style",ie+D.attr("style"))}}D.attr("data-edge",!0),D.attr("data-et","edge"),D.attr("data-id",e.id),D.attr("data-points",b),e.showPoints&&C.forEach(U=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",U.x).attr("cy",U.y)});let Q="";(rt().flowchart.arrowMarkerAbsolute||rt().state.arrowMarkerAbsolute)&&(Q=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Q=Q.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),se.info("arrowTypeStart",e.arrowTypeStart),se.info("arrowTypeEnd",e.arrowTypeEnd),v6(D,e,Q,c,i,q);const F=Math.floor(d.length/2),ee=d[F];nn.isLabelCoordinateInPath(ee,D.attr("d"))||(p=!0);let Z={};return p&&(Z.updatedPath=d),Z.originalPath=e.points,Z},"insertEdge");function rC(t,e){if(t.length<2)return"";let r="";const i=t.length,s=1e-5;for(let o=0;o<i;o++){const c=t[o],l=t[o-1],h=t[o+1];if(o===0)r+=`M${c.x},${c.y}`;else if(o===i-1)r+=`L${c.x},${c.y}`;else{const d=c.x-l.x,p=c.y-l.y,m=h.x-c.x,x=h.y-c.y,v=Math.hypot(d,p),b=Math.hypot(m,x);if(v<s||b<s){r+=`L${c.x},${c.y}`;continue}const C=d/v,_=p/v,S=m/b,N=x/b,M=C*S+_*N,P=Math.max(-1,Math.min(1,M)),D=Math.acos(P);if(D<s||Math.abs(Math.PI-D)<s){r+=`L${c.x},${c.y}`;continue}const V=Math.min(e/Math.sin(D/2),v/2,b/2),z=c.x-C*V,q=c.y-_*V,te=c.x+S*V,Q=c.y+N*V;r+=`L${z},${q}`,r+=`Q${c.x},${c.y} ${te},${Q}`}}return r}k(rC,"generateRoundedPath");function kp(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const r=e.x-t.x,i=e.y-t.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}k(kp,"calculateDeltaAndAngle");function nC(t,e){const r=t.map(s=>({...s}));if(t.length>=2&&Gt[e.arrowTypeStart]){const s=Gt[e.arrowTypeStart],o=t[0],c=t[1],{angle:l}=kp(o,c),h=s*Math.cos(l),d=s*Math.sin(l);r[0].x=o.x+h,r[0].y=o.y+d}const i=t.length;if(i>=2&&Gt[e.arrowTypeEnd]){const s=Gt[e.arrowTypeEnd],o=t[i-1],c=t[i-2],{angle:l}=kp(c,o),h=s*Math.cos(l),d=s*Math.sin(l);r[i-1].x=o.x-h,r[i-1].y=o.y-d}return r}k(nC,"applyMarkerOffsetsToPoints");var A6=k((t,e,r,i)=>{e.forEach(s=>{q6[s](t,r,i)})},"insertMarkers"),E6=k((t,e,r)=>{se.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),L6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),M6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),j6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),B6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),D6=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),$6=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),F6=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),P6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),R6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),O6=k((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),I6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),z6=k((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),W6=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),H6=k((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),q6={extension:E6,composition:L6,aggregation:M6,dependency:j6,lollipop:B6,point:D6,circle:$6,cross:F6,barb:P6,only_one:R6,zero_or_one:O6,one_or_more:I6,zero_or_more:z6,requirement_arrow:W6,requirement_contains:H6},U6=A6,Y6={common:ga,getConfig:Xt,insertCluster:e6,insertEdge:N6,insertEdgeLabel:w6,insertMarkers:U6,insertNode:eC,interpolateToCurve:fg,labelHelper:Oe,log:se,positionEdgeLabel:k6},Jo={},iC=k(t=>{for(const e of t)Jo[e.name]=e},"registerLayoutLoaders"),V6=k(()=>{iC([{name:"dagre",loader:k(async()=>await it(()=>import("./dagre-6UL2VRFP-DYARJQbF.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:k(async()=>await it(()=>import("./cose-bilkent-S5V4N54A-ZCPdditA.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");V6();var WR=k(async(t,e)=>{if(!(t.layoutAlgorithm in Jo))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=Jo[t.layoutAlgorithm];return(await r.loader()).render(t,e,Y6,{algorithm:r.algorithm})},"render"),HR=k((t="",{fallback:e="dagre"}={})=>{if(t in Jo)return t;if(e in Jo)return se.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),sC="comm",aC="rule",oC="decl",G6="@import",X6="@namespace",Q6="@keyframes",K6="@layer",lC=Math.abs,Bg=String.fromCharCode;function cC(t){return t.trim()}function Kc(t,e,r){return t.replace(e,r)}function Z6(t,e,r){return t.indexOf(e,r)}function Ks(t,e){return t.charCodeAt(e)|0}function fa(t,e,r){return t.slice(e,r)}function bn(t){return t.length}function J6(t){return t.length}function $c(t,e){return e.push(t),t}var uh=1,pa=1,uC=0,Ir=0,Tt=0,ba="";function Dg(t,e,r,i,s,o,c,l){return{value:t,root:e,parent:r,type:i,props:s,children:o,line:uh,column:pa,length:c,return:"",siblings:l}}function e$(){return Tt}function t$(){return Tt=Ir>0?Ks(ba,--Ir):0,pa--,Tt===10&&(pa=1,uh--),Tt}function an(){return Tt=Ir<uC?Ks(ba,Ir++):0,pa++,Tt===10&&(pa=1,uh++),Tt}function wi(){return Ks(ba,Ir)}function Zc(){return Ir}function hh(t,e){return fa(ba,t,e)}function el(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r$(t){return uh=pa=1,uC=bn(ba=t),Ir=0,[]}function n$(t){return ba="",t}function _f(t){return cC(hh(Ir-1,Cp(t===91?t+2:t===40?t+1:t)))}function i$(t){for(;(Tt=wi())&&Tt<33;)an();return el(t)>2||el(Tt)>3?"":" "}function s$(t,e){for(;--e&&an()&&!(Tt<48||Tt>102||Tt>57&&Tt<65||Tt>70&&Tt<97););return hh(t,Zc()+(e<6&&wi()==32&&an()==32))}function Cp(t){for(;an();)switch(Tt){case t:return Ir;case 34:case 39:t!==34&&t!==39&&Cp(Tt);break;case 40:t===41&&Cp(t);break;case 92:an();break}return Ir}function a$(t,e){for(;an()&&t+Tt!==57;)if(t+Tt===84&&wi()===47)break;return"/*"+hh(e,Ir-1)+"*"+Bg(t===47?t:an())}function o$(t){for(;!el(wi());)an();return hh(t,Ir)}function l$(t){return n$(Jc("",null,null,null,[""],t=r$(t),0,[0],t))}function Jc(t,e,r,i,s,o,c,l,h){for(var d=0,p=0,m=c,x=0,v=0,b=0,C=1,_=1,S=1,N=0,M="",P=s,D=o,V=i,z=M;_;)switch(b=N,N=an()){case 40:if(b!=108&&Ks(z,m-1)==58){Z6(z+=Kc(_f(N),"&","&\f"),"&\f",lC(d?l[d-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:z+=_f(N);break;case 9:case 10:case 13:case 32:z+=i$(b);break;case 92:z+=s$(Zc()-1,7);continue;case 47:switch(wi()){case 42:case 47:$c(c$(a$(an(),Zc()),e,r,h),h),(el(b||1)==5||el(wi()||1)==5)&&bn(z)&&fa(z,-1,void 0)!==" "&&(z+=" ");break;default:z+="/"}break;case 123*C:l[d++]=bn(z)*S;case 125*C:case 59:case 0:switch(N){case 0:case 125:_=0;case 59+p:S==-1&&(z=Kc(z,/\f/g,"")),v>0&&(bn(z)-m||C===0&&b===47)&&$c(v>32?t1(z+";",i,r,m-1,h):t1(Kc(z," ","")+";",i,r,m-2,h),h);break;case 59:z+=";";default:if($c(V=e1(z,e,r,d,p,s,l,M,P=[],D=[],m,o),o),N===123)if(p===0)Jc(z,e,V,V,P,o,m,l,D);else{switch(x){case 99:if(Ks(z,3)===110)break;case 108:if(Ks(z,2)===97)break;default:p=0;case 100:case 109:case 115:}p?Jc(t,V,V,i&&$c(e1(t,V,V,0,0,s,l,M,s,P=[],m,D),D),s,D,m,l,i?P:D):Jc(z,V,V,V,[""],D,0,l,D)}}d=p=v=0,C=S=1,M=z="",m=c;break;case 58:m=1+bn(z),v=b;default:if(C<1){if(N==123)--C;else if(N==125&&C++==0&&t$()==125)continue}switch(z+=Bg(N),N*C){case 38:S=p>0?1:(z+="\f",-1);break;case 44:l[d++]=(bn(z)-1)*S,S=1;break;case 64:wi()===45&&(z+=_f(an())),x=wi(),p=m=bn(M=z+=o$(Zc())),N++;break;case 45:b===45&&bn(z)==2&&(C=0)}}return o}function e1(t,e,r,i,s,o,c,l,h,d,p,m){for(var x=s-1,v=s===0?o:[""],b=J6(v),C=0,_=0,S=0;C<i;++C)for(var N=0,M=fa(t,x+1,x=lC(_=c[C])),P=t;N<b;++N)(P=cC(_>0?v[N]+" "+M:Kc(M,/&\f/g,v[N])))&&(h[S++]=P);return Dg(t,e,r,s===0?aC:l,h,d,p,m)}function c$(t,e,r,i){return Dg(t,e,r,sC,Bg(e$()),fa(t,2,-2),0,i)}function t1(t,e,r,i,s){return Dg(t,e,r,oC,fa(t,0,i),fa(t,i+1,-1),i,s)}function _p(t,e){for(var r="",i=0;i<t.length;i++)r+=e(t[i],i,t,e)||"";return r}function u$(t,e,r,i){switch(t.type){case K6:if(t.children.length)break;case G6:case X6:case oC:return t.return=t.return||t.value;case sC:return"";case Q6:return t.return=t.value+"{"+_p(t.children,i)+"}";case aC:if(!bn(t.value=t.props.join(",")))return""}return bn(r=_p(t.children,i))?t.return=t.value+"{"+r+"}":""}var h$=F2(Object.keys,Object),d$=Object.prototype,f$=d$.hasOwnProperty;function p$(t){if(!eh(t))return h$(t);var e=[];for(var r in Object(t))f$.call(t,r)&&r!="constructor"&&e.push(r);return e}var Sp=xs(Sn,"DataView"),Tp=xs(Sn,"Promise"),Np=xs(Sn,"Set"),Ap=xs(Sn,"WeakMap"),r1="[object Map]",g$="[object Object]",n1="[object Promise]",i1="[object Set]",s1="[object WeakMap]",a1="[object DataView]",m$=ms(Sp),x$=ms(Ko),y$=ms(Tp),v$=ms(Np),b$=ms(Ap),es=xa;(Sp&&es(new Sp(new ArrayBuffer(1)))!=a1||Ko&&es(new Ko)!=r1||Tp&&es(Tp.resolve())!=n1||Np&&es(new Np)!=i1||Ap&&es(new Ap)!=s1)&&(es=function(t){var e=xa(t),r=e==g$?t.constructor:void 0,i=r?ms(r):"";if(i)switch(i){case m$:return a1;case x$:return r1;case y$:return n1;case v$:return i1;case b$:return s1}return e});var w$="[object Map]",k$="[object Set]",C$=Object.prototype,_$=C$.hasOwnProperty;function o1(t){if(t==null)return!0;if(th(t)&&(Tu(t)||typeof t=="string"||typeof t.splice=="function"||hg(t)||dg(t)||Su(t)))return!t.length;var e=es(t);if(e==w$||e==k$)return!t.size;if(eh(t))return!p$(t).length;for(var r in t)if(_$.call(t,r))return!1;return!0}var hC="c4",S$=k(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),T$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-CaJDMbYe.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:hC,diagram:t}},"loader"),N$={id:hC,detector:S$,loader:T$},A$=N$,dC="flowchart",E$=k((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),L$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BOFH5W5r.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:dC,diagram:t}},"loader"),M$={id:dC,detector:E$,loader:L$},j$=M$,fC="flowchart-v2",B$=k((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),D$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BOFH5W5r.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:fC,diagram:t}},"loader"),$$={id:fC,detector:B$,loader:D$},F$=$$,pC="er",P$=k(t=>/^\s*erDiagram/.test(t),"detector"),R$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-De3KNcbA.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:pC,diagram:t}},"loader"),O$={id:pC,detector:P$,loader:R$},I$=O$,gC="gitGraph",z$=k(t=>/^\s*gitGraph/.test(t),"detector"),W$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-DP34MO3T.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:gC,diagram:t}},"loader"),H$={id:gC,detector:z$,loader:W$},q$=H$,mC="gantt",U$=k(t=>/^\s*gantt/.test(t),"detector"),Y$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./ganttDiagram-LVOFAZNH-kTCpvhqB.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:mC,diagram:t}},"loader"),V$={id:mC,detector:U$,loader:Y$},G$=V$,xC="info",X$=k(t=>/^\s*info/.test(t),"detector"),Q$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./infoDiagram-ER5ION4S-Bhc8Qr4H.js");return{diagram:e}},__vite__mapDeps([24,19,2,4,5]));return{id:xC,diagram:t}},"loader"),K$={id:xC,detector:X$,loader:Q$},yC="pie",Z$=k(t=>/^\s*pie/.test(t),"detector"),J$=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-DAVIruyO.js");return{diagram:e}},__vite__mapDeps([25,17,19,2,4,5,26,27,22]));return{id:yC,diagram:t}},"loader"),eF={id:yC,detector:Z$,loader:J$},vC="quadrantChart",tF=k(t=>/^\s*quadrantChart/.test(t),"detector"),rF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-BxXlsvcZ.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:vC,diagram:t}},"loader"),nF={id:vC,detector:tF,loader:rF},iF=nF,bC="xychart",sF=k(t=>/^\s*xychart(-beta)?/.test(t),"detector"),aF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-C6Mw9YiM.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:bC,diagram:t}},"loader"),oF={id:bC,detector:sF,loader:aF},lF=oF,wC="requirement",cF=k(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),uF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-DZR-8AL6.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:wC,diagram:t}},"loader"),hF={id:wC,detector:cF,loader:uF},dF=hF,kC="sequence",fF=k(t=>/^\s*sequenceDiagram/.test(t),"detector"),pF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-B1037jwI.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:kC,diagram:t}},"loader"),gF={id:kC,detector:fF,loader:pF},mF=gF,CC="class",xF=k((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),yF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-Cx54nAvR.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:CC,diagram:t}},"loader"),vF={id:CC,detector:xF,loader:yF},bF=vF,_C="classDiagram",wF=k((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),kF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-Cx54nAvR.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:_C,diagram:t}},"loader"),CF={id:_C,detector:wF,loader:kF},_F=CF,SC="state",SF=k((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),TF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-COzC8qCf.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:SC,diagram:t}},"loader"),NF={id:SC,detector:SF,loader:TF},AF=NF,TC="stateDiagram",EF=k((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),LF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-M_tOjae5.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:TC,diagram:t}},"loader"),MF={id:TC,detector:EF,loader:LF},jF=MF,NC="journey",BF=k(t=>/^\s*journey/.test(t),"detector"),DF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-DkLWir-r.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:NC,diagram:t}},"loader"),$F={id:NC,detector:BF,loader:DF},FF=$F,PF=k((t,e,r)=>{se.debug(`rendering svg for syntax error
`);const i=xE(e),s=i.append("g");i.attr("viewBox","0 0 2412 512"),Xv(i,100,512,!0),s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),AC={draw:PF},RF=AC,OF={db:{},renderer:AC,parser:{parse:k(()=>{},"parse")}},IF=OF,EC="flowchart-elk",zF=k((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),WF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BOFH5W5r.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:EC,diagram:t}},"loader"),HF={id:EC,detector:zF,loader:WF},qF=HF,LC="timeline",UF=k(t=>/^\s*timeline/.test(t),"detector"),YF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-fHgFQiaM.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:LC,diagram:t}},"loader"),VF={id:LC,detector:UF,loader:YF},GF=VF,MC="mindmap",XF=k(t=>/^\s*mindmap/.test(t),"detector"),QF=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-C3Jsgk1M.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:MC,diagram:t}},"loader"),KF={id:MC,detector:XF,loader:QF},ZF=KF,jC="kanban",JF=k(t=>/^\s*kanban/.test(t),"detector"),eP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-DkX759p2.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:jC,diagram:t}},"loader"),tP={id:jC,detector:JF,loader:eP},rP=tP,BC="sankey",nP=k(t=>/^\s*sankey(-beta)?/.test(t),"detector"),iP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-ulcdV16_.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:BC,diagram:t}},"loader"),sP={id:BC,detector:nP,loader:iP},aP=sP,DC="packet",oP=k(t=>/^\s*packet(-beta)?/.test(t),"detector"),lP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-DeeoCRpw.js");return{diagram:e}},__vite__mapDeps([43,17,19,2,4,5]));return{id:DC,diagram:t}},"loader"),cP={id:DC,detector:oP,loader:lP},$C="radar",uP=k(t=>/^\s*radar-beta/.test(t),"detector"),hP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-CfE6Eo4l.js");return{diagram:e}},__vite__mapDeps([44,17,19,2,4,5]));return{id:$C,diagram:t}},"loader"),dP={id:$C,detector:uP,loader:hP},FC="block",fP=k(t=>/^\s*block(-beta)?/.test(t),"detector"),pP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-DyW-emW4.js");return{diagram:e}},__vite__mapDeps([45,11,5,2,1,14]));return{id:FC,diagram:t}},"loader"),gP={id:FC,detector:fP,loader:pP},mP=gP,PC="architecture",xP=k(t=>/^\s*architecture/.test(t),"detector"),yP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-CliRL70h.js");return{diagram:e}},__vite__mapDeps([46,17,19,2,4,5,7]));return{id:PC,diagram:t}},"loader"),vP={id:PC,detector:xP,loader:yP},bP=vP,RC="treemap",wP=k(t=>/^\s*treemap/.test(t),"detector"),kP=k(async()=>{const{diagram:t}=await it(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-BKEfYqsu.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,2,4,5,23,27,22]));return{id:RC,diagram:t}},"loader"),CP={id:RC,detector:wP,loader:kP},l1=!1,dh=k(()=>{l1||(l1=!0,mu("error",IF,t=>t.toLowerCase().trim()==="error"),mu("---",{db:{clear:k(()=>{},"clear")},styles:{},renderer:{draw:k(()=>{},"draw")},parser:{parse:k(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:k(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),qf(qF,ZF,bP),qf(A$,rP,_F,bF,I$,G$,K$,eF,dF,mF,F$,j$,GF,q$,jF,AF,FF,iF,aP,cP,lF,mP,dP,CP))},"addDiagrams"),_P=k(async()=>{se.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(cs).map(async([r,{detector:i,loader:s}])=>{if(s)try{Gf(r)}catch{try{const{diagram:o,id:c}=await s();mu(c,o,i)}catch(o){throw se.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete cs[r],o}}}))).filter(r=>r.status==="rejected");if(e.length>0){se.error(`Failed to load ${e.length} external diagrams`);for(const r of e)se.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),SP="graphics-document document";function OC(t,e){t.attr("role",SP),e!==""&&t.attr("aria-roledescription",e)}k(OC,"setA11yDiagramInfo");function IC(t,e,r,i){if(t.insert!==void 0){if(r){const s=`chart-desc-${i}`;t.attr("aria-describedby",s),t.insert("desc",":first-child").attr("id",s).text(r)}if(e){const s=`chart-title-${i}`;t.attr("aria-labelledby",s),t.insert("title",":first-child").attr("id",s).text(e)}}}k(IC,"addSVGa11yTitleDescription");var os,Ep=(os=class{constructor(e,r,i,s,o){this.type=e,this.text=r,this.db=i,this.parser=s,this.renderer=o}static async fromText(e,r={}){const i=Xt(),s=Gp(e,i);e=CB(e)+`
`;try{Gf(s)}catch{const d=CA(s);if(!d)throw new Pv(`Diagram ${s} not found.`);const{id:p,diagram:m}=await d();mu(p,m)}const{db:o,parser:c,renderer:l,init:h}=Gf(s);return c.parser&&(c.parser.yy=o),o.clear?.(),h?.(i),r.title&&o.setDiagramTitle?.(r.title),await c.parse(e),new os(s,e,o,c,l)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},k(os,"Diagram"),os),c1=[],TP=k(()=>{c1.forEach(t=>{t()}),c1=[]},"attachFunctions"),NP=k(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function zC(t){const e=t.match(Fv);if(!e)return{text:t,metadata:{}};let r=_L(e[1],{schema:CL})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:t.slice(e[0].length),metadata:i}}k(zC,"extractFrontMatter");var AP=k(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),EP=k(t=>{const{text:e,metadata:r}=zC(t),{displayMode:i,title:s,config:o={}}=r;return i&&(o.gantt||(o.gantt={}),o.gantt.displayMode=i),{title:s,config:o,text:e}},"processFrontmatter"),LP=k(t=>{const e=nn.detectInit(t)??{},r=nn.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:i})=>i==="wrap"):r?.type==="wrap"&&(e.wrap=!0),{text:uB(t),directive:e}},"processDirectives");function $g(t){const e=AP(t),r=EP(e),i=LP(r.text),s=yg(r.config,i.directive);return t=NP(i.text),{code:t,title:r.title,config:s}}k($g,"preprocessDiagram");function WC(t){const e=new TextEncoder().encode(t),r=Array.from(e,i=>String.fromCodePoint(i)).join("");return btoa(r)}k(WC,"toBase64");var MP=5e4,jP="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",BP="sandbox",DP="loose",$P="http://www.w3.org/2000/svg",FP="http://www.w3.org/1999/xlink",PP="http://www.w3.org/1999/xhtml",RP="100%",OP="100%",IP="border:0;margin:0;",zP="margin:0",WP="allow-top-navigation-by-user-activation allow-popups",HP='The "iframe" tag is not supported by your browser.',qP=["foreignobject"],UP=["dominant-baseline"];function Fg(t){const e=$g(t);return pu(),OA(e.config??{}),e}k(Fg,"processAndSetConfigs");async function HC(t,e){dh();try{const{code:r,config:i}=Fg(t);return{diagramType:(await UC(r)).type,config:i}}catch(r){if(e?.suppressErrors)return!1;throw r}}k(HC,"parse");var u1=k((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),YP=k((t,e=new Map)=>{let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const c=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{o1(l.styles)||c.forEach(h=>{r+=u1(l.id,h,l.styles)}),o1(l.textStyles)||(r+=u1(l.id,"tspan",(l?.textStyles||[]).map(h=>h.replace("color","fill"))))})}return r},"createCssStyles"),VP=k((t,e,r,i)=>{const s=YP(t,r),o=sE(e,s,t.themeVariables);return _p(l$(`${i}{${o}}`),u$)},"createUserStyles"),GP=k((t="",e,r)=>{let i=t;return!r&&!e&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=ys(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),XP=k((t="",e)=>{const r=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":OP,i=WC(`<body style="${zP}">${t}</body>`);return`<iframe style="width:${RP};height:${r};${IP}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${WP}">
  ${HP}
</iframe>`},"putIntoIFrame"),h1=k((t,e,r,i,s)=>{const o=t.append("div");o.attr("id",r),i&&o.attr("style",i);const c=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",$P);return s&&c.attr("xmlns:xlink",s),c.append("g"),t},"appendDivSvgG");function Lp(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}k(Lp,"sandboxedIframe");var QP=k((t,e,r,i)=>{t.getElementById(e)?.remove(),t.getElementById(r)?.remove(),t.getElementById(i)?.remove()},"removeExistingElements"),KP=k(async function(t,e,r){dh();const i=Fg(e);e=i.code;const s=Xt();se.debug(s),e.length>(s?.maxTextSize??MP)&&(e=jP);const o="#"+t,c="i"+t,l="#"+c,h="d"+t,d="#"+h,p=k(()=>{const Z=$e(x?l:d).node();Z&&"remove"in Z&&Z.remove()},"removeTempElements");let m=$e("body");const x=s.securityLevel===BP,v=s.securityLevel===DP,b=s.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),x){const ee=Lp($e(r),c);m=$e(ee.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=$e(r);h1(m,t,h,`font-family: ${b}`,FP)}else{if(QP(document,t,h,c),x){const ee=Lp($e("body"),c);m=$e(ee.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=$e("body");h1(m,t,h)}let C,_;try{C=await Ep.fromText(e,{title:i.title})}catch(ee){if(s.suppressErrorRendering)throw p(),ee;C=await Ep.fromText("error"),_=ee}const S=m.select(d).node(),N=C.type,M=S.firstChild,P=M.firstChild,D=C.renderer.getClasses?.(e,C),V=VP(s,N,D,o),z=document.createElement("style");z.innerHTML=V,M.insertBefore(z,P);try{await C.renderer.draw(e,t,Jx.version,C)}catch(ee){throw s.suppressErrorRendering?p():RF.draw(e,t,Jx.version),ee}const q=m.select(`${d} svg`),te=C.db.getAccTitle?.(),Q=C.db.getAccDescription?.();YC(N,q,te,Q),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",PP);let F=m.select(d).node().innerHTML;if(se.debug("config.arrowMarkerAbsolute",s.arrowMarkerAbsolute),F=GP(F,x,Bt(s.arrowMarkerAbsolute)),x){const ee=m.select(d+" svg").node();F=XP(F,ee)}else v||(F=la.sanitize(F,{ADD_TAGS:qP,ADD_ATTR:UP,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(TP(),_)throw _;return p(),{diagramType:N,svg:F,bindFunctions:C.db.bindFunctions}},"render");function qC(t={}){const e=Mt({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),PA(e),e?.theme&&e.theme in Hn?e.themeVariables=Hn[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Hn.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?FA(e):Wv();Vp(r.logLevel),dh()}k(qC,"initialize");var UC=k((t,e={})=>{const{code:r}=$g(t);return Ep.fromText(r,e)},"getDiagramFromText");function YC(t,e,r,i){OC(e,t),IC(e,r,i,e.attr("id"))}k(YC,"addA11yInfo");var ps=Object.freeze({render:KP,parse:HC,getDiagramFromText:UC,initialize:qC,getConfig:Xt,setConfig:Hv,getSiteConfig:Wv,updateSiteConfig:RA,reset:k(()=>{pu()},"reset"),globalReset:k(()=>{pu(ca)},"globalReset"),defaultConfig:ca});Vp(Xt().logLevel);pu(Xt());var ZP=k((t,e,r)=>{se.warn(t),xg(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),VC=k(async function(t={querySelector:".mermaid"}){try{await JP(t)}catch(e){if(xg(e)&&se.error(e.str),Vn.parseError&&Vn.parseError(e),!t.suppressErrors)throw se.error("Use the suppressErrors option to suppress these errors"),e}},"run"),JP=k(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const i=ps.getConfig();se.debug(`${t?"":"No "}Callback function found`);let s;if(r)s=r;else if(e)s=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");se.debug(`Found ${s.length} diagrams`),i?.startOnLoad!==void 0&&(se.debug("Start On Load: "+i?.startOnLoad),ps.updateSiteConfig({startOnLoad:i?.startOnLoad}));const o=new nn.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let c;const l=[];for(const h of Array.from(s)){if(se.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const d=`mermaid-${o.next()}`;c=h.innerHTML,c=pw(nn.entityDecode(c)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=nn.detectInit(c);p&&se.debug("Detected early reinit: ",p);try{const{svg:m,bindFunctions:x}=await KC(d,c,h);h.innerHTML=m,t&&await t(d),x&&x(h)}catch(m){ZP(m,l,Vn.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),GC=k(function(t){ps.initialize(t)},"initialize"),eR=k(async function(t,e,r){se.warn("mermaid.init is deprecated. Please use run instead."),t&&GC(t);const i={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await VC(i)},"init"),tR=k(async(t,{lazyLoad:e=!0}={})=>{dh(),qf(...t),e===!1&&await _P()},"registerExternalDiagrams"),XC=k(function(){if(Vn.startOnLoad){const{startOnLoad:t}=ps.getConfig();t&&Vn.run().catch(e=>se.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",XC,!1);var rR=k(function(t){Vn.parseError=t},"setParseErrorHandler"),Pu=[],Sf=!1,QC=k(async()=>{if(!Sf){for(Sf=!0;Pu.length>0;){const t=Pu.shift();if(t)try{await t()}catch(e){se.error("Error executing queue",e)}}Sf=!1}},"executeQueue"),nR=k(async(t,e)=>new Promise((r,i)=>{const s=k(()=>new Promise((o,c)=>{ps.parse(t,e).then(l=>{o(l),r(l)},l=>{se.error("Error parsing",l),Vn.parseError?.(l),c(l),i(l)})}),"performCall");Pu.push(s),QC().catch(i)}),"parse"),KC=k((t,e,r)=>new Promise((i,s)=>{const o=k(()=>new Promise((c,l)=>{ps.render(t,e,r).then(h=>{c(h),i(h)},h=>{se.error("Error parsing",h),Vn.parseError?.(h),l(h),s(h)})}),"performCall");Pu.push(o),QC().catch(s)}),"render"),iR=k(()=>Object.keys(cs).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Vn={startOnLoad:!0,mermaidAPI:ps,parse:nR,render:KC,init:eR,run:VC,registerExternalDiagrams:tR,registerLayoutLoaders:iC,initialize:GC,parseError:void 0,contentLoaded:XC,setParseErrorHandler:rR,detectType:Gp,registerIconPacks:ND,getRegisteredDiagramsMetadata:iR},d1=Vn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const sR=t=>{const e=[],r=/```mermaid\s+?([\s\S]*?)```/g;let i;for(;i=r.exec(t);){const s=i.index,c=[...t.slice(0,s).matchAll(/^(#{1,6})\s+(.*)$/gm)],l=c.length?c[c.length-1][2].trim():"Diagram";e.push({title:l,code:i[1].trim()})}return e};function aR({src:t="/diagrams.md"}){const[e,r]=ne.useState("");ne.useEffect(()=>{let s=!0;return fetch(t,{cache:"no-store"}).then(o=>o.text()).then(o=>{s&&r(o)}).catch(o=>console.error("Error loading diagrams:",o)),()=>{s=!1}},[t]);const i=ne.useMemo(()=>sR(e),[e]);return ne.useEffect(()=>{d1.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose",fontFamily:"Inter, system-ui, Arial, sans-serif",sequence:{useMaxWidth:!0,wrap:!0},flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"}});const s=requestAnimationFrame(()=>{d1.init(void 0,document.querySelectorAll(".mermaid"))});return()=>cancelAnimationFrame(s)},[i]),f.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[i.map((s,o)=>f.jsxs("section",{className:"space-y-2 bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:[f.jsxs("h2",{className:"text-xl font-semibold text-blue-400",children:[o+1,". ",s.title]}),f.jsx("pre",{className:"mermaid bg-gray-900/30 p-4 rounded overflow-x-auto",children:s.code})]},o)),!i.length&&f.jsxs("p",{className:"opacity-70 text-center text-gray-400",children:["No Mermaid blocks found in ",t,"."]})]})}function oR(){return f.jsx("main",{className:"min-h-screen",style:{background:"#0b0f14",color:"#e6edf3"},children:f.jsxs("div",{className:"px-6 pt-8 pb-12",children:[f.jsxs("div",{className:"max-w-6xl mx-auto mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"AutonomOS  Live Architecture Diagrams"}),f.jsxs("p",{className:"text-gray-400 text-lg mb-2",children:["Rendered automatically from ",f.jsx("code",{className:"bg-gray-800 px-2 py-1 rounded text-sm text-blue-300",children:"/public/diagrams.md"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"All diagrams update in real-time as you edit the source file. No rebuild required."})]}),f.jsx(aR,{src:"/diagrams.md"})]})})}function lR(){const[t,e]=ne.useState("dashboard"),[r,i]=ne.useState(!1),[s,o]=ne.useState("login"),{legacyMode:c}=Ru();ne.useEffect(()=>{const p=m=>{const v=m.detail?.page;v&&e(v)};return window.addEventListener("navigate",p),()=>{window.removeEventListener("navigate",p)}},[]);const l=p=>{o(p),i(!0)},h=()=>{i(!1)},d=()=>{switch(t){case"dashboard":return f.jsx(Kx,{});case"lineage":return f.jsx(j4,{});case"connections":return f.jsx($4,{});case"ontology":return f.jsx(F4,{});case"aam-monitor":return f.jsx(I4,{});case"diagrams":return f.jsx(oR,{});case"faq":return f.jsx(P4,{});default:return f.jsx(Kx,{})}};return f.jsxs(f.Fragment,{children:[f.jsx(xT,{currentPage:t,onNavigate:e,onAuthOpen:l,children:d()}),r&&f.jsx(O4,{isOpen:r,onClose:h,initialMode:s})]})}function cR(){return f.jsx(GS,{children:f.jsx(VS,{children:f.jsx(lR,{})})})}const Fc={sources:[],agents:[],devMode:!1};function uR(){console.log("[DCL Bridge] Initializing..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("[DCL Bridge] DOM loaded, setting up DCL controls"),f1()}):(console.log("[DCL Bridge] DOM already loaded, setting up DCL controls"),f1())}function f1(){window.dclConnect=async function(t,e){const r=t||"dynamics,salesforce,hubspot",i=e||"revops_pilot,finops_pilot";console.log(`[DCL] Connecting sources: ${r}, agents: ${i}`);const s=encodeURIComponent(r),o=encodeURIComponent(i);try{const l=await(await fetch(`/dcl/connect?sources=${s}&agents=${o}`)).json();return console.log("[DCL Connect Success]",l),l}catch(c){throw console.error("[DCL Connect Error]",c),c}},window.dclReset=async function(){console.log("[DCL]  DEPRECATED: dclReset() is deprecated. Reset functionality removed - calling dclConnect() instead."),console.log("[DCL] Backend /dcl/connect is now idempotent and handles state clearing automatically.");try{const t=Fc.sources.length>0?Fc.sources.join(","):"dynamics,salesforce,hubspot",e=Fc.agents.length>0?Fc.agents.join(","):"revops_pilot,finops_pilot";return await window.dclConnect(t,e)}catch(t){throw console.error("[DCL] Error in deprecated dclReset():",t),t}},window.dclToggleDevMode=async function(){console.log("[DCL] Toggling dev mode...");try{const e=await(await fetch("/dcl/toggle_dev_mode")).json();return console.log("[DCL Toggle Dev Mode Success]",e),e}catch(t){throw console.error("[DCL Toggle Dev Mode Error]",t),t}},console.log("[DCL Bridge] Ready! Use:"),console.log("  - window.dclConnect() to connect sources"),console.log("  - window.dclReset() [DEPRECATED] calls dclConnect() - use dclConnect() instead"),console.log("  - window.dclToggleDevMode() to toggle dev mode"),console.log("  Note: State updates now use WebSocket instead of polling")}const hR="2025-10-25T12:10:00Z";window.__BUILD_ID__=hR;YS.createRoot(document.getElementById("root")).render(f.jsx(ne.StrictMode,{children:f.jsx(cR,{})}));uR();export{Qv as $,$o as A,V4 as B,pE as C,yg as D,Xt as E,zv as F,gB as G,xE as H,Jx as I,CL as J,EA as K,ua as L,AR as M,rh as N,GA as O,Xp as P,hy as Q,H3 as R,Wc as S,pB as T,il as U,rE as V,nl as W,be as X,De as Y,aB as Z,k as _,lE as a,th as a$,O3 as a0,Ix as a1,Ox as a2,wR as a3,mR as a4,vR as a5,yR as a6,pR as a7,qs as a8,Wp as a9,rB as aA,GM as aB,Xj as aC,cg as aD,o1 as aE,ED as aF,n4 as aG,J3 as aH,TR as aI,SR as aJ,_R as aK,g4 as aL,I3 as aM,NR as aN,PS as aO,cl as aP,ND as aQ,TD as aR,Rp as aS,bi as aT,Bx as aU,vN as aV,qo as aW,gs as aX,nB as aY,q2 as aZ,Ku as a_,bR as aa,gR as ab,CR as ac,kR as ad,xR as ae,e6 as af,eC as ag,IR as ah,SL as ai,Bt as aj,Ai as ak,lg as al,Tw as am,ys as an,Z2 as ao,Ue as ap,kn as aq,U6 as ar,OR as as,zR as at,PR as au,Ne as av,RR as aw,N6 as ax,k6 as ay,w6 as az,oE as b,Tu as b0,Y2 as b1,H2 as b2,Bj as b3,Se as b4,j2 as b5,vr as b6,dN as b7,Pp as b8,q1 as b9,HM as bA,ya as bB,Ni as bC,_y as bD,dg as bE,O2 as bF,Np as bG,iB as bH,eh as bI,it as bJ,rl as ba,V1 as bb,dR as bc,Y4 as bd,tB as be,Gj as bf,$M as bg,ug as bh,Ej as bi,sB as bj,ol as bk,xa as bl,Cu as bm,Ij as bn,p$ as bo,al as bp,Su as bq,Dj as br,P2 as bs,RM as bt,OM as bu,es as bv,Ey as bw,IM as bx,hg as by,PM as bz,rt as c,$e as d,Xv as e,Mt as f,uE as g,Yn as h,Or as i,ML as j,ga as k,se as l,ew as m,ER as n,HR as o,hE as p,dE as q,WR as r,cE as s,_L as t,nn as u,y6 as v,yB as w,MR as x,aE as y,LR as z};
