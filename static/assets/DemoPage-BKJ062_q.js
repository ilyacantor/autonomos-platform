import{j as e,g as N,r as d,d as h,P as v,h as w,c as x,N as f,D as g,i as k,k as C,l as _,n as A}from"./ui-vendor-BH17eeQC.js";import{A as u}from"./index-SsIXREZz.js";import"./react-vendor-D3F3s8fL.js";function S({stepNumber:r,title:n,description:t,children:o,instructions:c,openInNewTabHref:l}){return e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsx("div",{className:"flex-shrink-0 px-3 sm:px-4 lg:px-6 pt-4 sm:pt-6 pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-1 sm:mb-2 flex items-center gap-2 sm:gap-3 flex-wrap",children:[r&&e.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-cyan-500 to-purple-600 text-white text-sm sm:text-base font-bold flex-shrink-0",children:r}),e.jsx("span",{className:"truncate",children:n})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed line-clamp-2 sm:line-clamp-none",children:t})]}),l&&e.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 sm:px-4 sm:py-2 bg-cyan-600/20 hover:bg-cyan-600/30 border border-cyan-500/40 hover:border-cyan-500/60 rounded-lg text-cyan-400 hover:text-cyan-300 text-xs sm:text-sm font-medium transition-all duration-200 flex-shrink-0 self-start",children:[e.jsx("span",{className:"hidden xs:inline",children:"Open"})," Full Screen",e.jsx(N,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})]})}),e.jsx("div",{className:"flex-1 min-h-0 px-3 sm:px-4 lg:px-6 pb-2",children:e.jsx("div",{className:"h-full bg-gray-800 rounded-lg border border-gray-700/50 overflow-hidden shadow-lg",children:o})}),c&&e.jsx("div",{className:"flex-shrink-0 px-3 sm:px-4 lg:px-6 py-2 sm:py-3",children:e.jsxs("div",{className:"flex items-start gap-2 text-xs sm:text-sm text-gray-400 bg-gray-800/50 rounded-lg px-3 py-2 border border-gray-700/30",children:[e.jsx("span",{className:"text-cyan-400 font-medium flex-shrink-0",children:"Try this:"}),e.jsx("span",{className:"text-gray-300",children:c})]})})]})}const D={aod_discovery:x,aam_connect:f,dcl_unify:g},E={pending:"text-gray-400 border-gray-600/40",running:"text-cyan-400 border-cyan-500/50 animate-pulse",success:"text-green-400 border-green-500/50",failed:"text-red-400 border-red-500/50"},O=[{page:"aos-overview",label:"Overview",icon:x},{page:"discover",label:"AOD",icon:x},{page:"connect",label:"AAM",icon:f},{page:"unify-ask",label:"DCL",icon:g}];function L(){const[r,n]=d.useState(!1),[t,o]=d.useState(null),[c,l]=d.useState(null),p=d.useCallback(async s=>{try{const a=await fetch(u.buildApiUrl(`/demo/pipeline_status?job_id=${s}`));if(!a.ok)throw new Error("Failed to fetch status");const i=await a.json();o(i),i.status==="completed"||i.status==="failed"?n(!1):setTimeout(()=>p(s),1e3)}catch(a){l(a instanceof Error?a.message:"Unknown error"),n(!1)}},[]),y=async()=>{n(!0),l(null),o(null);try{const s=await fetch(u.buildApiUrl("/demo/run_pipeline"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to start pipeline");const a=await s.json();p(a.job_id)}catch(s){l(s instanceof Error?s.message:"Unknown error"),n(!1)}},b=s=>(D[s.name]||g,s.status==="running"?e.jsx(h,{className:"w-5 h-5 animate-spin"}):s.status==="success"?e.jsx(C,{className:"w-5 h-5"}):s.status==="failed"?e.jsx(_,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})),j=s=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{page:s}}))};return e.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:e.jsx(S,{title:"Run Full Demo",description:"Execute the complete AutonomOS pipeline in one click. Watch as data flows from Discovery through Connection to Unification.",instructions:"Click 'Run Full Demo' to see the entire pipeline in action. Then explore each step individually.",children:e.jsx("div",{className:"h-full overflow-auto p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:y,disabled:r,className:`inline-flex items-center gap-3 px-8 py-4 rounded-xl text-lg font-bold transition-all duration-300 ${r?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-500 hover:to-purple-500 text-white shadow-lg hover:shadow-xl hover:scale-105"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-6 h-6 animate-spin"}),"Running Pipeline..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-6 h-6"}),"Run Full Demo"]})}),t?.status==="completed"&&e.jsx("div",{className:"mt-4 text-green-400 font-medium",children:"Pipeline completed successfully!"}),c&&e.jsx("div",{className:"mt-4 text-red-400 font-medium",children:c})]}),(t||r)&&e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-4 py-3 border-b border-gray-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Pipeline Progress"}),t&&e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${t.status==="completed"?"bg-green-500/20 text-green-400":t.status==="failed"?"bg-red-500/20 text-red-400":"bg-cyan-500/20 text-cyan-400"}`,children:t.status.toUpperCase()})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:(t?.steps||[{name:"aod_discovery",display_name:"Discover (AOD)",status:"pending",message:"Waiting..."},{name:"aam_connect",display_name:"Connect (AAM)",status:"pending",message:"Waiting..."},{name:"dcl_unify",display_name:"Unify & Ask (DCL)",status:"pending",message:"Waiting..."}]).map((s,a)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full border-2 flex items-center justify-center ${E[s.status]}`,children:b(s)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-white",children:s.display_name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.status==="success"?"bg-green-500/20 text-green-400":s.status==="running"?"bg-cyan-500/20 text-cyan-400":s.status==="failed"?"bg-red-500/20 text-red-400":"bg-gray-700/50 text-gray-500"}`,children:s.status})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:s.message}),s.data&&Object.keys(s.data).length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Object.entries(s.data).slice(0,3).map(([i,m])=>e.jsxs("span",{className:"text-xs bg-gray-800 px-2 py-1 rounded text-gray-300",children:[i,": ",typeof m=="object"?JSON.stringify(m):String(m)]},i))})]}),a<2&&e.jsx("div",{className:"hidden sm:flex items-center text-gray-600 ml-2",children:e.jsx(w,{className:"w-4 h-4"})})]},s.name))})})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-4 py-3 border-b border-gray-700/50",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Explore Each Step"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:O.map(s=>{const a=s.icon;return e.jsxs("button",{onClick:()=>j(s.page),className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-gray-800/50 border border-gray-700/40 hover:border-cyan-500/50 hover:bg-gray-800 transition-all duration-200 group",children:[e.jsx(a,{className:"w-6 h-6 text-gray-400 group-hover:text-cyan-400 transition-colors"}),e.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-white transition-colors",children:s.label})]},s.page)})})})]}),e.jsx("div",{className:"bg-amber-900/20 border border-amber-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-300",children:"Demo Mode Active"}),e.jsx("p",{className:"text-sm text-amber-200/70 mt-1",children:"Running with stub responses. Connect AOD, AAM, and DCL v2 services for live data."})]})]})})]})})})})}export{L as default};
