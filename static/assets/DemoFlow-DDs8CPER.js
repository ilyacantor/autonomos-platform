import{r as n,j as e,Q as b,X as j,V as v,Y as w,P as N}from"./ui-vendor-DAhKCcWB.js";import{D as S}from"./index-CcSpQbcI.js";import"./react-vendor-D3F3s8fL.js";function k({title:r,children:a,onClose:d,visible:i}){const l=n.useRef(null),[c,p]=n.useState({x:32,y:32}),[o,h]=n.useState(!1),x=n.useRef({x:0,y:0}),u=n.useCallback(m=>{l.current&&(h(!0),x.current={x:m.clientX-c.x,y:m.clientY-c.y})},[c]);return n.useEffect(()=>{if(!o)return;const m=t=>{p({x:t.clientX-x.current.x,y:t.clientY-x.current.y})},g=()=>{h(!1)};return window.addEventListener("mousemove",m),window.addEventListener("mouseup",g),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)}},[o]),n.useEffect(()=>{i&&p({x:32,y:32})},[i]),i?e.jsxs("div",{ref:l,className:"fixed z-50 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl shadow-black/50",style:{left:c.x,top:c.y,maxWidth:420,minWidth:320},children:[e.jsxs("div",{onMouseDown:u,className:`flex items-center justify-between px-4 py-3 border-b border-gray-800 ${o?"cursor-grabbing":"cursor-grab"} select-none`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-200",children:r})]}),e.jsx("button",{onClick:d,className:"p-1 hover:bg-gray-800 rounded transition-colors",title:"Close (Esc)",children:e.jsx(j,{className:"w-4 h-4 text-gray-500"})})]}),e.jsx("div",{className:"p-4",children:a})]}):null}function C({x:r,y:a,label:d,visible:i}){return i?e.jsxs("div",{style:{position:"absolute",left:`${r}%`,top:`${a}%`,transform:"translate(-50%, -50%)",zIndex:45,pointerEvents:"none"},children:[e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:40,height:40,marginTop:-20,marginLeft:-20,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.15)",animation:"laser-ping 1.5s cubic-bezier(0,0,0.2,1) infinite"}}),e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:24,height:24,marginTop:-12,marginLeft:-12,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.25)",filter:"blur(4px)"}}),e.jsx("div",{style:{position:"relative",width:14,height:14,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:"#ffffff",boxShadow:"0 0 16px 6px rgba(255,255,255,0.6), 0 0 40px 12px rgba(255,255,255,0.25)"}})}),d&&e.jsxs("div",{style:{position:"absolute",left:24,top:"50%",transform:"translateY(-50%)",whiteSpace:"nowrap",backgroundColor:"rgba(17,24,39,0.95)",border:"1px solid rgba(75,85,99,0.7)",color:"#e5e7eb",fontSize:12,fontWeight:500,padding:"6px 10px",borderRadius:6,boxShadow:"0 4px 12px rgba(0,0,0,0.4)"},children:[e.jsx("span",{style:{color:"#22d3ee",marginRight:4},children:"▶"}),d]}),e.jsx("style",{children:`
        @keyframes laser-ping {
          0% { transform: scale(1); opacity: 1; }
          75%, 100% { transform: scale(2.2); opacity: 0; }
        }
      `})]}):null}const y=[{id:"nlq-start",iframeSrc:"https://nlq.autonomos.software",iframeTitle:"NLQ - Natural Language Query",label:"NLQ",modalTitle:"Step 1 — Ask a Question",modalBody:e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:["A user asks: ",e.jsx("span",{className:"text-cyan-400 font-medium",children:'"Why did revenue increase last quarter?"'})]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Select the preset in the NLQ console to see the answer generated in real-time. Under the hood, four systems coordinate to produce this answer."}),e.jsx("p",{className:"text-gray-500 text-xs",children:"The answer you see is live — not a screenshot."})]}),nextLabel:"See how this works under the hood →",pointer:{x:50,y:35,label:"Select a preset query"}},{id:"aod",iframeSrc:"https://discover.autonomos.software/",iframeTitle:"AOD Discovery",label:"AOD",modalTitle:"Step 2 — Discover What Exists",modalBody:e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:[e.jsx("span",{className:"text-cyan-400 font-medium",children:"AOS Discover (AOD)"})," scans the enterprise to find every system, API, and data source."]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"The console tab shows pre-loaded scan results — Salesforce, HubSpot, Stripe, and internal databases detected automatically."}),e.jsx("p",{className:"text-gray-500 text-xs",children:"No credentials needed — AOD uses metadata discovery."})]}),nextLabel:"How do we connect to them? →",pointer:{x:50,y:45,label:"View scan results"}},{id:"aam",iframeSrc:"https://aam.autonomos.software/ui/topology",iframeTitle:"AAM Mesh Interface",label:"AAM",modalTitle:"Step 3 — Blueprint the Connections",modalBody:e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:[e.jsx("span",{className:"text-cyan-400 font-medium",children:"Adaptive API Mesh (AAM)"})," blueprints how to connect to each discovered system and dispatches work orders."]}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"The topology view shows live pipe configurations and dispatch runners. AAM handles auth, rate limiting, and schema negotiation."}),e.jsxs("div",{className:"bg-cyan-900/30 border border-cyan-700/40 rounded p-2.5 mb-3",children:[e.jsx("p",{className:"text-cyan-300 text-xs font-medium mb-1",children:"Action required"}),e.jsxs("p",{className:"text-gray-300 text-xs leading-relaxed",children:["Click the ",e.jsx("span",{className:"text-white font-semibold",children:"Reset"})," button on the left side panel to load the topology visualization."]})]}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Each connection is a managed pipe — not a point-to-point integration."})]}),nextLabel:"How does the data get meaning? →",pointer:{x:4,y:50,label:"Click Reset"}},{id:"dcl",iframeSrc:"https://dcl.autonomos.software",iframeTitle:"DCL - Data Connectivity Layer",label:"DCL",modalTitle:"Step 4 — Map Fields to Business Concepts",modalBody:e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:[e.jsx("span",{className:"text-cyan-400 font-medium",children:"Data Connectivity Layer (DCL)"})," maps every raw field to a canonical business concept."]}),e.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:["The Sankey visualization shows how vendor-specific fields (e.g. sf_amount, hs_dealvalue) unify into a single ",e.jsx("code",{className:"text-cyan-400/80",children:"revenue"})," concept."]}),e.jsx("p",{className:"text-gray-500 text-xs",children:"This is schema-on-write — validation happens before storage."})]}),nextLabel:"Back to the answer →",pointer:{x:50,y:50,label:"Explore the field mappings"}},{id:"nlq-return",iframeSrc:"https://nlq.autonomos.software",iframeTitle:"NLQ - Natural Language Query",label:"NLQ",modalTitle:"Step 5 — The Complete Answer",modalBody:e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:"All of that happened in under 2 seconds to answer the question."}),e.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded p-3 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium uppercase tracking-wide",children:"Provenance trail"}),e.jsxs("div",{className:"space-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 shrink-0"}),e.jsxs("span",{className:"text-gray-400",children:[e.jsx("span",{className:"text-gray-300",children:"AOD"})," discovered 4 connected systems"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 shrink-0"}),e.jsxs("span",{className:"text-gray-400",children:[e.jsx("span",{className:"text-gray-300",children:"AAM"})," pulled revenue data via 3 pipes"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-400 shrink-0"}),e.jsxs("span",{className:"text-gray-400",children:[e.jsx("span",{className:"text-gray-300",children:"DCL"})," unified 12 fields into canonical revenue"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 shrink-0"}),e.jsxs("span",{className:"text-gray-400",children:[e.jsx("span",{className:"text-gray-300",children:"NLQ"})," composed the answer with citations"]})]})]})]}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Every answer in AOS carries full provenance — no black boxes."})]})}];function M({onExit:r}){const[a,d]=n.useState(0),[i,l]=n.useState(!0),[c,p]=n.useState(()=>new Set([0])),o=y[a],h=a===0,x=a===y.length-1,u=n.useCallback(()=>{if(!x){const t=a+1;d(t),p(s=>new Set(s).add(t)),l(!0)}},[x,a]),m=n.useCallback(()=>{if(!h){const t=a-1;d(t),p(s=>new Set(s).add(t)),l(!0)}},[h,a]),g=n.useCallback(()=>{l(!1)},[]);return n.useEffect(()=>{const t=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement))switch(s.key){case"ArrowRight":s.preventDefault(),u();break;case"ArrowLeft":s.preventDefault(),m();break;case"Escape":s.preventDefault(),i?g():r();break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[u,m,g,i,r]),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"h-12 bg-gray-900/95 border-b border-gray-800 flex items-center px-4 gap-3 shrink-0",children:[e.jsx("button",{onClick:m,disabled:h,className:`p-1.5 rounded transition-colors ${h?"text-gray-700 cursor-not-allowed":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,title:"Previous step (←)",children:e.jsx(v,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1.5",children:y.map((t,s)=>e.jsxs("button",{onClick:()=>{d(s),p(f=>new Set(f).add(s)),l(!0)},className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium transition-all ${s===a?"bg-cyan-500/20 text-cyan-400 ring-1 ring-cyan-500/40":s<a?"bg-gray-800 text-gray-400 hover:text-gray-300":"bg-gray-800/50 text-gray-600 hover:text-gray-500"}`,children:[e.jsx("span",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[10px] font-bold bg-gray-700/80",children:s+1}),t.label]},t.id))}),e.jsx("button",{onClick:u,disabled:x,className:`p-1.5 rounded transition-colors ${x?"text-gray-700 cursor-not-allowed":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,title:"Next step (→)",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1"}),!i&&e.jsx("button",{onClick:()=>l(!0),className:"text-xs text-gray-500 hover:text-gray-300 transition-colors px-2 py-1 rounded hover:bg-gray-800",children:"Show info panel"}),e.jsx("span",{className:"text-[10px] text-gray-600 hidden sm:inline",children:"← → navigate · Esc close"}),e.jsx("button",{onClick:r,className:"text-xs text-gray-500 hover:text-gray-300 px-2 py-1 rounded hover:bg-gray-800 transition-colors",children:"Exit demo"})]}),e.jsxs("div",{className:"flex-1 relative min-h-0",children:[L(y,c).map(({src:t,title:s})=>e.jsx("div",{className:"absolute inset-0",style:{display:A(o,t)?"block":"none"},children:e.jsx(S,{src:t,title:s})},t)),o.pointer&&e.jsx("div",{style:{position:"absolute",inset:0,zIndex:40,pointerEvents:"none"},children:e.jsx(C,{x:o.pointer.x,y:o.pointer.y,label:o.pointer.label,visible:!0})}),e.jsxs(k,{title:o.modalTitle,onClose:g,visible:i,children:[o.modalBody,o.nextLabel&&e.jsx("button",{onClick:u,className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-500 text-white text-sm font-medium rounded-lg transition-colors",children:o.nextLabel}),x&&e.jsxs("button",{onClick:r,className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-700 hover:bg-gray-600 text-gray-200 text-sm font-medium rounded-lg transition-colors",children:[e.jsx(N,{className:"w-3.5 h-3.5"}),"Explore freely"]})]})]})]})}function L(r,a){const d=new Set,i=[];for(let l=0;l<r.length;l++){if(!a.has(l))continue;const c=r[l];d.has(c.iframeSrc)||(d.add(c.iframeSrc),i.push({src:c.iframeSrc,title:c.iframeTitle}))}return i}function A(r,a){return r.iframeSrc===a}export{M as default};
