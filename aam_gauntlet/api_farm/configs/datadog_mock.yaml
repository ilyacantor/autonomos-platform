id: datadog_mock
protocol: rest
base_path: /api/datadog
resources:
  - name: metrics
    endpoints:
      - method: GET
        path: /v1/metrics
      - method: POST
        path: /v1/series
  - name: logs
    endpoints:
      - method: POST
        path: /v2/logs
auth:
  type: api_key
  token_ttl_seconds: 0
rate_limit:
  max_rps: 50
  burst: 200
error_profile: mostly_ok
network_profile: normal
schema:
  version: 1
  fields:
    - name: metric
      type: string
    - name: points
      type: array
    - name: tags
      type: array
    - name: host
      type: string
drift_schedule:
  - trigger: calls_count
    threshold: 100
    action: rename_field
    from_field: metric
    to_field: metric_name
tenants:
  - id: tenant1