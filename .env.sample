# AutonomOS Platform Configuration
# Copy this file to .env and configure with your actual values

# ═══════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
POSTGRES_URL=postgresql://user:password@localhost:5432/autonomos
DATABASE_URL=postgresql://user:password@localhost:5432/autonomos

# ═══════════════════════════════════════════════════════════════════
# REDIS CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ═══════════════════════════════════════════════════════════════════
# JWT AUTHENTICATION
# ═══════════════════════════════════════════════════════════════════
JWT_SECRET=your-secret-key-min-32-characters-long
JWT_SECRET_KEY=your-secret-key-min-32-characters-long
JWT_ISSUER=autonomos.dev
JWT_AUDIENCE=aos.agents
JWT_EXPIRE_MINUTES=30
SECRET_KEY=your-secret-key-min-32-characters-long

# ═══════════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════════
# Enable file-based source connector for CSV ingestion
FEATURE_USE_FILESOURCE=true

# Enable automatic drift repair (>=0.85 confidence threshold)
FEATURE_DRIFT_AUTOFIX=false

# Enable AAM monitoring dashboard polling
MONITOR_POLLING=false

# ═══════════════════════════════════════════════════════════════════
# GATEWAY CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
# Rate limiting: requests per minute per tenant
RATE_LIMIT_RPM=60

# Rate limiting: burst allowance
RATE_LIMIT_BURST=10

# Idempotency key cache duration (minutes)
IDEMPOTENCY_CACHE_MINUTES=10

# Build SHA for health endpoint (auto-generated in CI/CD)
BUILD_SHA=local-dev

# ═══════════════════════════════════════════════════════════════════
# AAM SERVICES CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
# Orchestrator service
ORCHESTRATOR_PORT=8001
ORCHESTRATOR_URL=http://localhost:8001

# Drift Repair Agent
DRIFT_REPAIR_PORT=8003
DRIFT_REPAIR_URL=http://localhost:8003

# Schema Observer
SCHEMA_OBSERVER_PORT=8004
SCHEMA_OBSERVER_URL=http://localhost:8004

# RAG Engine
RAG_ENGINE_PORT=8005
RAG_ENGINE_URL=http://localhost:8005

# Confidence threshold for auto-repair (0.0-1.0)
DRIFT_REPAIR_CONFIDENCE_THRESHOLD=0.85

# ═══════════════════════════════════════════════════════════════════
# AIRBYTE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
AIRBYTE_API_URL=http://localhost:8000/api/v1
AIRBYTE_WORKSPACE_ID=your-workspace-id

# ═══════════════════════════════════════════════════════════════════
# EXTERNAL INTEGRATIONS
# ═══════════════════════════════════════════════════════════════════
# Slack webhook for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# CORS allowed origins
ALLOWED_WEB_ORIGIN=http://localhost:3000

# ═══════════════════════════════════════════════════════════════════
# DCL ENGINE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
# DuckDB registry path
DCL_REGISTRY_PATH=./app/dcl_engine/registry.duckdb

# Enable DCL dev mode
DCL_DEV_MODE=false

# ═══════════════════════════════════════════════════════════════════
# LOGGING CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
LOG_LEVEL=INFO
LOG_FORMAT=json

# ═══════════════════════════════════════════════════════════════════
# DEVELOPMENT ONLY
# ═══════════════════════════════════════════════════════════════════
# Enable debug mode (DO NOT use in production)
DEBUG=false

# Enable verbose logging
VERBOSE=false
